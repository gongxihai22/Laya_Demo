var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtGameConfig_1 = require("./MtGameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(MtGameConfig_1.default.width, MtGameConfig_1.default.height);
        else
            Laya.init(MtGameConfig_1.default.width, MtGameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = MtGameConfig_1.default.scaleMode;
        Laya.stage.screenMode = MtGameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = MtGameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (MtGameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (MtGameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (MtGameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        MtGameConfig_1.default.startScene && Laya.Scene.open(MtGameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./MtGameConfig":2}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "portal/Loading.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":18}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ResManager_1 = require("../Resource/ResManager");
var GameManager_1 = require("../GameManager");
var Common_1 = require("../Common/Common");
var NameConfig_1 = require("../Configure/NameConfig");
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var LabelUpdate_1 = require("../Component/LabelUpdate");
/**
 * BIM管理类，用于加载、初始化模型；模型打包格式为.lh文件，以层为单位
 * 颜色记录也在此
 */
var BIMManager = /** @class */ (function () {
    function BIMManager() {
        this.m_3dlabelDisappearDistance = 80;
        this.m_3dlabelTotalDisappearDistance = 180;
        this.m_2dlabelDisappearDistance = 100;
        this.m_2dlabelTotalDisappearDistance = 180;
        this.m_defaultFloorColor = "#DC143C";
        /**
         * ************************************************暂时先将设置颜色的方法放到BIM内********************************
         */
        /**
        * 记录设置颜色后的材质球；
        */
        this.MaterialsDic = new Laya.WeakObject();
        this.m_spaceDic = new Laya.WeakObject();
        this.m_levelSpsceDic = new Laya.WeakObject();
        this.m_levelRes = new Laya.WeakObject();
        this.Levels = new Array();
        this.AddEvents();
    }
    BIMManager.prototype.AddEvents = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnCameraDistanceChanged.toString(), this, this.ShowHideTagsByDistance);
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnDepTreeItemClicked.toString(), this, this.SetOneLevelFloorColor);
    };
    /**
     * 加载所有楼层资源，并初始化楼板，默认隐藏，GameManager中开启默认层
     * 回调函数若需要执行多次，则需要将once置为false
     * @param resUrl
     * @param onComplete
     */
    BIMManager.prototype.LoadRes = function (resUrl, onComplete) {
        var _this = this;
        if (resUrl == null || resUrl.length == 0)
            return;
        var index = 0;
        ResManager_1.default.Instance().LoadPrefabAssets(resUrl, Laya.Handler.create(this, function (url, res) {
            //初始化3D场景，初始化一次
            GameManager_1.default.Instance().Init3DScene();
            //将资源加入场景
            GameManager_1.default.Instance().MainScene.addChild(res);
            //遍历所有资源
            _this.TravelMeshSprite3D(res);
            //资源默认隐藏
            res.active = false;
            //获得所有楼层
            var level = Common_1.default.ParseLoadLevel(url);
            _this.Levels.push(level);
            //记录当前楼层资源
            if (!_this.m_levelRes.has(level)) {
                _this.m_levelRes.set(level, res);
            }
            index++;
            if (index == resUrl.length) {
                //设置默认的楼层为第一个
                _this.CurrenLevel = _this.Levels[0];
                onComplete.apply();
            }
        }, null, false));
    };
    /**
     * 刷新当前显示楼层Tags的内容，通过标签类型LabelType来改变;
     * @param type 标签类型
     */
    BIMManager.prototype.RefreshLabelContent = function (type) {
        var _this = this;
        if (this.CurrenLevel == null ||
            this.m_levelSpsceDic == null ||
            this.m_spaceDic == null)
            return;
        if (this.m_levelSpsceDic.has(this.CurrenLevel)) {
            this.m_levelSpsceDic.get(this.CurrenLevel).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floor = _this.m_spaceDic.get(element);
                    if (floor == null)
                        return;
                    switch (type) {
                        case LabelType.Depart:
                            floor.label.text = floor.Organiaztion;
                            _this.SetHexColor(floor.Object, floor.organizationColor);
                            break;
                        case LabelType.Area:
                            floor.label.text = floor.area;
                            break;
                        case LabelType.Usage:
                            floor.label.text = floor.usage;
                            _this.SetHexColor(floor.Object, floor.usageColor);
                            break;
                    }
                }
            });
        }
    };
    /**
     *
     * @param b 显示或隐藏全部楼层，显示全部楼层时，要关掉tags
     */
    BIMManager.prototype.ShowAllLevels = function (b) {
        var _this = this;
        if (this.Levels == null || this.Levels.length == 0)
            return;
        this.Levels.forEach(function (element) {
            if (b) {
                _this.ShowOneLevelFloors(element, true);
            }
            else {
                _this.HideOneLevelFloors(element);
            }
        });
    };
    /**
     * 显示隐藏楼层及楼层Tag
     * @param level 楼层
     * @param b 显/隐
     */
    BIMManager.prototype.ShowOneLevelFloors = function (level, isShowAll) {
        var _this = this;
        if (level == null)
            return;
        //开启levelRoot
        if (this.m_levelRes.has(level)) {
            var res = this.m_levelRes.get(level);
            res.active = true;
        }
        if (this.m_levelSpsceDic.has(level)) {
            this.m_levelSpsceDic.get(level).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floorItem = _this.m_spaceDic.get(element);
                    if (floorItem != null && floorItem.label != null) {
                        if (isShowAll) {
                            floorItem.label.visible = false;
                        }
                        else {
                            floorItem.label.visible = true;
                        }
                    }
                }
            });
        }
        this.CurrenLevel = level;
    };
    BIMManager.prototype.HideOneLevelFloors = function (level) {
        var _this = this;
        if (level == null)
            return;
        //开启levelRoot
        if (this.m_levelRes.has(level)) {
            var res = this.m_levelRes.get(level);
            res.active = false;
        }
        if (this.m_levelSpsceDic.has(level)) {
            this.m_levelSpsceDic.get(level).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floorItem = _this.m_spaceDic.get(element);
                    if (floorItem != null) {
                        if (floorItem.label != null) {
                            floorItem.label.visible = false;
                        }
                    }
                }
            });
        }
    };
    /**
     * 通过Code获取一个FloorItem
     * @param code
     */
    BIMManager.prototype.GetOneFloorItem = function (code) {
        if (code == null)
            return null;
        if (this.m_spaceDic.has(code)) {
            return this.m_spaceDic.get(code);
        }
        else {
            return null;
        }
    };
    BIMManager.prototype.GetOneFloorSprite3D = function (code) {
        if (code == null)
            return null;
        if (this.m_spaceDic.has(code)) {
            var floor = this.m_spaceDic.get(code);
            return floor.Object;
        }
        else {
            return null;
        }
    };
    BIMManager.prototype.TravelMeshSprite3D = function (parent) {
        if (parent == null)
            return;
        for (var i = 0; i < parent._children.length; i++) {
            var meshSprite3D = parent.getChildAt(i);
            if (meshSprite3D != null) {
                if (meshSprite3D.meshFilter != null
                    && meshSprite3D.parent.name == NameConfig_1.default.floor) {
                    this.InstantiateFloorItem(meshSprite3D);
                }
                else {
                    this.TravelMeshSprite3D(meshSprite3D);
                }
            }
        }
    };
    /**
     * 对象化Floor
     * @param floor
     */
    BIMManager.prototype.InstantiateFloorItem = function (floor) {
        if (floor == null)
            return;
        var meshName = floor.name;
        var data = GameManager_1.default.Instance().Data.GetOneSpaceData(meshName);
        if (data != null) {
            var floorItem = this.CreateFloorItem(floor, data);
            if (!this.m_spaceDic.has(meshName)) {
                this.m_spaceDic.set(meshName, floorItem);
            }
            //记录当前层所有的楼板
            if (!this.m_levelSpsceDic.has(data.levelCode)) {
                this.m_levelSpsceDic.set(data.levelCode, new Array());
            }
            var arr = this.m_levelSpsceDic.get(data.levelCode);
            arr.push(meshName);
        }
        else {
            console.log("DB not contain this {0} floor", meshName);
        }
    };
    BIMManager.prototype.CreateFloorItem = function (floor, data) {
        if (floor == null || data == null)
            return;
        var item = new FloorItem();
        item.Object = floor;
        item.Transform = floor.transform;
        item.Organiaztion = GameManager_1.default.Instance().Data.GetOneOrganizationName(data.organizationCode, "2");
        item.organizationColor = GameManager_1.default.Instance().Data.GetOneOrganizationColor(data.organizationCode);
        item.usage = GameManager_1.default.Instance().Data.GetOneUsageName(data.usageTypeCode);
        item.usageColor = GameManager_1.default.Instance().Data.GetOneUsageColor(data.usageTypeCode);
        item.area = data.useArea;
        //TEMP:默认显示用途
        item.label = this.CreateOneFloorTag(GameManager_1.default.Instance().Camera.Camera, floor, item.usage);
        this.SetHexColor(floor, item.usageColor);
        //默认Tag隐藏
        item.label.visible = false;
        return item;
    };
    BIMManager.prototype.CreateOneFloorTag = function (camera, floor, content) {
        var label = new Laya.Label();
        label.addComponent(LabelUpdate_1.default);
        Laya.stage.addChild(label);
        var component = label.getComponent(LabelUpdate_1.default);
        component.Init(floor, camera, content);
        return label;
    };
    /**
     * 根据摄像机的到原点的距离显示或隐藏Label
     */
    BIMManager.prototype.ShowHideTagsByDistance = function (distance) {
        var _this = this;
        var startdisappeardis = 0;
        var totaldisappeardis = 0;
        if (GameManager_1.default.Instance().Camera.Is2D) {
            startdisappeardis = this.m_2dlabelDisappearDistance;
            totaldisappeardis = this.m_2dlabelTotalDisappearDistance;
        }
        else {
            startdisappeardis = this.m_3dlabelDisappearDistance;
            totaldisappeardis = this.m_3dlabelTotalDisappearDistance;
        }
        if (distance > startdisappeardis) {
            var floors_1 = this.m_levelSpsceDic.get(this.CurrenLevel);
            var count = floors_1.length;
            var interval = (totaldisappeardis - startdisappeardis) / count;
            var pointer_1 = (distance - startdisappeardis) / interval;
            floors_1.forEach(function (element) {
                var index = floors_1.indexOf(element);
                var floor = _this.m_spaceDic.get(element);
                if (floor != null) {
                    if (index <= pointer_1) {
                        floor.label.visible = false;
                    }
                    else {
                        floor.label.visible = true;
                    }
                }
            });
        }
    };
    BIMManager.prototype.SetOneLevelFloorColor = function (orgs, b) {
        var _this = this;
        if (orgs.length == 0)
            return;
        var floors = GameManager_1.default.Instance().Data.GetOneLevelFloorsByOrgs(this.CurrenLevel, orgs);
        if (floors == null || floors.length == 0)
            return;
        floors.forEach(function (element) {
            var floor = _this.m_spaceDic.get(element);
            if (floor == null)
                return;
            if (b) {
                switch (GameManager_1.default.Instance().MainUI.CurrentLabelType) {
                    case LabelType.Depart:
                        _this.SetHexColor(floor.Object, floor.organizationColor);
                        break;
                    case LabelType.Usage:
                        _this.SetHexColor(floor.Object, floor.usageColor);
                        break;
                }
            }
            else {
                _this.SetHexColor(floor.Object, _this.m_defaultFloorColor);
            }
        });
    };
    /**
     * 设置对象颜色
     * @param target
     * @param color Laya内部的Color
     */
    BIMManager.prototype.SetLayaColor = function (target, color) {
        var _this = this;
        if (target == null || color == null)
            return;
        var mats = target.meshRenderer.materials;
        if (mats == null)
            return;
        mats.forEach(function (element) {
            _this.SetColor(element, new Laya.Vector4(color.r, color.g, color.b, color.a));
        });
    };
    /**
     * 设置对象的颜色
     * @param target 对象
     * @param hexColor 十六进制颜色
     */
    BIMManager.prototype.SetHexColor = function (target, hexColor) {
        var _this = this;
        if (target == null || hexColor == null)
            return;
        var mats = target.meshRenderer.materials;
        if (mats == null)
            return;
        var color = this.ConvertColor(hexColor);
        mats.forEach(function (element) {
            _this.SetColor(element, color);
        });
    };
    BIMManager.prototype.SetColor = function (mat, color) {
        if (mat == null || color == null)
            return;
        mat.albedoColor = color;
        if (!this.MaterialsDic.has(mat)) {
            this.MaterialsDic.set(mat, color);
        }
    };
    /**
     * 颜色转换，将hexColor转换成Vector4
     * @param hexColor
     */
    BIMManager.prototype.ConvertColor = function (hexColor) {
        try {
            var count = hexColor.length;
            var r = parseInt(hexColor.substr(0, 2), 16);
            var g = parseInt(hexColor.substr(2, 2), 16);
            var b = parseInt(hexColor.substr(4, 2), 16);
            var a = 255;
            if (count == 8)
                a = parseInt(hexColor.substr(6, 2), 16);
            return this.Convert(r, g, b, a);
        }
        catch (error) {
            console.debug("<color=yellow>{0}</color>", "十六进制颜色值格式错误,需输入6位或8位(带alpha)16进制值,如:0091EAFF,不加#或0x");
        }
        return new Laya.Vector4(1, 1, 1, 1);
    };
    BIMManager.prototype.Convert = function (r, g, b, a) {
        return new Laya.Vector4(r / 255, g / 255, b / 255, a / 255);
    };
    BIMManager.prototype.ResetColor = function (floor) {
        var _this = this;
        if (floor == null || floor.meshRenderer == null)
            return;
        var mats = floor.meshRenderer.materials;
        if (mats != null) {
            mats.forEach(function (element) {
                if (_this.MaterialsDic.has(element)) {
                    var mat = element;
                    mat.albedoColor = _this.MaterialsDic.get(element);
                }
            });
        }
    };
    return BIMManager;
}());
exports.default = BIMManager;
var LabelType;
(function (LabelType) {
    LabelType[LabelType["Depart"] = 0] = "Depart";
    LabelType[LabelType["Usage"] = 1] = "Usage";
    LabelType[LabelType["Area"] = 2] = "Area";
})(LabelType = exports.LabelType || (exports.LabelType = {}));
var FloorItem = /** @class */ (function () {
    function FloorItem() {
    }
    return FloorItem;
}());
},{"../Common/Common":5,"../Component/LabelUpdate":7,"../Configure/NameConfig":10,"../Events/EventManager":15,"../Events/Events":16,"../GameManager":17,"../Resource/ResManager":22}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector3 = Laya.Vector3;
var GameManager_1 = require("../GameManager");
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var CameraMoveScript_1 = require("../Component/CameraMoveScript");
var RaySelector_1 = require("../Component/RaySelector");
var LightControl_1 = require("../Component/LightControl");
var CameraManager = /** @class */ (function () {
    function CameraManager() {
        this._3dPos = new Vector3(-6, 45, 17);
        this._3dRot = new Vector3(-78, 0, 0);
        this._2dPos = new Vector3(-5, 50, 17);
        this._2dRot = new Vector3(-90, 0, 0);
        this._oriOrthSize = 70;
    }
    CameraManager.prototype.InitCamera = function () {
        var camera = new Laya.Camera();
        camera.transform.position = this._3dPos;
        camera.transform.localRotationEuler = this._3dRot;
        camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
        this.Camera = camera;
        //摄像机控制
        camera.addComponent(CameraMoveScript_1.default);
        var camctrl = camera.getComponent(CameraMoveScript_1.default);
        camctrl.m_scene3d = GameManager_1.default.Instance().MainScene;
        //射线检测
        camera.addComponent(RaySelector_1.default);
        var rayselector = camera.getComponent(RaySelector_1.default);
        rayselector.Scene3D = GameManager_1.default.Instance().MainScene;
        GameManager_1.default.Instance().MainScene.addChild(camera);
        this.InitLight();
    };
    CameraManager.prototype.InitLight = function () {
        var directionLight = new Laya.DirectionLight();
        GameManager_1.default.Instance().MainScene.addChild(directionLight);
        directionLight.color = new Laya.Vector3(0.2, 0.2, 0.2);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        directionLight.transform.position = this.Camera.transform.position;
        directionLight.transform.rotation = this.Camera.transform.rotation;
        directionLight.addComponent(LightControl_1.default);
        var lightcontrl = directionLight.getComponent(LightControl_1.default);
        lightcontrl.Camera = this.Camera;
    };
    CameraManager.prototype.ResetCamera = function (is2D) {
        this.Is2D = is2D;
        var component = this.Camera.getComponent(CameraMoveScript_1.default);
        if (is2D) {
            this.Camera.orthographic = true;
            this.Camera.orthographicVerticalSize = 60;
            this.Camera.transform.position = this._2dPos;
            this.Camera.transform.localRotationEuler = this._2dRot;
            component.Is2D = true;
            // Laya.Tween.to(this.Camera,{position:this._2dPos,rotation:this._2dRot},1000,null,Handler.create(this,()=>{
            //     this.Camera.orthographic = true;
            //     this.Camera.orthographicVerticalSize = 60;
            //     component.Is2D = true;
            // }));
        }
        else {
            this.Camera.orthographic = false;
            this.Camera.transform.position = this._3dPos;
            this.Camera.transform.localRotationEuler = this._3dRot;
            component.Is2D = false;
            // Laya.Tween.to(this.Camera,{position:this._3dPos,rotation:this._3dRot},1000,null,Handler.create(this,()=>{
            //     this.Camera.orthographic = false;
            //     component.Is2D = false;
            // }));
        }
    };
    CameraManager.prototype.CameraMove = function (object, fromPos, toPos) {
    };
    CameraManager.prototype.CameraRotate = function (fromRotate, toRotate) {
    };
    CameraManager.prototype.AddEvent = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), this, this.CameraMoveInLevel);
    };
    CameraManager.prototype.CameraMoveInLevel = function (levelName) {
    };
    return CameraManager;
}());
exports.default = CameraManager;
},{"../Component/CameraMoveScript":6,"../Component/LightControl":8,"../Component/RaySelector":9,"../Events/EventManager":15,"../Events/Events":16,"../GameManager":17}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Common = /** @class */ (function () {
    function Common() {
    }
    /**
     * 通过楼板Code获得LevelCode
     * @param code
     */
    Common.GetLevelByFloorCode = function (code) {
        if (code == null)
            return null;
        var names = code.split("-");
        if (names.length < 3) {
            return null;
        }
        else {
            return code.substring(0, 15);
        }
    };
    /**
     * 通过楼板Code获得BuildingCode
     * @param code
     */
    Common.GetBuildingByFloorCode = function (code) {
        if (code == null)
            return null;
        var names = code.split("-");
        if (names.length < 3) {
            return null;
        }
        else {
            return code.substring(0, 10);
        }
    };
    /**
     * 通过加载的资源，获取当前资源的所在的楼层
     * @param url .lh资源的url路径，.lh文件的命名规则必须为楼层的Code
     */
    Common.ParseLoadLevel = function (url) {
        if (url == null)
            return null;
        var temp = url.substr(url.lastIndexOf("/") + 1);
        var level = temp.substr(0, temp.indexOf("."));
        return level;
    };
    /**
     * 返回前端显示的LevelCode;例如F1
     * @param levelCode 楼层编码：BDHCMU-A02-F001
     */
    Common.GetPurLevel = function (levelCode) {
        if (levelCode == null || levelCode.match("-") == null)
            return null;
        var eles = levelCode.split("-");
        if (eles.length < 3)
            return null;
        return eles[2];
    };
    return Common;
}());
exports.default = Common;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector3 = Laya.Vector3;
var Vector2 = Laya.Vector2;
var Label = Laya.Label;
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var CameraMoveScript = /** @class */ (function (_super) {
    __extends(CameraMoveScript, _super);
    function CameraMoveScript() {
        var _this = _super.call(this) || this;
        _this.m_lastDistance = 0;
        _this.m_preRadian = 0;
        _this.m_forwardLength = 3;
        _this.m_lookAtPoint = new Vector3();
        _this.m_isTwoFingersTouch = false;
        _this.m_twoFingersDistance = 0;
        _this.IsShowLable = true;
        _this.Is2D = false;
        return _this;
    }
    CameraMoveScript.prototype.onAwake = function () {
        this.Init();
        this.AddEvenets();
        this.RefreshPitchRadian();
        this.RefreshLookAtPoint();
    };
    CameraMoveScript.prototype.onUpdate = function () {
        if (this.IsShowLable)
            this.ShowInfo();
        this.RayCastHit();
        this.CameraToZeroDistance();
    };
    CameraMoveScript.prototype.onDestroy = function () {
        this.RemoveEvents();
    };
    CameraMoveScript.prototype.Init = function () {
        this.m_camera = this.owner;
        this.m_tempVector3 = new Vector3();
        this.m_mousePoint = new Vector2();
        this.m_lastTouchFinger0 = new Vector2();
        this.m_lastTouchFinger1 = new Vector2();
        this.yawPitchRoll = new Laya.Vector3();
        this.resultRotation = new Laya.Quaternion();
        this.tempRotationZ = new Laya.Quaternion();
        this.tempRotationX = new Laya.Quaternion();
        this.tempRotationY = new Laya.Quaternion();
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        if (this.IsShowLable)
            this.m_label = this.createLabel(new Vector2(10, 10));
        this.InitDiffPlatform();
    };
    /**
     * 不同平台不同配置，从json文件中读取
     */
    CameraMoveScript.prototype.InitDiffPlatform = function () {
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_3dMoveSpeed = 0.02;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -30;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_3dMoveSpeed = 0.04;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -30;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
    };
    CameraMoveScript.prototype.AddEvenets = function () {
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.RemoveEvents = function () {
        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.off(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.mouseDown = function (e) {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        // //Two fingers operation
        var touches = e.touches;
        if (touches && touches.length == 2) {
            this.m_lastTouchFinger0.x = touches[0].stageX;
            this.m_lastTouchFinger0.y = touches[0].stageY;
            this.m_lastTouchFinger1.x = touches[1].stageX;
            this.m_lastTouchFinger1.y = touches[1].stageY;
            this.m_lastDistance = this.getDistance(touches);
            this.m_preRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
            this.m_isTwoFingersTouch = true;
        }
    };
    CameraMoveScript.prototype.mouseUp = function (e) {
        this.m_isMouseDown = false;
        var touches = e.touches;
        if (touches && touches.length == 0) {
            this.m_isTwoFingersTouch = false;
        }
    };
    CameraMoveScript.prototype.rightMouseDown = function (e) {
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        this.m_isRightMouseButtonDown = true;
    };
    CameraMoveScript.prototype.rightMouseUp = function (e) {
        this.m_isMouseDown = false;
        this.m_isRightMouseButtonDown = false;
    };
    CameraMoveScript.prototype.mouseWheel = function (e) {
        if (e == null)
            return;
        var zoomDelta = e.delta;
        if (this.Is2D) {
            this.m_camera.orthographicVerticalSize += -zoomDelta * this.m_2dWheelSpeed;
            if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
            }
        }
        else {
            this.cameraZoom(zoomDelta);
        }
        if (this.OnMouseWheel)
            this.OnMouseWheel(zoomDelta);
    };
    CameraMoveScript.prototype.mouseMove = function (e) {
        var touches = e.touches;
        if (!touches) {
            this.moveControlByMouse();
        }
        else {
            this.moveCtrlByTouch(touches);
        }
    };
    /**
    *  鼠标模式
    */
    CameraMoveScript.prototype.moveControlByMouse = function () {
        if (this.m_isMouseDown) {
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (!this.m_isRightMouseButtonDown) {
                if (this.m_isLastTouchDoubleFingers) {
                    deltaX = 0;
                    deltaY = 0;
                    this.m_isLastTouchDoubleFingers = false;
                }
                this.moveRight(-this.m_3dMoveSpeed * deltaX);
                this.moveUp(this.m_3dMoveSpeed * deltaY);
                this.RefreshLookAtPoint();
            }
            else {
                if (this.Is2D)
                    return;
                var deltaX_1 = Laya.stage.mouseX - this.m_lastMouseX;
                var deltaY_1 = Laya.stage.mouseY - this.m_lastMouseY;
                this.rotateAround(-deltaY_1 * this.m_3dRotateSpeed, -deltaX_1 * this.m_3dRotateSpeed);
            }
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
        }
    };
    /**
     * 触控模式
     */
    CameraMoveScript.prototype.moveCtrlByTouch = function (touches) {
        if (touches.length == 1 && !this.m_isTwoFingersTouch) {
            //单指触控
            // this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (this.m_isLastTouchDoubleFingers) {
                //如果上一次操作是双指,如双指操作时,抬起一指变单指操作,要做个清零,防止摄像机跳跃
                deltaX = 0;
                deltaY = 0;
                this.m_isLastTouchDoubleFingers = false;
            }
            //let speed: number = 0.06;
            this.moveRight(-this.m_3dMoveSpeed * deltaX);
            this.moveUp(this.m_3dMoveSpeed * deltaY);
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
            this.RefreshLookAtPoint();
        }
        else if (touches.length == 2) {
            if (this.Is2D) {
                var distance2 = this.getDistance(touches);
                var factor2 = 0.1;
                var pinchValue2 = 0;
                pinchValue2 = (distance2 - this.m_lastDistance) * factor2;
                this.m_lastDistance = distance2;
                this.m_camera.orthographicVerticalSize -= pinchValue2;
                if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                    this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
                }
            }
            else {
                //双指触控
                this.m_isTwoFingersTouch = true;
                this.m_isLastTouchDoubleFingers = true;
                var twoFingersDistance = this.getTwoFingersDistance(touches);
                var deltaDistance = Math.abs(twoFingersDistance - this.m_twoFingersDistance);
                this.m_twoFingersDistance = twoFingersDistance;
                //Two fingers drag
                var deltaX0 = touches[0].stageX - this.m_lastTouchFinger0.x;
                var deltaY0 = touches[0].stageY - this.m_lastTouchFinger0.y;
                var deltaX1 = touches[1].stageX - this.m_lastTouchFinger1.x;
                var deltaY1 = touches[1].stageY - this.m_lastTouchFinger1.y;
                var deltaY = (deltaY0 + deltaY1) * 0.5;
                var deltaX = (deltaX0 + deltaX1) * 0.5;
                this.rotateAround(-deltaY * this.m_3dRotateSpeed, 0);
                this.m_lastTouchFinger0.x = touches[0].stageX;
                this.m_lastTouchFinger0.y = touches[0].stageY;
                this.m_lastTouchFinger1.x = touches[1].stageX;
                this.m_lastTouchFinger1.y = touches[1].stageY;
                //Two fingers pinch
                var distance = this.getDistance(touches);
                var factor = 0.01;
                var pinchValue = 0;
                pinchValue += (distance - this.m_lastDistance) * factor;
                this.m_lastDistance = distance;
                var fingerPinchSpeed = 10;
                this.cameraZoom(pinchValue * fingerPinchSpeed);
                if (this.OnDoubleFingersPinch)
                    this.OnDoubleFingersPinch(pinchValue);
                //Two fingers twist
                var nowRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
                var deltaRadian = nowRadian - this.m_preRadian;
                if (deltaRadian != 0) {
                    var twistValue = 180 / Math.PI * deltaRadian;
                    this.rotateAround(0, twistValue * 0.1);
                    this.m_preRadian = nowRadian;
                    if (this.OnDoubleFingersTwist)
                        this.OnDoubleFingersTwist(twistValue);
                }
            }
        }
    };
    /**
     * 向前移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveForward = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.y = 0;
        this.m_tempVector3.z = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向右移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveRight = function (distance) {
        this.m_tempVector3.y = this.m_tempVector3.z = 0;
        this.m_tempVector3.x = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向上移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveUp = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.z = 0;
        this.m_tempVector3.y = distance;
        this.m_camera.transform.translate(this.m_tempVector3, true);
    };
    /**
     * 缩放
     * @param delta
     */
    CameraMoveScript.prototype.cameraZoom = function (delta) {
        // if(this.m_hitObject!=null && !this.m_isRightMouseDown){
        //     this.m_forwardLength = this.getTwoPointsDistance(
        //         this.m_camera.transform.position,this.m_hitPoint);        
        // }
        var currentForwardLength = this.m_forwardLength;
        var distance = -delta * this.m_3dWheelSpeed;
        currentForwardLength += distance;
        if (delta > 0) {
            //拉近
            if (currentForwardLength < this.m_3dMinZoomDistance)
                distance += (this.m_3dMinZoomDistance - currentForwardLength);
        }
        else {
            //拉远
            if (currentForwardLength > this.m_3dMaxZoomDistance)
                distance -= (currentForwardLength - this.m_3dMaxZoomDistance);
        }
        this.moveForward(distance);
        this.m_forwardLength += distance;
    };
    /**
     * 旋转
     * @param angleX
     * @param angleY
     */
    CameraMoveScript.prototype.rotateAround = function (angleX, angleY) {
        var currentRadian = this.m_currentPitchRadian;
        currentRadian -= angleX;
        if (angleX < 0) {
            //下拖动,往上转
            if (currentRadian > this.m_3dMaxCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMaxCameraPitchRadian);
        }
        else {
            //上拖动,往下转
            if (currentRadian < this.m_3dMinCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMinCameraPitchRadian);
        }
        this.m_camera.transform.rotate(new Vector3(angleX, 0, 0));
        this.m_camera.transform.rotate(new Vector3(0, angleY, 0), false);
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var newPosition = new Vector3();
        Vector3.scale(forward, -1, forward);
        newPosition = this.Forward(this.m_lookAtPoint, forward, this.m_forwardLength);
        this.m_camera.transform.position = newPosition;
        this.RefreshPitchRadian();
    };
    CameraMoveScript.prototype._updateRotation = function () {
        if (Math.abs(this.yawPitchRoll.y) < 1.50) {
            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);
            this.tempRotationZ.cloneTo(this.m_camera.transform.localRotation);
            this.m_camera.transform.localRotation = this.m_camera.transform.localRotation;
        }
    };
    //把Math.atan2值域映射到[0, 2pi]
    CameraMoveScript.prototype.atan2Ext = function (y, x) {
        var radian = Math.atan2(y, x);
        if (radian >= 0)
            return radian;
        else
            return radian + 2 * Math.PI;
    };
    CameraMoveScript.prototype.getTwoFingersDistance = function (touches) {
        var fingersDistance = 0;
        var dx = touches[0].stageX - touches[1].stageX;
        var dy = touches[0].stageY - touches[1].stageY;
        fingersDistance = Math.sqrt(dx * dx + dy * dy);
        return fingersDistance;
    };
    CameraMoveScript.prototype.rotateAroundY = function (ponit, radius, angle) {
        var posX = Math.cos(angle) * radius;
        var posY = Math.sin(angle) * radius;
        this.m_camera.transform.position = new Vector3(posX, this.m_camera.transform.position.y, posY);
        this.m_camera.transform.lookAt(ponit, new Vector3(0, 1, 0), false);
    };
    CameraMoveScript.prototype.rotateAroundX = function (ponit, radius, angle) {
        this.m_camera.transform.rotate(new Vector3(angle, 0, 0));
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var position = new Vector3();
        var deltaPosition = new Vector3();
        Vector3.scale(forward, -radius, deltaPosition);
        Vector3.add(ponit, deltaPosition, position);
        this.m_camera.transform.position = position;
    };
    //计算两个触摸点之间的距离
    CameraMoveScript.prototype.getDistance = function (points) {
        var distance = 0;
        if (points && points.length == 2) {
            var dx = points[0].stageX - points[1].stageX;
            var dy = points[0].stageY - points[1].stageY;
            distance = Math.sqrt(dx * dx + dy * dy);
        }
        return distance;
    };
    CameraMoveScript.prototype.getTwoPointsDistance = function (pointA, pointB) {
        var distance = 0;
        var dx = pointA.x - pointB.x;
        var dy = pointA.y - pointB.y;
        var dz = pointA.z - pointB.z;
        distance = Math.sqrt(dx * dx + dy * dy + dz * dz);
        return distance;
    };
    CameraMoveScript.prototype.Forward = function (position, direction, distance) {
        var deltaPosition = new Vector3();
        var newPosition = new Vector3();
        Vector3.scale(direction, distance, deltaPosition);
        Vector3.add(position, deltaPosition, newPosition);
        return newPosition;
    };
    CameraMoveScript.prototype.RefreshLookAtPoint = function () {
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        this.m_lookAtPoint = this.Forward(this.m_camera.transform.position, forward, this.m_forwardLength);
    };
    CameraMoveScript.prototype.RefreshPitchRadian = function () {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_currentPitchRadian = Math.abs(this.yawPitchRoll.y);
    };
    //temp
    CameraMoveScript.prototype.CameraToZeroDistance = function () {
        var dis = 0;
        if (this.Is2D) {
            dis = this.m_camera.orthographicVerticalSize;
        }
        else {
            var camPos = this.m_camera.transform.position;
            dis = Vector3.distance(camPos, Vector3._ZERO);
            this.m_label.text += "摄像机到原点的距离：" + dis;
        }
        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnCameraDistanceChanged.toString(), dis);
    };
    /**
     * 绕给定点和轴旋转
     * @param target 旋转对象
     * @param rotatePos 给定点位置
     * @param dir 给定方向
     * @param angle 旋转角度，弧度
     */
    CameraMoveScript.prototype.RotateAround = function (target, rotatePos, dir, angle) {
        //创建一个四元数
        var quaternion = new Laya.Quaternion();
        Laya.Quaternion.createFromAxisAngle(dir, angle, quaternion);
        //计算旋转后的Position
        var deltapos = new Laya.Vector3();
        Laya.Vector3.subtract(target.transform.position, rotatePos, deltapos);
        var changeVector3 = new Laya.Vector3();
        Laya.Vector3.transformQuat(deltapos, quaternion, changeVector3);
        var resultPos = new Laya.Vector3();
        Laya.Vector3.add(changeVector3, rotatePos, resultPos);
        target.transform.position = resultPos;
        //计算旋转后的Rotation
        var newRotation = new Laya.Quaternion();
        Laya.Quaternion.multiply(target.transform.rotation, quaternion, newRotation);
        target.transform.rotation = newRotation;
    };
    /**
    * 根据碰撞对象的位置，设置摄像机的缩放和旋转轴等；
    * 旋转操作，以屏幕中心点发出射线，如果有碰撞对象，则将碰撞点作为旋转中心，如果没有则将（0,0,0）设为旋转中心；
    * 缩放操作，以鼠标位置发出射线，若有碰撞对象，则根据碰撞点与摄像机的距离限制摄像机的最小距离；
    */
    CameraMoveScript.prototype.RayCastHit = function () {
        if (this.m_camera != null && this.m_scene3d != null) {
            this.m_mousePoint.x = Laya.stage.mouseX;
            this.m_mousePoint.y = Laya.stage.mouseY;
            this.m_camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.m_scene3d.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                this.m_hitObject = this.m_hitResult.collider.owner;
                this.m_hitPoint = this.m_hitResult.point;
            }
            else {
                this.m_hitObject = null;
            }
        }
    };
    /**
     * 创建一个Lable
     * @param color
     * @param strokeColor
     */
    CameraMoveScript.prototype.createLabel = function (pos, color, strokeColor) {
        var _color = "#ffffff";
        var _strokeColor = "#000000";
        var _strokeWidth = 1;
        var label = new Label();
        label.font = "Microsoft YaHei";
        label.text = "SAMPLE DEMO";
        label.fontSize = 20;
        if (color) {
            label.color = color;
        }
        else {
            label.color = _color;
        }
        if (strokeColor) {
            label.stroke = _strokeWidth;
            label.strokeColor = _strokeColor;
        }
        label.pos(pos.x, pos.y);
        Laya.stage.addChild(label);
        return label;
    };
    CameraMoveScript.prototype.ShowInfo = function () {
        var pos = this.m_camera.transform.position;
        var rot = this.m_camera.transform.rotationEuler;
        this.m_label.text = "Camera Pos : (" + pos.x.toFixed(2) + "," + pos.y.toFixed(2) + "," + pos.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera Rot : (" + rot.x.toFixed(2) + "," + rot.y.toFixed(2) + "," + rot.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera orthographicVerticalSize : " + this.m_camera.orthographicVerticalSize + "\n";
        this.m_label.text += "Mouse PosX : " + Laya.stage.mouseX + "\n";
        this.m_label.text += "Mouse PosY : " + Laya.stage.mouseY + "\n";
        this.m_label.text += "是否在2D: " + this.Is2D + "\n";
        this.m_label.text += "this forwardlength: " + this.m_forwardLength + "\n";
        this.m_label.text += "3dMoveSpeed : " + this.m_3dMoveSpeed + "\n";
        this.m_label.text += "2dMoveSpeed : " + this.m_2dMoveSpeed + "\n";
    };
    return CameraMoveScript;
}(Laya.Script3D));
exports.default = CameraMoveScript;
},{"../Events/EventManager":15,"../Events/Events":16}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LabelUpdatPos = /** @class */ (function (_super) {
    __extends(LabelUpdatPos, _super);
    function LabelUpdatPos() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LabelUpdatPos.prototype.onAwake = function () {
        this.m_label = this.owner;
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_fontsize = 25;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_fontsize = 14;
        }
    };
    LabelUpdatPos.prototype.onStart = function () {
        this.SetLabelPos();
    };
    LabelUpdatPos.prototype.onUpdate = function () {
        this.SetLabelPos();
    };
    LabelUpdatPos.prototype.Init = function (parent, camera, content) {
        this.m_parent = parent;
        this.m_camera = camera;
        this.InitLabel();
        this.SetLabelContent(content);
    };
    LabelUpdatPos.prototype.SetLabelContent = function (content) {
        if (this.m_label == null)
            return;
        this.m_label.text = content;
    };
    LabelUpdatPos.prototype.InitLabel = function () {
        if (this.m_label == null)
            return;
        this.m_label.width = 300;
        this.m_label.height = 50;
        this.m_label.pivotX = 150;
        this.m_label.pivotY = 25;
        this.m_label.font = "Microsoft YaHei";
        this.m_label.text = "SAMPLE DEMO";
        this.m_label.fontSize = this.m_fontsize;
        this.m_label.color = "#ffffff";
        this.m_label.stroke = 0.05;
        this.m_label.strokeColor = "#000000";
        this.m_label.align = "center";
    };
    LabelUpdatPos.prototype.SetLabelPos = function () {
        if (this.m_parent == null || this.m_camera == null)
            return;
        var floorPos = this.m_parent.transform.position;
        var newPos = new Laya.Vector3(floorPos.x, floorPos.y + 3, floorPos.z);
        var screenPos = new Laya.Vector3();
        this.m_camera.worldToViewportPoint(newPos, screenPos);
        this.m_label.pos(screenPos.x, screenPos.y + 15);
    };
    return LabelUpdatPos;
}(Laya.Script));
exports.default = LabelUpdatPos;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LightControl = /** @class */ (function (_super) {
    __extends(LightControl, _super);
    function LightControl() {
        return _super.call(this) || this;
    }
    LightControl.prototype.onAwake = function () {
        this.Light = this.owner;
    };
    LightControl.prototype.onUpdate = function () {
        this.Light.transform.position = this.Camera.transform.position;
        this.Light.transform.rotationEuler = this.Camera.transform.rotationEuler;
    };
    return LightControl;
}(Laya.Script3D));
exports.default = LightControl;
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var Vector3 = Laya.Vector3;
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var RaySelector = /** @class */ (function (_super) {
    __extends(RaySelector, _super);
    function RaySelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.m_mousePoint = new Laya.Vector2();
        return _this;
    }
    RaySelector.prototype.onAwake = function () {
        if (this.owner != null) {
            var cam = this.owner;
            if (cam != null) {
                this.Camera = cam;
            }
        }
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        this.AddMouseEvent();
    };
    RaySelector.prototype.onUpdate = function () {
        this.RayCastHit();
    };
    RaySelector.prototype.AddMouseEvent = function () {
        Laya.stage.on(Laya.Event.CLICK, this, this.OnRayCastClicked);
    };
    RaySelector.prototype.RemoveMouseEvent = function () {
        Laya.stage.off(Laya.Event.CLICK, this, this.OnRayCastClicked);
    };
    RaySelector.prototype.onDisable = function () {
        this.RemoveMouseEvent();
    };
    RaySelector.prototype.RayCastHit = function () {
        this.m_mousePoint.x = Laya.stage.mouseX;
        this.m_mousePoint.y = Laya.stage.mouseY;
        if (this.Camera != null && this.Scene3D != null) {
            this.Camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.Scene3D.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                var collider = this.m_hitResult.collider.owner;
                //this.m_deltaClickTime +=Laya.timer.delta;
                if (this.m_isClicked) {
                    EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceClicked.toString(), collider);
                    GameManager_1.default.Instance().BIM.SetLayaColor(collider, Laya.Color.RED);
                }
                if (this.m_selected != collider) {
                    this.m_isClicked = false;
                    if (this.m_selected != null) {
                        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceExit.toString(), this.m_selected);
                        GameManager_1.default.Instance().BIM.ResetColor(this.m_selected);
                        this.m_selected = null;
                    }
                    this.m_selected = collider;
                    EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceExit.toString(), this.m_selected);
                    GameManager_1.default.Instance().BIM.SetLayaColor(collider, Laya.Color.YELLOW);
                }
            }
        }
    };
    RaySelector.prototype.OnRayCastClicked = function () {
        this.m_isClicked = true;
        // this.m_mousePoint.x = Laya.stage.mouseX;
        // this.m_mousePoint.y = Laya.stage.mouseY;
        // this.Camera.viewportPointToRay(this.m_mousePoint,this.m_ray);
        // if(this.Scene3D!=null){
        //     this.Scene3D.physicsSimulation.rayCast(this.m_ray,this.m_hitResult);
        //     if(this.m_hitResult.succeeded){
        //         var colliderName = this.m_hitResult.collider.owner.name;
        //         //console.debug("碰撞的对象为："+ colliderName);
        //         var floor:Laya.MeshSprite3D = GameManager.Instance().BIM.GetOneFloorSprite3D(colliderName);
        //         if(floor==null)return ;
        //         var mats = floor.meshRenderer.materials;
        //         mats.forEach(element => {
        //             var mat:Laya.BlinnPhongMaterial = element as Laya.BlinnPhongMaterial;
        //             mat.albedoColor = new Laya.Vector4(1,0,0,1);
        //         });
        //     }
        // }
    };
    RaySelector.prototype.DrawLine = function () {
        // this.m_mousePoint.x = Laya.MouseManager.instance.mouseX;
        // this.m_mousePoint.y = Laya.MouseManager.instance.mouseY;
        // this.m_camera.worldToViewportPoint(this.m_camera.transform.position,this.camPos);
        // this.sp.graphics.clear();
        // this.sp.graphics.drawLine(this.camPos.x,this.camPos.y,this.m_mousePoint.x,this.m_mousePoint.y,"#ff0000",1); 
    };
    return RaySelector;
}(Laya.Script3D));
exports.default = RaySelector;
},{"../Events/EventManager":15,"../Events/Events":16,"../GameManager":17}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var NameConfig = /** @class */ (function () {
    function NameConfig() {
    }
    NameConfig.ip = "meetoo.cn";
    NameConfig.port = "1986";
    NameConfig.userName = "yangxin";
    NameConfig.userPassprot = "81DC9BDB52D04DC20036DBD8313ED055";
    NameConfig.screenWidth = Laya.Browser.width;
    NameConfig.screenHegiht = Laya.Browser.height;
    NameConfig.floorLayer = "buildingLevels";
    NameConfig.floor = "Floor";
    NameConfig.campusCode = "PUMCHW";
    return NameConfig;
}());
exports.default = NameConfig;
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableOrgnization_1 = require("./TableOrgnization");
var TableBIMUsageType_1 = require("./TableBIMUsageType");
var TableBIMSpace_1 = require("./TableBIMSpace");
var DataManager = /** @class */ (function () {
    function DataManager() {
    }
    DataManager.prototype.Init = function () {
        this.RegisterTables();
    };
    DataManager.prototype.RegisterTables = function () {
        var _this = this;
        this.tableBimSpace = new TableBIMSpace_1.default();
        this.tableBimSpace.Init(GameManager_1.default.Instance().Http.URL, function () {
            _this.tableOrganization = new TableOrgnization_1.default();
            _this.tableOrganization.Init(GameManager_1.default.Instance().Http.URL, function () {
                _this.tableUsageType = new TableBIMUsageType_1.default();
                _this.tableUsageType.Init(GameManager_1.default.Instance().Http.URL, function () {
                    GameManager_1.default.Instance().LoadRes();
                });
            });
        });
    };
    DataManager.prototype.GetOneOrganizationName = function (code, level) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableOrganization.GetOneOrganizationName(code, level);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneOrganizationColor = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableOrganization.GetOneOrganizationColor(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneUsageName = function (code) {
        if (this.tableUsageType.IsLoaded) {
            return this.tableUsageType.GetOneUsageName(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneUsageColor = function (code) {
        if (this.tableUsageType.IsLoaded) {
            return this.tableUsageType.GetOneUsageColor(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneSpaceData = function (code) {
        if (this.tableBimSpace.IsLoaded) {
            return this.tableBimSpace.GetOneSpaceData(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneLevelOrganizations = function (level) {
        if (this.tableBimSpace.IsLoaded) {
            return this.tableBimSpace.GetOneLevelOrgnizations(level);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneLevelFloorsByOrgs = function (level, orgs) {
        if (this.tableBimSpace.IsLoaded) {
            return this.tableBimSpace.GetOneLevelCodesByOrgs(level, orgs);
        }
        else {
            return null;
        }
    };
    return DataManager;
}());
exports.default = DataManager;
},{"../GameManager":17,"./TableBIMSpace":12,"./TableBIMUsageType":13,"./TableOrgnization":14}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableBIMSpace = /** @class */ (function () {
    function TableBIMSpace() {
        this.TabelName = "BIMSpace";
    }
    TableBIMSpace.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/BIMSpace/dynamicQuery");
        var postBody = JSON.stringify({ "levelCodeList": ["PUMCHW-D03-F001", "PUMCHW-D03-F002", "PUMCHW-D03-F003"] });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableBIMSpace.prototype.GetOneSpaceData = function (code) {
        if (code == null)
            return null;
        if (this.SpaceDataDic.has(code)) {
            return this.SpaceDataDic.get(code);
        }
        else
            return null;
    };
    TableBIMSpace.prototype.GetOrganizationByCode = function (code) {
        if (code == null)
            return null;
        if (this.SpaceDataDic.has(code)) {
            return this.SpaceDataDic.get(code).organizationCode;
        }
        else
            return null;
    };
    TableBIMSpace.prototype.GetOneLevelOrgnizations = function (level) {
        var _this = this;
        var orgs = new Array();
        if (this.m_levelSpaceCodes.has(level)) {
            this.m_levelSpaceCodes.get(level).forEach(function (element) {
                var orgCode = _this.GetOrganizationByCode(element);
                var b = orgs.some(function (code) { return code == orgCode; });
                if (!b)
                    orgs.push(orgCode);
            });
        }
        return orgs;
    };
    TableBIMSpace.prototype.GetOneLevelCodesByOrgs = function (level, orgs) {
        var _this = this;
        var floorCodes = new Array();
        if (this.m_levelSpaceCodes.has(level)) {
            this.m_levelSpaceCodes.get(level).forEach(function (element) {
                var orgCode = _this.GetOrganizationByCode(element);
                var b = orgs.some(function (code) {
                    return code == orgCode;
                });
                if (b) {
                    floorCodes.push(element);
                }
            });
        }
        return floorCodes;
    };
    TableBIMSpace.prototype.InitContainer = function () {
        this.m_levelSpaceCodes = new Laya.WeakObject();
        this.SpaceDataDic = new Laya.WeakObject();
    };
    TableBIMSpace.prototype.AsynLoadData = function (url, postBody, finished) {
        var _this = this;
        if (url == null || postBody == null)
            return;
        GameManager_1.default.Instance().Http.post(url, postBody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateSpaceData(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.SpaceDataDic.has(ele.code)) {
                            _this.SpaceDataDic.set(ele.code, ele);
                        }
                    }
                    //levelCodes
                    var level = ele.levelCode;
                    if (!_this.m_levelSpaceCodes.has(level)) {
                        _this.m_levelSpaceCodes.set(level, new Array());
                    }
                    _this.m_levelSpaceCodes.get(level).push(ele.code);
                });
                finished.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableBIMSpace.prototype.CreateSpaceData = function (element) {
        var data = new SpaceData();
        data.code = element.code;
        data.usageName = element.usageName;
        data.buildingCode = element.buildingCode;
        data.campusCode = element.campusCode;
        data.levelCode = element.levelCode;
        data.organizationCode = element.organizationCode;
        data.usageTypeCode = element.usageTypeCode;
        data.useArea = element.useArea.toFixed(2).toString() + "m²";
        data.perimeter = element.perimeter;
        return data;
    };
    return TableBIMSpace;
}());
exports.default = TableBIMSpace;
var SpaceData = /** @class */ (function () {
    function SpaceData() {
    }
    return SpaceData;
}());
exports.SpaceData = SpaceData;
},{"../GameManager":17}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableUsageType = /** @class */ (function () {
    function TableUsageType() {
        this.TabelName = "BIMUsageType";
    }
    TableUsageType.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/Common/retrieveAllByTableName");
        var postBody = JSON.stringify({ "tableName": this.TabelName });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableUsageType.prototype.GetOneUsageName = function (code) {
        if (code == null)
            return null;
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.name;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.GetOneUsageColor = function (code) {
        if (code == null)
            return null;
        var level = this.GetUsageLevelLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.color;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.GetUsageLevelLevel = function (code) {
        if (code == null)
            return null;
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.level;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.InitContainer = function () {
        this.UsageTypeDic = new Laya.WeakObject();
    };
    TableUsageType.prototype.AsynLoadData = function (url, postbody, fininshed) {
        var _this = this;
        GameManager_1.default.Instance().Http.post(url, postbody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateUsageType(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.UsageTypeDic.has(ele.code)) {
                            _this.UsageTypeDic.set(ele.code, ele);
                        }
                    }
                });
                fininshed.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableUsageType.prototype.CreateUsageType = function (element) {
        var data = new UsageType();
        data.code = element.code;
        data.name = element.name;
        data.level = element.level;
        data.color = element.color;
        return data;
    };
    return TableUsageType;
}());
exports.default = TableUsageType;
var UsageType = /** @class */ (function () {
    function UsageType() {
    }
    return UsageType;
}());
exports.UsageType = UsageType;
},{"../GameManager":17}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableOrgnization = /** @class */ (function () {
    function TableOrgnization() {
        this.TabelName = "Organization";
    }
    TableOrgnization.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/Common/retrieveAllByTableName");
        var postBody = JSON.stringify({ "tableName": this.TabelName });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableOrgnization.prototype.GetOneOrganizationName = function (code, level) {
        if (code == null)
            return null;
        code = level == null ? code : code.substr(0, 2 * parseInt(level));
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.name;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.GetOneOrganizationColor = function (code) {
        if (code == null)
            return null;
        var level = this.GetOrganizationLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.color;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.GetOrganizationLevel = function (code) {
        if (code == null)
            return null;
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.level;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.InitContainer = function () {
        this.orgnizationDic = new Laya.WeakObject();
    };
    TableOrgnization.prototype.AsynLoadData = function (url, postbody, fininshed) {
        var _this = this;
        GameManager_1.default.Instance().Http.post(url, postbody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateOrganization(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.orgnizationDic.has(ele.code)) {
                            _this.orgnizationDic.set(ele.code, ele);
                        }
                    }
                });
                fininshed.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableOrgnization.prototype.CreateOrganization = function (element) {
        var data = new Orgnization();
        data.code = element.code;
        data.name = element.name;
        data.level = element.level;
        data.color = element.color;
        return data;
    };
    return TableOrgnization;
}());
exports.default = TableOrgnization;
var Orgnization = /** @class */ (function () {
    function Orgnization() {
    }
    return Orgnization;
}());
exports.Orgnization = Orgnization;
},{"../GameManager":17}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispatcher = laya.events.EventDispatcher;
var EventManager = /** @class */ (function (_super) {
    __extends(EventManager, _super);
    function EventManager() {
        return _super.call(this) || this;
    }
    EventManager.Instance = function () {
        if (EventManager._instance == null) {
            EventManager._instance = new EventManager();
        }
        return EventManager._instance;
    };
    EventManager.prototype.PostEvent = function (eName, args) {
        //onsole.debug("分发事件");
        EventManager.eventDispatcher.event(eName, args);
    };
    EventManager.prototype.AddEventListener = function (eName, caller, listener, args) {
        //console.log("侦听事件",eName);
        EventManager.eventDispatcher.on(eName, caller, listener, args);
    };
    EventManager.prototype.RemoveEventListener = function (eName, caller, listener, once) {
        //console.log("移除事件",eName);
        EventManager.eventDispatcher.off(eName, caller, listener, once);
    };
    EventManager.eventDispatcher = new EventDispatcher();
    return EventManager;
}(EventDispatcher));
exports.default = EventManager;
},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Events;
(function (Events) {
    Events[Events["OnUI_LevelBtn_Clicked"] = 0] = "OnUI_LevelBtn_Clicked";
    Events[Events["OnSpaceEnter"] = 1] = "OnSpaceEnter";
    Events[Events["OnSpaceClicked"] = 2] = "OnSpaceClicked";
    Events[Events["OnSpaceExit"] = 3] = "OnSpaceExit";
    Events[Events["OnCameraDistanceChanged"] = 4] = "OnCameraDistanceChanged";
    Events[Events["OnDepTreeItemClicked"] = 5] = "OnDepTreeItemClicked";
})(Events = exports.Events || (exports.Events = {}));
},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtHttp_1 = require("./Network/MtHttp");
var NameConfig_1 = require("./Configure/NameConfig");
var DataManager_1 = require("./Data/DataManager");
var Handler = Laya.Handler;
var MainUI_1 = require("./MainUI");
var BIMManager_1 = require("./BIM/BIMManager");
var CameraManager_1 = require("./Camera/CameraManager");
var EventManager_1 = require("./Events/EventManager");
var Events_1 = require("./Events/Events");
var GameManager = /** @class */ (function () {
    function GameManager() {
        this.LoginLock = false;
        this.Http = new MtHttp_1.default(NameConfig_1.default.ip, NameConfig_1.default.port);
        this.BIM = new BIMManager_1.default();
        this.Data = new DataManager_1.default();
        this.Camera = new CameraManager_1.default();
        this.AddEvents();
    }
    GameManager.Instance = function () {
        if (GameManager._instance == null) {
            GameManager._instance = new GameManager();
        }
        return GameManager._instance;
    };
    GameManager.prototype.AddEvents = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), this, this.OnLevelBtnClicked);
    };
    GameManager.prototype.OnLevelBtnClicked = function (levelName) {
        this.BIM.HideOneLevelFloors(this.BIM.CurrenLevel);
        this.BIM.ShowOneLevelFloors(levelName);
        this.MainUI.CreateTree(this.Data.GetOneLevelOrganizations(this.BIM.CurrenLevel));
    };
    GameManager.prototype.Login = function () {
        if (this.LoginLock)
            return;
        var longinUrl = this.Http.URL.concat("/IVS/login");
        var postBody = JSON.stringify({ "name": NameConfig_1.default.userName,
            "pwd": NameConfig_1.default.userPassprot,
            "thirdPartyCode": "0" });
        this.Http.post(longinUrl, postBody, this, this.LoginSucceed);
        this.LoginLock = true;
    };
    GameManager.prototype.LoginSucceed = function (e) {
        if (e.state == "succeed") {
            console.debug("Login succeed!");
            this.LoadData();
            //test
            //this.LoadRes();
        }
        else {
            alert(e.msg);
        }
    };
    GameManager.prototype.LoadData = function () {
        this.Data.Init();
    };
    GameManager.prototype.LoadRes = function () {
        var _this = this;
        Laya.loader.load("res/JsonFile/res_pumchw.json", Handler.create(this, function (data) {
            var resUrl = new Array();
            data.url.forEach(function (element) {
                resUrl.push(_this.Http.URL.concat("/Patch/res/", element));
            });
            _this.BIM.LoadRes(resUrl, function () {
                _this.InitMainUI();
                _this.BIM.ShowOneLevelFloors(_this.BIM.CurrenLevel);
            });
        }));
    };
    GameManager.prototype.Init3DScene = function () {
        if (this.IsInitScene)
            return;
        Laya3D.init(0, 0, true);
        Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;
        Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;
        //Laya.Stat.show();
        this.MainScene = new Laya.Scene3D();
        Laya.stage.addChild(this.MainScene);
        this.Camera.InitCamera();
        this.IsInitScene = true;
    };
    GameManager.prototype.InitMainUI = function () {
        this.MainUI = new MainUI_1.default();
        Laya.stage.addChild(this.MainUI);
        this.MainUI.CreateTree(this.Data.GetOneLevelOrganizations(this.BIM.CurrenLevel));
        this.MainUI.CreateLevels(this.BIM.Levels);
    };
    return GameManager;
}());
exports.default = GameManager;
},{"./BIM/BIMManager":3,"./Camera/CameraManager":4,"./Configure/NameConfig":10,"./Data/DataManager":11,"./Events/EventManager":15,"./Events/Events":16,"./MainUI":19,"./Network/MtHttp":20}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameManager_1 = require("./GameManager");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI._instance = _this;
        _this.GameManager = GameManager_1.default.Instance();
        _this.UIAdapter();
        _this.LoginBtn.on(Laya.Event.CLICK, _this, _this.OnLoginBtnClicked);
        Laya.stage.on(Laya.Event.RESIZE, Laya.stage, function () {
            _this.UIAdapter();
        });
        return _this;
    }
    //Enable初始化
    GameUI.prototype.onEnable = function () {
    };
    //登陆
    GameUI.prototype.OnLoginBtnClicked = function (e) {
        //GameManager.Instance().Login();
        this.GameManager.Login();
    };
    //设置资源加载进度
    GameUI.prototype.SetLoadPercent = function (percent) {
        this.ProgressBar.visible = true;
        this.ProgressBar.value = percent;
        if (percent == 1) {
            this.DestroyScene();
        }
    };
    GameUI.prototype.DestroyScene = function () {
        //this.destroy();
        Laya.Scene.close(this.scene);
    };
    //UI适配
    GameUI.prototype.UIAdapter = function () {
        var width = Laya.Browser.width;
        var height = Laya.Browser.height;
        this.width = width;
        this.height = height;
        this.Background.width = width;
        this.Background.height = height;
        this.Title.pos(width / 2, height / 4);
        this.LoginBtn.pos(width / 2, height / 3 + 100);
        this.ProgressBar.pos(width / 2, height * 3 / 4);
        this.ProgressBar.visible = false;
    };
    return GameUI;
}(layaMaxUI_1.ui.portal.LoadingUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":25,"./GameManager":17}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameManager_1 = require("./GameManager");
var BIMManager_1 = require("./BIM/BIMManager");
var Button = Laya.Button;
var Common_1 = require("./Common/Common");
var EventManager_1 = require("./Events/EventManager");
var Events_1 = require("./Events/Events");
var UITree_1 = require("./UI/Tree/UITree");
var UITreeItem_1 = require("./UI/Tree/UITreeItem");
var MainUI = /** @class */ (function (_super) {
    __extends(MainUI, _super);
    function MainUI() {
        var _this = _super.call(this) || this;
        _this.m_isShowMultiBtns = true;
        _this.m_isShowAllLevels = false;
        _this.CurrentLabelType = BIMManager_1.LabelType.Usage;
        _this.m_orgLevel1 = new Laya.WeakObject();
        _this.m_orgLevel2 = new Laya.WeakObject();
        _this.m_level1arrs = new Array();
        _this.m_level2arrs = new Array();
        _this.uitree = new UITree_1.default();
        _this.treedata = new Array();
        return _this;
    }
    MainUI.prototype.onEnable = function () {
        var _this = this;
        MainUI._instance = this;
        this.UIAdapter();
        this.AddEvent();
        this.m_is2D = false;
        this.m_levelBtns = new Array();
        this.m_levelPos = new Laya.WeakObject();
        Laya.stage.on(Laya.Event.RESIZE, Laya.stage, function () {
            _this.UIAdapter();
        });
    };
    MainUI.prototype.UIAdapter = function () {
        var _this = this;
        var width = Laya.stage.width;
        var height = Laya.stage.height;
        this.width = width;
        this.height = height;
        this._2D3DBtn.pos(100, height - 100);
        this.DepBtn.pos(100, height / 3);
        this.UsageBtn.pos(100, height / 3 + 150);
        this.AreaBtn.pos(100, height / 3 + 300);
        this.MultiBtn.pos(width - 150, height - 180);
        this.AllBtn.pos(width - 150, height - 100);
        //重新刷新levelbtn
        if (this.m_levelBtns && this.m_levelBtns.length != 0) {
            var index_1 = 0;
            this.m_levelBtns.forEach(function (element) {
                _this.m_levelBtnOriPos = new Laya.Vector2(_this.MultiBtn.x, _this.MultiBtn.y);
                element.pos(_this.MultiBtn.x, _this.MultiBtn.y - ++index_1 * 80);
                if (_this.m_levelPos.has(element)) {
                    _this.m_levelPos.del(element);
                    _this.m_levelPos.set(element, new Laya.Vector2(element.x, element.y));
                }
            });
        }
    };
    //应该有RemoveEvenet
    MainUI.prototype.AddEvent = function () {
        var _this = this;
        this._2D3DBtn.on(Laya.Event.CLICK, null, function (e) {
            _this._2D3DBtnClicked();
            e.stopPropagation();
        });
        this.DepBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Depart);
            _this.CurrentLabelType = BIMManager_1.LabelType.Depart;
            e.stopPropagation();
        });
        this.UsageBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Usage);
            _this.CurrentLabelType = BIMManager_1.LabelType.Usage;
            e.stopPropagation();
        });
        this.AreaBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Area);
            e.stopPropagation();
        });
        this.MultiBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.ShowLevels(_this.m_isShowMultiBtns);
            e.stopPropagation();
        });
        this.AllBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.m_isShowAllLevels = !_this.m_isShowAllLevels;
            GameManager_1.default.Instance().BIM.ShowAllLevels(_this.m_isShowAllLevels);
            e.stopPropagation();
        });
    };
    MainUI.prototype.CreateLevels = function (levels) {
        var _this = this;
        if (levels == null || levels.length == 0)
            return;
        this.m_levelBtns.splice(0);
        var underGroundLevel = new Array();
        var upGroundLevel = new Array();
        levels.forEach(function (element) {
            if (element.length != 15) {
                console.debug("level name is not legal!");
                return;
            }
            if (Common_1.default.GetPurLevel(element).match("B") != null) {
                underGroundLevel.push(element);
            }
            else {
                upGroundLevel.push(element);
            }
        });
        underGroundLevel.sort(function (a, b) {
            return a.charAt(14) > b.charAt(14) ? -1 : 1;
        });
        upGroundLevel.sort(function (a, b) {
            return a.charAt(14) > b.charAt(14) ? 1 : -1;
        });
        var realLevels = underGroundLevel.concat(upGroundLevel);
        //temp
        var index = 0;
        this.m_levelBtnOriPos = new Laya.Vector2(this.MultiBtn.x, this.MultiBtn.y);
        realLevels.forEach(function (element) {
            _this.CreateOneButton(element, new Laya.Vector2(_this.m_levelBtnOriPos.x, _this.m_levelBtnOriPos.y - ++index * 80));
        });
    };
    MainUI.prototype.CreateOneButton = function (levelCode, pos) {
        if (levelCode == null)
            return;
        var purLevel = Common_1.default.GetPurLevel(levelCode);
        var lvlBtn = new Button("comp/button.png");
        lvlBtn.name = levelCode;
        lvlBtn.width = 80;
        lvlBtn.height = 60;
        lvlBtn.pos(pos.x, pos.y);
        lvlBtn.labelSize = 30;
        lvlBtn.label = purLevel.charAt(0) + purLevel.charAt(3);
        lvlBtn.on(Laya.Event.CLICK, null, function (e, lvlName) {
            e.stopPropagation();
            EventManager_1.default.Instance().PostEvent(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), lvlBtn.name);
        });
        Laya.stage.addChild(lvlBtn);
        this.m_levelBtns.push(lvlBtn);
        this.m_levelPos.set(lvlBtn, new Laya.Vector2(lvlBtn.x, lvlBtn.y));
    };
    MainUI.prototype.ShowLevels = function (b) {
        var _this = this;
        this.m_isShowMultiBtns = !b;
        if (!this.m_isShowMultiBtns) {
            this.MultiBtn.label = "展开";
            this.m_levelBtns.forEach(function (element) {
                Laya.Tween.to(element, { x: _this.m_levelBtnOriPos.x, y: _this.m_levelBtnOriPos.y }, 50, Laya.Ease.linearIn, Laya.Handler.create(_this, function () {
                    element.visible = _this.m_isShowMultiBtns;
                }));
            });
        }
        else {
            this.MultiBtn.label = "折叠";
            this.m_levelBtns.forEach(function (element) {
                element.visible = _this.m_isShowMultiBtns;
                var pos = _this.m_levelPos.get(element);
                Laya.Tween.to(element, { x: pos.x, y: pos.y }, 50);
            });
        }
    };
    MainUI.prototype._2D3DBtnClicked = function () {
        this.m_is2D = !this.m_is2D;
        GameManager_1.default.Instance().Camera.ResetCamera(this.m_is2D);
        if (this.m_is2D) {
            this._2D3DBtn.label = "3D";
        }
        else {
            this._2D3DBtn.label = "2D";
        }
    };
    MainUI.prototype.CreateTree = function (orgs) {
        //TEMP:默认为3级
        var _this = this;
        this.cleardic();
        var level1;
        var level2;
        var level3;
        orgs.forEach(function (element) {
            switch (element.length) {
                case 2:
                    if (!_this.m_orgLevel1.has(element)) {
                        _this.m_orgLevel1.set(element, new Array());
                        _this.m_level1arrs.push(element);
                    }
                    break;
                case 4:
                    level1 = element.substr(0, 2);
                    level2 = element.substr(0, 4);
                    if (!_this.m_orgLevel1.has(level1)) {
                        _this.m_orgLevel1.set(level1, new Array());
                        _this.m_level1arrs.push(level1);
                    }
                    var b = _this.m_orgLevel1.get(level1).some(function (code) { return code == level2; });
                    if (!b)
                        _this.m_orgLevel1.get(level1).push(level2);
                    break;
                case 6:
                    level1 = element.substr(0, 2);
                    level2 = element.substr(0, 4);
                    level3 = element.substr(0, 6);
                    if (!_this.m_orgLevel1.has(level1)) {
                        _this.m_orgLevel1.set(level1, new Array());
                        _this.m_level1arrs.push(level1);
                    }
                    var b2 = _this.m_orgLevel1.get(level1).some(function (code) { return code == level2; });
                    if (!b2)
                        _this.m_orgLevel1.get(level1).push(level2);
                    if (!_this.m_orgLevel2.has(level2)) {
                        _this.m_orgLevel2.set(level2, new Array());
                        _this.m_level2arrs.push(level2);
                    }
                    var b3 = _this.m_orgLevel2.get(level2).some(function (code) { return code == level3; });
                    if (!b3)
                        _this.m_orgLevel2.get(level2).push(level3);
                    break;
            }
        });
        this.m_level1arrs.forEach(function (lvl1) {
            var root = _this.createTreeItem(lvl1, GameManager_1.default.Instance().Data.GetOneOrganizationName(lvl1), 1, false, null);
            _this.treedata.push(root);
            _this.m_orgLevel1.get(lvl1).forEach(function (lvl2) {
                var isleaf = (!_this.m_orgLevel2.has(lvl2) || _this.m_orgLevel2.get(lvl2).length == 0) ? true : false;
                var level2 = _this.createTreeItem(lvl2, GameManager_1.default.Instance().Data.GetOneOrganizationName(lvl2), 2, isleaf, lvl1);
                root.children.push(level2);
                if (_this.m_orgLevel2.has(lvl2)) {
                    _this.m_orgLevel2.get(lvl2).forEach(function (lvl3) {
                        var level3 = _this.createTreeItem(lvl3, GameManager_1.default.Instance().Data.GetOneOrganizationName(lvl3), 3, true, lvl2);
                        level2.children.push(level3);
                    });
                }
            });
        });
        this.uitree.InitTree(this.treedata, null, new Laya.Vector2(Laya.Browser.width - 500, 10), "#FFD700");
        this.uitree.OnValueChanged = function (data, b) {
            _this.OnValueChanged(data, b);
        };
    };
    MainUI.prototype.createTreeItem = function (code, name, level, isLeaf, parentCode) {
        var item = new UITreeItem_1.TreeItemData();
        item.code = code;
        item.name = name;
        item.level = level;
        item.isLeaf = isLeaf;
        item.parentCode = parentCode;
        item.children = new Array();
        return item;
    };
    MainUI.prototype.OnValueChanged = function (arr, b) {
        var str = new Array();
        arr.forEach(function (element) {
            str.push(element.ItemData.code);
        });
        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnDepTreeItemClicked.toString(), [str, b]);
    };
    MainUI.prototype.cleardic = function () {
        var _this = this;
        this.m_level1arrs.forEach(function (element) {
            _this.m_orgLevel1.del(element);
        });
        this.m_level1arrs.splice(0);
        this.m_level2arrs.forEach(function (element) {
            _this.m_orgLevel2.del(element);
        });
        this.m_level2arrs.splice(0);
        this.treedata.splice(0);
    };
    MainUI._instance = null;
    return MainUI;
}(layaMaxUI_1.ui.MainScene.MainSceneUI));
exports.default = MainUI;
},{"./../ui/layaMaxUI":25,"./BIM/BIMManager":3,"./Common/Common":5,"./Events/EventManager":15,"./Events/Events":16,"./GameManager":17,"./UI/Tree/UITree":23,"./UI/Tree/UITreeItem":24}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtProtocalCommon_1 = require("./MtProtocalCommon");
var MtHttp = /** @class */ (function () {
    function MtHttp(ip, port) {
        this.m_ip = ip;
        this.m_port = port;
        this.URL = "http://" + this.m_ip + ":" + this.m_port;
        this.m_http = new Laya.HttpRequest;
        this.m_protocalCommon = new MtProtocalCommon_1.default();
    }
    MtHttp.prototype.get = function (url, caller, callback) {
        this.m_caller = caller;
        this.m_callback = callback;
        this.m_http.once(Laya.Event.COMPLETE, this, this.onHttpRequestComplete);
        this.m_http.once(Laya.Event.ERROR, this, this.onHttpRequestError);
        this.m_http.send(url, null, 'get', 'text');
        return this;
    };
    MtHttp.prototype.post = function (url, data, caller, callback) {
        this.m_caller = caller;
        this.m_callback = callback;
        this.m_http.once(Laya.Event.COMPLETE, this, this.onHttpRequestComplete);
        this.m_http.once(Laya.Event.ERROR, this, this.onHttpRequestError);
        this.m_http.send(url, data, 'post', 'json', this.m_protocalCommon.CommonHeader);
        return this;
    };
    MtHttp.prototype.onHttpRequestError = function (e) {
        this.m_callback.apply(this.m_caller, [{ state: "failed", msg: e }]);
    };
    MtHttp.prototype.onHttpRequestComplete = function (e) {
        this.m_callback.apply(this.m_caller, [{ state: "succeed", data: this.m_http.data }]);
    };
    return MtHttp;
}());
exports.default = MtHttp;
},{"./MtProtocalCommon":21}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//协议--请求头文件
var ProtocolCommon = /** @class */ (function () {
    function ProtocolCommon() {
        this.AccessControlAllowOrigin = "Access-Control-Allow-Origin";
        this.AccessControlAllowOriginValue = "*";
        this.AccessControlAllowHeaders = "Access-Control-Allow-Headers";
        this.AccessControlAllowHeadersValue = "Content-Type,Content-Length, Authorization, Accept,X-Requested-With";
        this.AccessControlAllowMethods = "Access-Control-Allow-Methods";
        this.AccessControlAllowMethodsValue = "POST, GET, OPTIONS,DELETE,PUT";
        this.XAuthTokenField = "X-Auth-Token";
        this.XAuthTokenFieldValue = "open-sesame";
        this.AcceptField = "Accept";
        this.ContentTypeFieldValue = "application/json";
        this.ContentTypeField = "Content-Type";
        this.TokenField = "cookie";
        this.CommonHeader = new Array();
        this.CommonHeader.push(this.AccessControlAllowOrigin, this.AccessControlAllowOriginValue);
        this.CommonHeader.push(this.AccessControlAllowHeaders, this.AccessControlAllowHeadersValue);
        this.CommonHeader.push(this.AccessControlAllowMethods, this.AccessControlAllowMethodsValue);
        this.CommonHeader.push(this.XAuthTokenField, this.XAuthTokenFieldValue);
        this.CommonHeader.push(this.AcceptField, this.ContentTypeFieldValue);
        this.CommonHeader.push(this.ContentTypeField, this.ContentTypeFieldValue);
    }
    ProtocolCommon.prototype.SetCookies = function (cookie) {
        cookie = cookie;
    };
    return ProtocolCommon;
}());
exports.default = ProtocolCommon;
},{}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Handler = laya.utils.Handler;
var GameUI_1 = require("../GameUI");
var ResManager = /** @class */ (function () {
    function ResManager() {
        this.ResNames = new Array();
        this.ResEnitityDic = new Laya.WeakObject();
    }
    ResManager.Instance = function () {
        if (ResManager._instance == null) {
            ResManager._instance = new ResManager();
        }
        return ResManager._instance;
    };
    //加载多个资源
    ResManager.prototype.LoadPrefabAssets = function (resNames, finished) {
        var _this = this;
        if (resNames == null || resNames.length == 0)
            return;
        this.ResNames = resNames;
        Laya.loader.create(resNames, Handler.create(this, function () {
            _this.ResNames.forEach(function (element) {
                var res = Laya.loader.getRes(element.url);
                if (!_this.ResEnitityDic.has(element.url)) {
                    _this.ResEnitityDic.set(element.url, res);
                }
                if (finished != null) {
                    var params = [element.url, res];
                    finished.runWith(params);
                }
            });
        }), Handler.create(this, function (p) {
            _this.SetLoadPercent(p);
        }));
    };
    ResManager.prototype.GetOneAsset = function (url) {
        if (url == null)
            return null;
        if (this.ResEnitityDic.has(url)) {
            return this.ResEnitityDic.get(url);
        }
        else {
            return null;
        }
    };
    ResManager.prototype.ReleaseOneAsset = function (url) {
        if (url == null)
            return;
        var res = this.GetOneAsset(url);
        if (res != null) {
            //待测试，是否释放了内存
            res.destroy(true);
        }
    };
    //待测试
    ResManager.prototype.ReleaseAllAssets = function () {
        var _this = this;
        if (this.ResEnitityDic != null) {
            this.ResNames.forEach(function (element) {
                if (_this.ResEnitityDic.has(element)) {
                    _this.ResEnitityDic.get(element).destroy(true);
                }
            });
        }
    };
    ResManager.prototype.SetLoadPercent = function (p) {
        GameUI_1.default._instance.SetLoadPercent(p);
    };
    return ResManager;
}());
exports.default = ResManager;
},{"../GameUI":18}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UITreeItem_1 = require("./UITreeItem");
var Handler = Laya.Handler;
/**
 * 创建简易树
 */
var UITree = /** @class */ (function () {
    function UITree() {
        this.m_ItemCodes = new Array();
        this.m_treeItemsDic = new Laya.WeakObject();
        this.m_valueChangedItem = new Array();
    }
    UITree.prototype.InitTree = function (items, style, treePos, treeBgColor, uitreeAtlas) {
        var _this = this;
        if (items == null || items.length == 0)
            return;
        var defaultPath = "res/atlas/tree.atlas";
        var _uitreeAtlas = uitreeAtlas == null ? defaultPath : uitreeAtlas;
        Laya.loader.load(_uitreeAtlas, Handler.create(this, function () {
            _this.ClearTreeItemDic();
            if (_this.m_tree == null) {
                //Temp，用VBox制作一个Tree
                _this.m_tree = new Laya.VBox();
                _this.m_tree.x = treePos == null ? 0 : treePos.x;
                _this.m_tree.y = treePos == null ? 0 : treePos.y;
                _this.m_tree.bgColor = treeBgColor == null ? "#ffffff" : treeBgColor;
                Laya.stage.addChild(_this.m_tree);
            }
            if (treeBgColor != null) {
                if (style == null)
                    style = new UITreeItem_1.TreeItemStyle();
                style.ItemColor = treeBgColor;
            }
            items.forEach(function (element) {
                _this.AddItem(element, style);
            });
            _this.RefreshItemPosition();
        }));
    };
    UITree.prototype.AddItem = function (item, style) {
        var _this = this;
        if (item == null)
            return;
        var treeItem = new UITreeItem_1.default();
        treeItem.InitTreeItem(item, style);
        treeItem.OnArrowClick = (function (item, b) { _this.OnArrowClicked(item, b); });
        treeItem.OnCheckBoxClick = (function (item, b) { _this.OnCheckBoxClicked(item, b); });
        this.m_ItemCodes.push(item.code);
        if (!this.m_treeItemsDic.has(item.code))
            this.m_treeItemsDic.set(item.code, treeItem);
        this.m_tree.addChild(treeItem.TreeItem);
        if (!item.isLeaf) {
            item.children.forEach(function (element) {
                _this.AddItem(element, style);
            });
        }
    };
    UITree.prototype.OnArrowClicked = function (item, b) {
        if (item == null)
            return;
        this.RefreshArrowStatus(item.ItemData.code, b);
        this.RefreshItemPosition();
    };
    UITree.prototype.OnCheckBoxClicked = function (item, b) {
        if (item == null)
            return;
        this.m_valueChangedItem.splice(0);
        if (!item.ItemData.isLeaf)
            this.RefreshCheckStatusByParent(item.ItemData, b);
        else
            this.m_valueChangedItem.push(item);
        this.RefreshCheckStatusByChildren(item.ItemData);
        if (this.OnValueChanged)
            this.OnValueChanged(this.m_valueChangedItem, b);
    };
    UITree.prototype.RefreshCheckStatusByParent = function (data, b) {
        var _this = this;
        if (data == null || !this.m_treeItemsDic.has(data.code))
            return;
        var treeItem = this.m_treeItemsDic.get(data.code);
        if (treeItem.ItemData.children != null) {
            treeItem.ItemData.children.forEach(function (element) {
                if (_this.m_treeItemsDic.has(element.code)) {
                    var child = _this.m_treeItemsDic.get(element.code);
                    child.SetCheckboxStatus(b ? UITreeItem_1.CheckStatus.check : UITreeItem_1.CheckStatus.uncheck);
                    if (child.ItemData.isLeaf)
                        _this.m_valueChangedItem.push(child);
                    _this.RefreshCheckStatusByParent(child.ItemData, b);
                }
            });
        }
    };
    UITree.prototype.RefreshCheckStatusByChildren = function (data) {
        if (data.level == 1)
            return;
        var check = 0;
        var partly = 0;
        var parent = this.m_treeItemsDic.has(data.parentCode) ? this.m_treeItemsDic.get(data.parentCode) : null;
        if (parent) {
            parent.ItemData.children.forEach(function (element) {
                switch (element.status) {
                    case UITreeItem_1.CheckStatus.check:
                        check++;
                        break;
                    case UITreeItem_1.CheckStatus.partly:
                        partly++;
                        break;
                }
            });
            if (partly > 0) {
                parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.partly);
            }
            else {
                if (check == 0) {
                    parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.uncheck);
                    this.RefreshCheckStatusByChildren(parent.ItemData);
                }
                else if (check == parent.ItemData.children.length) {
                    parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.check);
                    this.RefreshCheckStatusByChildren(parent.ItemData);
                }
                else {
                    parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.partly);
                }
            }
        }
    };
    UITree.prototype.RefreshArrowStatus = function (code, b) {
        var _this = this;
        if (code == null || !this.m_treeItemsDic.has(code))
            return;
        var treeItem = this.m_treeItemsDic.get(code);
        treeItem.ItemData.children.forEach(function (element) {
            if (_this.m_treeItemsDic.has(element.code)) {
                var child = _this.m_treeItemsDic.get(element.code);
                child.TreeItem.visible = b;
                if (!b && !child.ItemData.isLeaf) {
                    _this.RefreshArrowStatus(child.ItemData.code, b);
                    child.SetArrowStatus(b);
                }
            }
        });
    };
    UITree.prototype.RefreshItemPosition = function () {
        var _this = this;
        var treelist = new Array();
        treelist.splice(0);
        this.m_ItemCodes.forEach(function (element) {
            var item = _this.m_treeItemsDic.get(element);
            if (item.TreeItem.visible) {
                treelist.push(item);
            }
        });
        for (var i = 0; i < treelist.length; i++) {
            treelist[i].TreeItem.y = i * 50;
        }
        this.m_tree.height = treelist.length * 50;
    };
    UITree.prototype.ClearTreeItemDic = function () {
        var _this = this;
        this.m_ItemCodes.forEach(function (element) {
            if (_this.m_treeItemsDic.has(element)) {
                var item = _this.m_treeItemsDic.get(element);
                item.TreeItem.destroy();
                _this.m_treeItemsDic.del(element);
            }
        });
        this.m_ItemCodes.splice(0);
    };
    return UITree;
}());
exports.default = UITree;
},{"./UITreeItem":24}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var TreeItemData = /** @class */ (function () {
    function TreeItemData() {
    }
    return TreeItemData;
}());
exports.TreeItemData = TreeItemData;
var TreeItemStyle = /** @class */ (function () {
    function TreeItemStyle() {
    }
    return TreeItemStyle;
}());
exports.TreeItemStyle = TreeItemStyle;
var TreeStyle;
(function (TreeStyle) {
    TreeStyle[TreeStyle["Normal"] = 0] = "Normal";
    TreeStyle[TreeStyle["Legend"] = 1] = "Legend";
})(TreeStyle = exports.TreeStyle || (exports.TreeStyle = {}));
var CheckStatus;
(function (CheckStatus) {
    CheckStatus[CheckStatus["check"] = 0] = "check";
    CheckStatus[CheckStatus["partly"] = 1] = "partly";
    CheckStatus[CheckStatus["uncheck"] = 2] = "uncheck";
})(CheckStatus = exports.CheckStatus || (exports.CheckStatus = {}));
var UITreeItem = /** @class */ (function () {
    function UITreeItem() {
        this.m_treeItemWidth = 300;
        this.m_treeItemHeight = 50;
        this.m_treeItemIntentLevel = 30;
        this.m_treeItemInnerSpace = 10;
        this.m_treeItemBgColor = "#ffffff";
        this.m_labelColor = "#000000";
        this.m_fontsize = 30;
        this.m_align = "left";
    }
    /** *******************Public Methods*************************************************/
    UITreeItem.prototype.InitTreeItem = function (data, itemStyle) {
        if (data == null)
            return;
        this.ItemData = data;
        this.SetTreeItemStyle(itemStyle);
        this.CreateArrow();
        this.CreateCheckBox();
        this.CreateLabel();
        this.CreateHBox();
    };
    UITreeItem.prototype.SetTreeItemStyle = function (style) {
        if (style == null)
            return;
        this.m_treeItemWidth = style.ItemWidth == null ? this.m_treeItemWidth : style.ItemWidth;
        this.m_treeItemHeight = style.ItemHeigth == null ? this.m_treeItemHeight : style.ItemHeigth;
        this.m_treeItemIntentLevel = style.ItemIntentLevel == null ? this.m_treeItemIntentLevel : style.ItemIntentLevel;
        this.m_treeItemInnerSpace = style.ItemInnerSpace == null ? this.m_treeItemInnerSpace : style.ItemInnerSpace;
        this.m_treeItemBgColor = style.ItemColor == null ? this.m_treeItemBgColor : style.ItemColor;
        this.m_labelColor = style.LabelColor == null ? this.m_labelColor : style.LabelColor;
        this.m_fontsize = style.LabelFontsize == null ? this.m_fontsize : style.LabelFontsize;
        this.m_align = style.LabelAlign == null ? this.m_align : style.LabelAlign;
    };
    UITreeItem.prototype.SetArrowStatus = function (b) {
        this.ItemData.arrowStatus = b;
        if (this.ItemData.arrowStatus) {
            this.Arrow.index = 1;
        }
        else {
            this.Arrow.index = 0;
        }
    };
    UITreeItem.prototype.SetCheckboxStatus = function (status) {
        switch (status) {
            case CheckStatus.check:
                this.CheckBox.index = 2;
                this.ItemData.status = CheckStatus.check;
                break;
            case CheckStatus.partly:
                this.CheckBox.index = 1;
                this.ItemData.status = CheckStatus.partly;
                break;
            case CheckStatus.uncheck:
                this.CheckBox.index = 0;
                this.ItemData.status = CheckStatus.uncheck;
                break;
        }
    };
    UITreeItem.prototype.SetContent = function (content) {
        this.Label.text = content;
    };
    /****************************TreeItem**************************************************/
    UITreeItem.prototype.CreateHBox = function (intentLevel) {
        this.TreeItem = new Laya.HBox();
        this.TreeItem.name = "treeItem";
        this.TreeItem.space = this.m_treeItemInnerSpace;
        this.TreeItem.width = this.m_treeItemWidth;
        this.TreeItem.height = this.m_treeItemHeight;
        if (this.m_treeItemBgColor.length > 7) {
            this.m_treeItemBgColor = this.m_treeItemBgColor.substr(0, 7) + "00";
        }
        this.TreeItem.bgColor = this.m_treeItemBgColor;
        this.TreeItem.x = this.m_treeItemIntentLevel * (this.ItemData.level - 1);
        this.TreeItem.addChild(this.Arrow);
        this.TreeItem.addChild(this.CheckBox);
        this.TreeItem.addChild(this.Label);
        Laya.stage.addChild(this.TreeItem);
    };
    /** ***********************arrow*******************************************************/
    UITreeItem.prototype.CreateArrow = function () {
        var _this = this;
        var arrowRes = "tree/arrow.png";
        this.Arrow = new Laya.Clip(arrowRes, 1, 2);
        this.Arrow.width = this.m_treeItemHeight - 20;
        this.Arrow.height = this.m_treeItemHeight - 20;
        this.Arrow.y = 10;
        this.Arrow.clipY = 2;
        this.Arrow.name = "arrow";
        if (this.ItemData.isLeaf)
            this.Arrow.visible = false;
        this.SetArrowStatus(true);
        this.Arrow.on(Laya.Event.CLICK, this, function (e) {
            e.stopPropagation();
            _this.ItemData.arrowStatus = !_this.ItemData.arrowStatus;
            _this.SetArrowStatus(_this.ItemData.arrowStatus);
            if (_this.OnArrowClick)
                _this.OnArrowClick(_this, _this.ItemData.arrowStatus);
        });
        Laya.stage.addChild(this.Arrow);
    };
    /******************CheckBox************************************************************/
    UITreeItem.prototype.CreateCheckBox = function () {
        var _this = this;
        this.CheckBox = new Laya.Clip("tree/checkbox.png", 1, 2);
        this.CheckBox.width = this.m_treeItemHeight - 20;
        this.CheckBox.height = this.m_treeItemHeight - 20;
        this.CheckBox.y = 10;
        this.CheckBox.clipY = 3;
        this.CheckBox.name = "checkbox";
        this.SetCheckboxStatus(CheckStatus.check); //默认全选
        this.CheckBox.on(Laya.Event.CLICK, this, function (e) {
            e.stopPropagation();
            var b = _this.ItemData.status == CheckStatus.uncheck ? false : true;
            _this.SetCheckboxStatus(!b ? CheckStatus.check : CheckStatus.uncheck);
            if (_this.OnCheckBoxClick)
                _this.OnCheckBoxClick(_this, !b);
        });
        Laya.stage.addChild(this.CheckBox);
    };
    /****************Label*****************************************************************/
    UITreeItem.prototype.CreateLabel = function () {
        this.Label = new Laya.Label();
        this.Label.name = "label";
        this.Label.height = this.m_treeItemHeight;
        this.Label.align = this.m_align;
        this.Label.valign = "middle";
        this.Label.fontSize = this.m_fontsize;
        this.Label.color = this.m_labelColor;
        this.SetContent(this.ItemData.name);
        Laya.stage.addChild(this.Label);
    };
    return UITreeItem;
}());
exports.default = UITreeItem;
},{}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var MainScene;
    (function (MainScene) {
        var MainSceneUI = /** @class */ (function (_super) {
            __extends(MainSceneUI, _super);
            function MainSceneUI() {
                return _super.call(this) || this;
            }
            MainSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(MainSceneUI.uiView);
            };
            MainSceneUI.uiView = { "type": "Scene", "props": { "width": 600, "height": 900 }, "compId": 2, "child": [{ "type": "Button", "props": { "y": 271, "x": 23, "width": 80, "var": "DepBtn", "skin": "comp/button.png", "labelSize": 30, "label": "科室", "height": 60 }, "compId": 7 }, { "type": "Button", "props": { "y": 355, "x": 23, "width": 80, "var": "UsageBtn", "skin": "comp/button.png", "labelSize": 30, "label": "用途", "height": 60 }, "compId": 8 }, { "type": "Button", "props": { "y": 437, "x": 23, "width": 80, "var": "AreaBtn", "skin": "comp/button.png", "labelSize": 30, "label": "面积", "height": 60 }, "compId": 9 }, { "type": "Button", "props": { "y": 600, "x": 476, "width": 80, "var": "MultiBtn", "skin": "comp/button.png", "labelSize": 30, "label": "折叠", "height": 60 }, "compId": 13 }, { "type": "Button", "props": { "y": 680, "x": 23, "width": 80, "var": "_2D3DBtn", "skin": "comp/button.png", "labelSize": 30, "label": "2D", "height": 60 }, "compId": 14 }, { "type": "Button", "props": { "y": 680, "x": 476, "width": 80, "var": "AllBtn", "skin": "comp/button.png", "labelSize": 30, "label": "全部", "height": 60 }, "compId": 26 }], "loadList": ["comp/button.png"], "loadList3D": [] };
            return MainSceneUI;
        }(Scene));
        MainScene.MainSceneUI = MainSceneUI;
        REG("ui.MainScene.MainSceneUI", MainSceneUI);
    })(MainScene = ui.MainScene || (ui.MainScene = {}));
})(ui = exports.ui || (exports.ui = {}));
(function (ui) {
    var portal;
    (function (portal) {
        var LoadingUI = /** @class */ (function (_super) {
            __extends(LoadingUI, _super);
            function LoadingUI() {
                return _super.call(this) || this;
            }
            LoadingUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("portal/Loading");
            };
            return LoadingUI;
        }(Scene));
        portal.LoadingUI = LoadingUI;
        REG("ui.portal.LoadingUI", LoadingUI);
    })(portal = ui.portal || (ui.portal = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2lkZS9MYXlhQWlySURFX2JldGEgKDEpL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9NYWluLnRzIiwic3JjL010R2FtZUNvbmZpZy50cyIsInNyYy9zY3JpcHQvQklNL0JJTU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0NhbWVyYS9DYW1lcmFNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9Db21tb24vQ29tbW9uLnRzIiwic3JjL3NjcmlwdC9Db21wb25lbnQvQ2FtZXJhTW92ZVNjcmlwdC50cyIsInNyYy9zY3JpcHQvQ29tcG9uZW50L0xhYmVsVXBkYXRlLnRzIiwic3JjL3NjcmlwdC9Db21wb25lbnQvTGlnaHRDb250cm9sLnRzIiwic3JjL3NjcmlwdC9Db21wb25lbnQvUmF5U2VsZWN0b3IudHMiLCJzcmMvc2NyaXB0L0NvbmZpZ3VyZS9OYW1lQ29uZmlnLnRzIiwic3JjL3NjcmlwdC9EYXRhL0RhdGFNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9EYXRhL1RhYmxlQklNU3BhY2UudHMiLCJzcmMvc2NyaXB0L0RhdGEvVGFibGVCSU1Vc2FnZVR5cGUudHMiLCJzcmMvc2NyaXB0L0RhdGEvVGFibGVPcmduaXphdGlvbi50cyIsInNyYy9zY3JpcHQvRXZlbnRzL0V2ZW50TWFuYWdlci50cyIsInNyYy9zY3JpcHQvRXZlbnRzL0V2ZW50cy50cyIsInNyYy9zY3JpcHQvR2FtZU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0dhbWVVSS50cyIsInNyYy9zY3JpcHQvTWFpblVJLnRzIiwic3JjL3NjcmlwdC9OZXR3b3JrL010SHR0cC50cyIsInNyYy9zY3JpcHQvTmV0d29yay9NdFByb3RvY2FsQ29tbW9uLnRzIiwic3JjL3NjcmlwdC9SZXNvdXJjZS9SZXNNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9VSS9UcmVlL1VJVHJlZS50cyIsInNyYy9zY3JpcHQvVUkvVHJlZS9VSVRyZWVJdGVtLnRzIiwic3Jj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QUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsT0FBTyxFQUFDLEdBQUcsRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxPQUFPLEVBQUMsQ0FBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsaUJBQWlCLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsU0FBUyxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsaUJBQWlCLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLGlCQUFpQixDQUFDLEVBQUMsWUFBWSxFQUFDLEVBQUUsRUFBQyxDQUFDO1lBTXpnQyxrQkFBQztTQWJELEFBYUMsQ0FiZ0MsS0FBSyxHQWFyQztRQWJZLHFCQUFXLGNBYXZCLENBQUE7UUFDRCxHQUFHLENBQUMsMEJBQTBCLEVBQUMsV0FBVyxDQUFDLENBQUM7SUFDaEQsQ0FBQyxFQWhCZ0IsU0FBUyxHQUFULFlBQVMsS0FBVCxZQUFTLFFBZ0J6QjtBQUFELENBQUMsRUFoQmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBZ0JmO0FBQ0QsV0FBYyxFQUFFO0lBQUMsSUFBQSxNQUFNLENBYXRCO0lBYmdCLFdBQUEsTUFBTTtRQUNuQjtZQUErQiw2QkFBSztZQUtoQzt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsa0NBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JDLENBQUM7WUFDTCxnQkFBQztRQUFELENBVkEsQUFVQyxDQVY4QixLQUFLLEdBVW5DO1FBVlksZ0JBQVMsWUFVckIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxTQUFTLENBQUMsQ0FBQztJQUN6QyxDQUFDLEVBYmdCLE1BQU0sR0FBTixTQUFNLEtBQU4sU0FBTSxRQWF0QjtBQUFELENBQUMsRUFiYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFhZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9NdEdhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxyXG5pbXBvcnQgTWFpblVJIGZyb20gXCIuL3NjcmlwdC9NYWluVUlcIjtcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZ1bGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInBvcnRhbC9Mb2FkaW5nLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgUmVzTWFuYWdlciBmcm9tIFwiLi4vUmVzb3VyY2UvUmVzTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBDb21tb24gZnJvbSBcIi4uL0NvbW1vbi9Db21tb25cIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCB7IFNwYWNlRGF0YSB9IGZyb20gXCIuLi9EYXRhL1RhYmxlQklNU3BhY2VcIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgTGFiZWxVcGRhdFBvcyBmcm9tIFwiLi4vQ29tcG9uZW50L0xhYmVsVXBkYXRlXCI7XHJcblxyXG4vKipcclxuICogQklN566h55CG57G777yM55So5LqO5Yqg6L2944CB5Yid5aeL5YyW5qih5Z6L77yb5qih5Z6L5omT5YyF5qC85byP5Li6Lmxo5paH5Lu277yM5Lul5bGC5Li65Y2V5L2NXHJcbiAqIOminOiJsuiusOW9leS5n+WcqOatpFxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJJTU1hbmFnZXJ7XHJcblxyXG4gICAgcHVibGljIExldmVsczpBcnJheTxzdHJpbmc+O1xyXG4gICAgcHVibGljIEN1cnJlbkxldmVsOnN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIG1fc3BhY2VEaWM6TGF5YS5XZWFrT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBtX2xldmVsU3BzY2VEaWM6TGF5YS5XZWFrT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBtX2xldmVsUmVzOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBwcml2YXRlIG1fM2RsYWJlbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDgwO1xyXG4gICAgcHJpdmF0ZSBtXzNkbGFiZWxUb3RhbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDE4MDtcclxuICAgIHByaXZhdGUgbV8yZGxhYmVsRGlzYXBwZWFyRGlzdGFuY2U6bnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSBtXzJkbGFiZWxUb3RhbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDE4MDtcclxuICBcclxuICAgIHByaXZhdGUgbV9kZWZhdWx0Rmxvb3JDb2xvciA9IFwiI0RDMTQzQ1wiO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5tX3NwYWNlRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgICAgIHRoaXMubV9sZXZlbFJlcyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgICAgICB0aGlzLkxldmVscyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgIHRoaXMuQWRkRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgQWRkRXZlbnRzKCl7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuQWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuT25DYW1lcmFEaXN0YW5jZUNoYW5nZWQudG9TdHJpbmcoKSx0aGlzLHRoaXMuU2hvd0hpZGVUYWdzQnlEaXN0YW5jZSk7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuQWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuT25EZXBUcmVlSXRlbUNsaWNrZWQudG9TdHJpbmcoKSx0aGlzLHRoaXMuU2V0T25lTGV2ZWxGbG9vckNvbG9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAgKiDliqDovb3miYDmnInmpbzlsYLotYTmupDvvIzlubbliJ3lp4vljJbmpbzmnb/vvIzpu5jorqTpmpDol4/vvIxHYW1lTWFuYWdlcuS4reW8gOWQr+m7mOiupOWxglxyXG4gICAgICog5Zue6LCD5Ye95pWw6Iul6ZyA6KaB5omn6KGM5aSa5qyh77yM5YiZ6ZyA6KaB5bCGb25jZee9ruS4umZhbHNlXHJcbiAgICAgKiBAcGFyYW0gcmVzVXJsXHJcbiAgICAgKiBAcGFyYW0gb25Db21wbGV0ZVxyXG4gICAgICovXHJcbiAgICBMb2FkUmVzKHJlc1VybDpBcnJheTxhbnk+LG9uQ29tcGxldGU/OmFueSl7XHJcbiAgICAgICAgaWYocmVzVXJsPT1udWxsIHx8IHJlc1VybC5sZW5ndGggPT0gMCkgXHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcblxyXG4gICAgICAgIHZhciBpbmRleDpudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBSZXNNYW5hZ2VyLkluc3RhbmNlKCkuTG9hZFByZWZhYkFzc2V0cyhyZXNVcmwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCh1cmwscmVzKT0+e1xyXG5cclxuICAgICAgICAgICAgLy/liJ3lp4vljJYzROWcuuaZr++8jOWIneWni+WMluS4gOasoVxyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkluaXQzRFNjZW5lKCk7XHJcblxyXG4gICAgICAgICAgICAvL+Wwhui1hOa6kOWKoOWFpeWcuuaZr1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZS5hZGRDaGlsZChyZXMpO1xyXG5cclxuICAgICAgICAgICAgLy/pgY3ljobmiYDmnInotYTmupBcclxuICAgICAgICAgICAgdGhpcy5UcmF2ZWxNZXNoU3ByaXRlM0QocmVzKTtcclxuXHJcbiAgICAgICAgICAgIC8v6LWE5rqQ6buY6K6k6ZqQ6JePXHJcbiAgICAgICAgICAgIHJlcy5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8v6I635b6X5omA5pyJ5qW85bGCXHJcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IENvbW1vbi5QYXJzZUxvYWRMZXZlbCh1cmwpO1xyXG4gICAgICAgICAgICB0aGlzLkxldmVscy5wdXNoKGxldmVsKTtcclxuXHJcbiAgICAgICAgICAgIC8v6K6w5b2V5b2T5YmN5qW85bGC6LWE5rqQXHJcbiAgICAgICAgICAgIGlmKCF0aGlzLm1fbGV2ZWxSZXMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxSZXMuc2V0KGxldmVsLHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGluZGV4Kys7XHJcblxyXG4gICAgICAgICAgICBpZihpbmRleCA9PSByZXNVcmwubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIC8v6K6+572u6buY6K6k55qE5qW85bGC5Li656ys5LiA5LiqXHJcbiAgICAgICAgICAgICAgICB0aGlzLkN1cnJlbkxldmVsID0gdGhpcy5MZXZlbHNbMF07XHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlLmFwcGx5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LG51bGwsZmFsc2UpKTsgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yi35paw5b2T5YmN5pi+56S65qW85bGCVGFnc+eahOWGheWuue+8jOmAmui/h+agh+etvuexu+Wei0xhYmVsVHlwZeadpeaUueWPmDtcclxuICAgICAqIEBwYXJhbSB0eXBlIOagh+etvuexu+Wei1xyXG4gICAgICovXHJcbiAgICBSZWZyZXNoTGFiZWxDb250ZW50KHR5cGU6IExhYmVsVHlwZSl7XHJcbiAgICAgICAgaWYodGhpcy5DdXJyZW5MZXZlbCA9PW51bGx8fFxyXG4gICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljID09IG51bGx8fFxyXG4gICAgICAgICAgIHRoaXMubV9zcGFjZURpYyA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFNwc2NlRGljLmhhcyh0aGlzLkN1cnJlbkxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljLmdldCh0aGlzLkN1cnJlbkxldmVsKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tX3NwYWNlRGljLmhhcyhlbGVtZW50KSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbG9vcjpGbG9vckl0ZW0gPSB0aGlzLm1fc3BhY2VEaWMuZ2V0KGVsZW1lbnQpIGFzIEZsb29ySXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmxvb3IgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhYmVsVHlwZS5EZXBhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC50ZXh0ID0gZmxvb3IuT3JnYW5pYXp0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXRIZXhDb2xvcihmbG9vci5PYmplY3QsIGZsb29yLm9yZ2FuaXphdGlvbkNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFiZWxUeXBlLkFyZWE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC50ZXh0ID0gZmxvb3IuYXJlYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhYmVsVHlwZS5Vc2FnZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLmxhYmVsLnRleHQgPSBmbG9vci51c2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2V0SGV4Q29sb3IoZmxvb3IuT2JqZWN0LCBmbG9vci51c2FnZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGIg5pi+56S65oiW6ZqQ6JeP5YWo6YOo5qW85bGC77yM5pi+56S65YWo6YOo5qW85bGC5pe277yM6KaB5YWz5o6JdGFnc1xyXG4gICAgICovXHJcbiAgICBTaG93QWxsTGV2ZWxzKGI6Ym9vbGVhbil7XHJcbiAgICAgICAgaWYodGhpcy5MZXZlbHMgPT0gbnVsbHx8dGhpcy5MZXZlbHMubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5MZXZlbHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYoYil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNob3dPbmVMZXZlbEZsb29ycyhlbGVtZW50LHRydWUpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5IaWRlT25lTGV2ZWxGbG9vcnMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrpmpDol4/mpbzlsYLlj4rmpbzlsYJUYWdcclxuICAgICAqIEBwYXJhbSBsZXZlbCDmpbzlsYJcclxuICAgICAqIEBwYXJhbSBiIOaYvi/pmpBcclxuICAgICAqL1xyXG4gICAgU2hvd09uZUxldmVsRmxvb3JzKGxldmVsOnN0cmluZyxpc1Nob3dBbGw/OmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKGxldmVsID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgLy/lvIDlkK9sZXZlbFJvb3RcclxuICAgICAgICBpZih0aGlzLm1fbGV2ZWxSZXMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHZhciByZXM6TGF5YS5TcHJpdGUzRCA9IHRoaXMubV9sZXZlbFJlcy5nZXQobGV2ZWwpO1xyXG4gICAgICAgICAgICByZXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFNwc2NlRGljLmhhcyhsZXZlbCkpe1xyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxTcHNjZURpYy5nZXQobGV2ZWwpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fc3BhY2VEaWMuaGFzKGVsZW1lbnQpKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZsb29ySXRlbTpGbG9vckl0ZW0gPSB0aGlzLm1fc3BhY2VEaWMuZ2V0KGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihmbG9vckl0ZW0hPW51bGwgJiYgZmxvb3JJdGVtLmxhYmVsIT1udWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNTaG93QWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29ySXRlbS5sYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JJdGVtLmxhYmVsLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5DdXJyZW5MZXZlbCA9IGxldmVsO1xyXG4gICAgfVxyXG5cclxuICAgIEhpZGVPbmVMZXZlbEZsb29ycyhsZXZlbDpzdHJpbmcpe1xyXG4gICAgICAgIGlmKGxldmVsID09IG51bGwpXHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAvL+W8gOWQr2xldmVsUm9vdFxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFJlcy5oYXMobGV2ZWwpKXtcclxuICAgICAgICAgICAgdmFyIHJlczpMYXlhLlNwcml0ZTNEID0gdGhpcy5tX2xldmVsUmVzLmdldChsZXZlbCk7XHJcbiAgICAgICAgICAgIHJlcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFNwc2NlRGljLmhhcyhsZXZlbCkpe1xyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxTcHNjZURpYy5nZXQobGV2ZWwpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fc3BhY2VEaWMuaGFzKGVsZW1lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmxvb3JJdGVtOkZsb29ySXRlbSA9IHRoaXMubV9zcGFjZURpYy5nZXQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmxvb3JJdGVtIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmxvb3JJdGVtLmxhYmVsIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29ySXRlbS5sYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAmui/h0NvZGXojrflj5bkuIDkuKpGbG9vckl0ZW1cclxuICAgICAqIEBwYXJhbSBjb2RlIFxyXG4gICAgICovXHJcbiAgICBHZXRPbmVGbG9vckl0ZW0oY29kZTpzdHJpbmcpOkZsb29ySXRlbXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBpZih0aGlzLm1fc3BhY2VEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubV9zcGFjZURpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgR2V0T25lRmxvb3JTcHJpdGUzRChjb2RlOnN0cmluZyk6TGF5YS5NZXNoU3ByaXRlM0R7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKXJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBpZih0aGlzLm1fc3BhY2VEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGZsb29yID0gdGhpcy5tX3NwYWNlRGljLmdldChjb2RlKSBhcyBGbG9vckl0ZW07XHJcbiAgICAgICAgICAgIHJldHVybiBmbG9vci5PYmplY3Q7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIHByaXZhdGUgVHJhdmVsTWVzaFNwcml0ZTNEKHBhcmVudDpMYXlhLlNwcml0ZTNEKXtcclxuICAgICAgICBpZihwYXJlbnQ9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDtpPHBhcmVudC5fY2hpbGRyZW4ubGVuZ3RoO2krKyl7XHJcblxyXG4gICAgICAgICAgICB2YXIgbWVzaFNwcml0ZTNEIDogTGF5YS5NZXNoU3ByaXRlM0QgPSBwYXJlbnQuZ2V0Q2hpbGRBdChpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHJcbiAgICAgICAgICAgIGlmKG1lc2hTcHJpdGUzRCAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGlmKG1lc2hTcHJpdGUzRC5tZXNoRmlsdGVyIT1udWxsIFxyXG4gICAgICAgICAgICAgICAgICAgICYmIG1lc2hTcHJpdGUzRC5wYXJlbnQubmFtZSA9PSBOYW1lQ29uZmlnLmZsb29yKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5JbnN0YW50aWF0ZUZsb29ySXRlbShtZXNoU3ByaXRlM0QpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVHJhdmVsTWVzaFNwcml0ZTNEKG1lc2hTcHJpdGUzRCk7XHJcbiAgICAgICAgICAgICAgICB9ICAgICBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlr7nosaHljJZGbG9vclxyXG4gICAgICogQHBhcmFtIGZsb29yIFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIEluc3RhbnRpYXRlRmxvb3JJdGVtKGZsb29yOkxheWEuTWVzaFNwcml0ZTNEKXtcclxuICAgICAgICBpZihmbG9vciA9PW51bGwpcmV0dXJuO1xyXG4gICAgICAgICB2YXIgbWVzaE5hbWUgPSBmbG9vci5uYW1lO1xyXG4gICAgICAgICB2YXIgZGF0YTpTcGFjZURhdGEgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lU3BhY2VEYXRhKG1lc2hOYW1lKTtcclxuXHJcbiAgICAgICAgIGlmKGRhdGEhPW51bGwpe1xyXG4gICAgICAgICAgICB2YXIgZmxvb3JJdGVtID0gdGhpcy5DcmVhdGVGbG9vckl0ZW0oZmxvb3IsZGF0YSk7XHJcblxyXG4gICAgICAgICAgICBpZighdGhpcy5tX3NwYWNlRGljLmhhcyhtZXNoTmFtZSkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX3NwYWNlRGljLnNldChtZXNoTmFtZSxmbG9vckl0ZW0pOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy/orrDlvZXlvZPliY3lsYLmiYDmnInnmoTmpbzmnb9cclxuICAgICAgICAgICAgaWYoIXRoaXMubV9sZXZlbFNwc2NlRGljLmhhcyhkYXRhLmxldmVsQ29kZSkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsU3BzY2VEaWMuc2V0KGRhdGEubGV2ZWxDb2RlLG5ldyBBcnJheTxhbnk+KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBhcnI6QXJyYXk8YW55PiA9IHRoaXMubV9sZXZlbFNwc2NlRGljLmdldChkYXRhLmxldmVsQ29kZSk7XHJcbiAgICAgICAgICAgIGFyci5wdXNoKG1lc2hOYW1lKTtcclxuXHJcbiAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgIHtcclxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiREIgbm90IGNvbnRhaW4gdGhpcyB7MH0gZmxvb3JcIixtZXNoTmFtZSk7XHJcbiAgICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZUZsb29ySXRlbShmbG9vcjpMYXlhLk1lc2hTcHJpdGUzRCwgZGF0YTpTcGFjZURhdGEpOkZsb29ySXRlbXtcclxuICAgICAgICBpZihmbG9vciA9PSBudWxsIHx8IGRhdGEgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuOyAgICAgICBcclxuICAgICAgICB2YXIgaXRlbSA9IG5ldyBGbG9vckl0ZW0oKTtcclxuICAgICAgICBpdGVtLk9iamVjdCA9IGZsb29yO1xyXG4gICAgICAgIGl0ZW0uVHJhbnNmb3JtID0gZmxvb3IudHJhbnNmb3JtO1xyXG4gICAgICAgIGl0ZW0uT3JnYW5pYXp0aW9uID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZU9yZ2FuaXphdGlvbk5hbWUoZGF0YS5vcmdhbml6YXRpb25Db2RlLFwiMlwiKTtcclxuICAgICAgICBpdGVtLm9yZ2FuaXphdGlvbkNvbG9yID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZU9yZ2FuaXphdGlvbkNvbG9yKGRhdGEub3JnYW5pemF0aW9uQ29kZSk7XHJcbiAgICAgICAgaXRlbS51c2FnZSA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuRGF0YS5HZXRPbmVVc2FnZU5hbWUoZGF0YS51c2FnZVR5cGVDb2RlKVxyXG4gICAgICAgIGl0ZW0udXNhZ2VDb2xvciA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuRGF0YS5HZXRPbmVVc2FnZUNvbG9yKGRhdGEudXNhZ2VUeXBlQ29kZSk7XHJcbiAgICAgICAgaXRlbS5hcmVhID0gZGF0YS51c2VBcmVhOyAgXHJcblxyXG4gICAgICAgIC8vVEVNUDrpu5jorqTmmL7npLrnlKjpgJRcclxuICAgICAgICBpdGVtLmxhYmVsID0gdGhpcy5DcmVhdGVPbmVGbG9vclRhZyhHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkNhbWVyYS5DYW1lcmEsZmxvb3IsaXRlbS51c2FnZSk7XHJcbiAgICAgICAgdGhpcy5TZXRIZXhDb2xvcihmbG9vcixpdGVtLnVzYWdlQ29sb3IpO1xyXG5cclxuICAgICAgICAvL+m7mOiupFRhZ+makOiXj1xyXG4gICAgICAgIGl0ZW0ubGFiZWwudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ3JlYXRlT25lRmxvb3JUYWcoY2FtZXJhOkxheWEuQ2FtZXJhLCBmbG9vcjpMYXlhLk1lc2hTcHJpdGUzRCAsIGNvbnRlbnQ6c3RyaW5nKSA6TGF5YS5MYWJlbHtcclxuICAgICAgICB2YXIgbGFiZWwgOkxheWEuTGFiZWwgPSBuZXcgTGF5YS5MYWJlbCgpO1xyXG4gICAgICAgIGxhYmVsLmFkZENvbXBvbmVudChMYWJlbFVwZGF0UG9zKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKGxhYmVsKTtcclxuXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IGxhYmVsLmdldENvbXBvbmVudChMYWJlbFVwZGF0UG9zKSBhcyBMYWJlbFVwZGF0UG9zO1xyXG4gICAgICAgIGNvbXBvbmVudC5Jbml0KGZsb29yLGNhbWVyYSxjb250ZW50KTtcclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmoLnmja7mkYTlg4/mnLrnmoTliLDljp/ngrnnmoTot53nprvmmL7npLrmiJbpmpDol49MYWJlbFxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIFNob3dIaWRlVGFnc0J5RGlzdGFuY2UoZGlzdGFuY2U6bnVtYmVyKXtcclxuICAgICAgICBsZXQgc3RhcnRkaXNhcHBlYXJkaXMgPSAwO1xyXG4gICAgICAgIGxldCB0b3RhbGRpc2FwcGVhcmRpcyA9IDA7XHJcblxyXG4gICAgICAgIGlmKEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQ2FtZXJhLklzMkQpe1xyXG4gICAgICAgICAgICBzdGFydGRpc2FwcGVhcmRpcyA9IHRoaXMubV8yZGxhYmVsRGlzYXBwZWFyRGlzdGFuY2U7XHJcbiAgICAgICAgICAgIHRvdGFsZGlzYXBwZWFyZGlzID0gdGhpcy5tXzJkbGFiZWxUb3RhbERpc2FwcGVhckRpc3RhbmNlXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHN0YXJ0ZGlzYXBwZWFyZGlzID0gdGhpcy5tXzNkbGFiZWxEaXNhcHBlYXJEaXN0YW5jZTtcclxuICAgICAgICAgICAgdG90YWxkaXNhcHBlYXJkaXMgPSB0aGlzLm1fM2RsYWJlbFRvdGFsRGlzYXBwZWFyRGlzdGFuY2VcclxuICAgICAgICB9ICBcclxuXHJcbiAgICAgICAgaWYoZGlzdGFuY2UgPiBzdGFydGRpc2FwcGVhcmRpcyl7XHJcbiAgICAgICAgICAgIGxldCBmbG9vcnM6QXJyYXk8YW55PiA9IHRoaXMubV9sZXZlbFNwc2NlRGljLmdldCh0aGlzLkN1cnJlbkxldmVsKTtcclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gZmxvb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgbGV0IGludGVydmFsID0gKHRvdGFsZGlzYXBwZWFyZGlzIC0gc3RhcnRkaXNhcHBlYXJkaXMpIC8gY291bnQ7XHJcbiAgICAgICAgICAgIGxldCBwb2ludGVyID0gKGRpc3RhbmNlIC0gc3RhcnRkaXNhcHBlYXJkaXMpIC8gaW50ZXJ2YWw7XHJcblxyXG4gICAgICAgICAgICBmbG9vcnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGZsb29ycy5pbmRleE9mKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsb29yOkZsb29ySXRlbSA9IHRoaXMubV9zcGFjZURpYy5nZXQoZWxlbWVudCk7IFxyXG4gICAgICAgICAgICAgICAgaWYoZmxvb3IhPW51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihpbmRleCA8PSBwb2ludGVyKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3IubGFiZWwudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIFNldE9uZUxldmVsRmxvb3JDb2xvcihvcmdzOkFycmF5PHN0cmluZz4sYjpib29sZWFuKXtcclxuICAgICAgICBpZihvcmdzLmxlbmd0aCA9PSAwKSByZXR1cm4gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBmbG9vcnMgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lTGV2ZWxGbG9vcnNCeU9yZ3ModGhpcy5DdXJyZW5MZXZlbCxvcmdzKTtcclxuXHJcbiAgICAgICAgaWYoZmxvb3JzPT1udWxsfHxmbG9vcnMubGVuZ3RoID09IDApIHJldHVybiA7XHJcbiAgICAgICAgZmxvb3JzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHZhciBmbG9vcjpGbG9vckl0ZW0gPSB0aGlzLm1fc3BhY2VEaWMuZ2V0KGVsZW1lbnQpIGFzIEZsb29ySXRlbTtcclxuICAgICAgICAgICAgaWYoZmxvb3IgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYoYil7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5NYWluVUkuQ3VycmVudExhYmVsVHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBMYWJlbFR5cGUuRGVwYXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNldEhleENvbG9yKGZsb29yLk9iamVjdCwgZmxvb3Iub3JnYW5pemF0aW9uQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBMYWJlbFR5cGUuVXNhZ2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2V0SGV4Q29sb3IoZmxvb3IuT2JqZWN0LCBmbG9vci51c2FnZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNldEhleENvbG9yKGZsb29yLk9iamVjdCx0aGlzLm1fZGVmYXVsdEZsb29yQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq5pqC5pe25YWI5bCG6K6+572u6aKc6Imy55qE5pa55rOV5pS+5YiwQklN5YaFKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiDorrDlvZXorr7nva7popzoibLlkI7nmoTmnZDotKjnkIPvvJtcclxuICAgICovXHJcbiAgICBwcml2YXRlIE1hdGVyaWFsc0RpYzpMYXlhLldlYWtPYmplY3QgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5a+56LGh6aKc6ImyXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFxyXG4gICAgICogQHBhcmFtIGNvbG9yIExheWHlhoXpg6jnmoRDb2xvclxyXG4gICAgICovXHJcbiAgICBTZXRMYXlhQ29sb3IodGFyZ2V0OkxheWEuTWVzaFNwcml0ZTNELGNvbG9yOkxheWEuQ29sb3Ipe1xyXG4gICAgICAgIGlmKHRhcmdldCA9PSBudWxsfHxjb2xvciA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBtYXRzID0gdGFyZ2V0Lm1lc2hSZW5kZXJlci5tYXRlcmlhbHM7XHJcblxyXG4gICAgICAgIGlmKG1hdHMgPT0gbnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgbWF0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLlNldENvbG9yKGVsZW1lbnQsbmV3IExheWEuVmVjdG9yNChjb2xvci5yLGNvbG9yLmcsY29sb3IuYixjb2xvci5hKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6K6+572u5a+56LGh55qE6aKc6ImyXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IOWvueixoVxyXG4gICAgICogQHBhcmFtIGhleENvbG9yIOWNgeWFrei/m+WItuminOiJslxyXG4gICAgICovXHJcbiAgICBTZXRIZXhDb2xvcih0YXJnZXQ6TGF5YS5NZXNoU3ByaXRlM0QsaGV4Q29sb3I6c3RyaW5nKXtcclxuICAgICAgICBpZih0YXJnZXQgPT0gbnVsbHx8aGV4Q29sb3IgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgbWF0cyA9IHRhcmdldC5tZXNoUmVuZGVyZXIubWF0ZXJpYWxzO1xyXG5cclxuICAgICAgICBpZihtYXRzID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHZhciBjb2xvcjpMYXlhLlZlY3RvcjQgPSB0aGlzLkNvbnZlcnRDb2xvcihoZXhDb2xvcik7XHJcblxyXG4gICAgICAgIG1hdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5TZXRDb2xvcihlbGVtZW50LGNvbG9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBTZXRDb2xvcihtYXQ6TGF5YS5CYXNlTWF0ZXJpYWwsY29sb3I6TGF5YS5WZWN0b3I0KXtcclxuICAgICAgICBpZihtYXQgPT0gbnVsbCB8fCBjb2xvciA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgKG1hdCBhcyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCkuYWxiZWRvQ29sb3IgPSBjb2xvcjtcclxuICAgICAgICBcclxuICAgICAgICBpZighdGhpcy5NYXRlcmlhbHNEaWMuaGFzKG1hdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5NYXRlcmlhbHNEaWMuc2V0KG1hdCxjb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6aKc6Imy6L2s5o2i77yM5bCGaGV4Q29sb3LovazmjaLmiJBWZWN0b3I0XHJcbiAgICAgKiBAcGFyYW0gaGV4Q29sb3IgXHJcbiAgICAgKi9cclxuICAgIENvbnZlcnRDb2xvcihoZXhDb2xvcjpzdHJpbmcpOkxheWEuVmVjdG9yNHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgY291bnQ6bnVtYmVyID0gaGV4Q29sb3IubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgciA9IHBhcnNlSW50KGhleENvbG9yLnN1YnN0cigwLCAyKSwgMTYpO1xyXG4gICAgICAgICAgICB2YXIgZyA9IHBhcnNlSW50KGhleENvbG9yLnN1YnN0cigyLCAyKSwgMTYpO1xyXG4gICAgICAgICAgICB2YXIgYiA9IHBhcnNlSW50KGhleENvbG9yLnN1YnN0cig0LCAyKSwgMTYpO1xyXG4gICAgICAgICAgICB2YXIgYSA9IDI1NTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ID09IDgpXHJcbiAgICAgICAgICAgICAgICBhID0gcGFyc2VJbnQoaGV4Q29sb3Iuc3Vic3RyKDYsIDIpLCAxNik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNvbnZlcnQociwgZywgYiwgYSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIjxjb2xvcj15ZWxsb3c+ezB9PC9jb2xvcj5cIiwgXCLljYHlha3ov5vliLbpopzoibLlgLzmoLzlvI/plJnor68s6ZyA6L6T5YWlNuS9jeaIljjkvY0o5bimYWxwaGEpMTbov5vliLblgLws5aaCOjAwOTFFQUZGLOS4jeWKoCPmiJYweFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMYXlhLlZlY3RvcjQoMSwxLDEsMSk7XHJcbiAgICB9XHJcblxyXG4gICAgQ29udmVydChyOm51bWJlcixnOm51bWJlciwgYjpudW1iZXIsIGE6bnVtYmVyKSA6TGF5YS5WZWN0b3I0e1xyXG4gICAgICAgIHJldHVybiBuZXcgTGF5YS5WZWN0b3I0KHIvMjU1LGcvMjU1LCBiLzI1NSwgYS8yNTUpO1xyXG4gICAgfVxyXG5cclxuICAgIFJlc2V0Q29sb3IoZmxvb3I6TGF5YS5NZXNoU3ByaXRlM0Qpe1xyXG4gICAgICAgIGlmKGZsb29yID09IG51bGx8fGZsb29yLm1lc2hSZW5kZXJlciA9PSBudWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICB2YXIgbWF0cyA9IGZsb29yLm1lc2hSZW5kZXJlci5tYXRlcmlhbHM7XHJcbiAgICAgICAgaWYobWF0cyE9bnVsbCl7XHJcbiAgICAgICAgICAgIG1hdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuTWF0ZXJpYWxzRGljLmhhcyhlbGVtZW50KSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdDpMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IGVsZW1lbnQgYXMgTGF5YS5CbGlublBob25nTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0LmFsYmVkb0NvbG9yID0gdGhpcy5NYXRlcmlhbHNEaWMuZ2V0KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIExhYmVsVHlwZXtcclxuICAgIERlcGFydCxcclxuICAgIFVzYWdlLFxyXG4gICAgQXJlYSxcclxufVxyXG5cclxuY2xhc3MgRmxvb3JJdGVte1xyXG4gICAgcHVibGljIE9iamVjdDpMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHB1YmxpYyBUcmFuc2Zvcm06TGF5YS5UcmFuc2Zvcm0zRDtcclxuICAgIHB1YmxpYyBPcmdhbmlhenRpb246c3RyaW5nO1xyXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbkNvbG9yOnN0cmluZztcclxuICAgIHB1YmxpYyB1c2FnZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgdXNhZ2VDb2xvcjpzdHJpbmc7XHJcbiAgICBwdWJsaWMgYXJlYTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGFiZWw6TGF5YS5MYWJlbDtcclxufSIsImltcG9ydCBWZWN0b3IzID0gTGF5YS5WZWN0b3IzO1xyXG5pbXBvcnQgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuXHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgQ2FtZXJhTW92ZVNjcmlwdCBmcm9tIFwiLi4vQ29tcG9uZW50L0NhbWVyYU1vdmVTY3JpcHRcIjtcclxuaW1wb3J0IFJheVNlbGVjdG9yIGZyb20gXCIuLi9Db21wb25lbnQvUmF5U2VsZWN0b3JcIjtcclxuaW1wb3J0IExpZ2h0Q29udHJvbCBmcm9tIFwiLi4vQ29tcG9uZW50L0xpZ2h0Q29udHJvbFwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYU1hbmFnZXJ7XHJcblxyXG4gICAgQ2FtZXJhOkxheWEuQ2FtZXJhO1xyXG5cclxuICAgIHB1YmxpYyBJczJEOkJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBfM2RQb3M6VmVjdG9yMztcclxuICAgIHByaXZhdGUgXzNkUm90OlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIF8yZFBvczpWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBfMmRSb3Q6VmVjdG9yMztcclxuICAgIHByaXZhdGUgX29yaU9ydGhTaXplO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5fM2RQb3MgPSBuZXcgVmVjdG9yMygtNiw0NSwxNyk7XHJcbiAgICAgICAgdGhpcy5fM2RSb3QgPSBuZXcgVmVjdG9yMygtNzgsMCwwKTtcclxuICAgICAgICB0aGlzLl8yZFBvcyA9IG5ldyBWZWN0b3IzKC01LDUwLDE3KTtcclxuICAgICAgICB0aGlzLl8yZFJvdCA9IG5ldyBWZWN0b3IzKC05MCwwLDApO1xyXG4gICAgICAgIHRoaXMuX29yaU9ydGhTaXplID0gNzA7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdENhbWVyYSgpe1xyXG4gICAgICAgIHZhciBjYW1lcmE6TGF5YS5DYW1lcmEgPSBuZXcgTGF5YS5DYW1lcmEoKTsgXHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMuXzNkUG9zO1xyXG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gdGhpcy5fM2RSb3Q7XHJcbiAgICAgICAgY2FtZXJhLmNsZWFyQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDAsMCwwLDApO1xyXG4gICAgICAgIHRoaXMuQ2FtZXJhID0gY2FtZXJhO1xyXG5cclxuICAgICAgICAvL+aRhOWDj+acuuaOp+WItlxyXG4gICAgICAgIGNhbWVyYS5hZGRDb21wb25lbnQoQ2FtZXJhTW92ZVNjcmlwdCk7XHJcbiAgICAgICAgbGV0IGNhbWN0cmwgPSBjYW1lcmEuZ2V0Q29tcG9uZW50KENhbWVyYU1vdmVTY3JpcHQpIGFzIENhbWVyYU1vdmVTY3JpcHQ7XHJcbiAgICAgICAgY2FtY3RybC5tX3NjZW5lM2QgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZTtcclxuXHJcbiAgICAgICAgLy/lsITnur/mo4DmtYtcclxuICAgICAgICBjYW1lcmEuYWRkQ29tcG9uZW50KFJheVNlbGVjdG9yKTtcclxuICAgICAgICB2YXIgcmF5c2VsZWN0b3IgPSBjYW1lcmEuZ2V0Q29tcG9uZW50KFJheVNlbGVjdG9yKSBhcyBSYXlTZWxlY3RvcjtcclxuICAgICAgICByYXlzZWxlY3Rvci5TY2VuZTNEID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5NYWluU2NlbmU7XHJcblxyXG4gICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTWFpblNjZW5lLmFkZENoaWxkKGNhbWVyYSk7XHJcblxyXG4gICAgICAgIHRoaXMuSW5pdExpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdExpZ2h0KCl7XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvbkxpZ2h0OiBMYXlhLkRpcmVjdGlvbkxpZ2h0ID0gbmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKTtcclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZS5hZGRDaGlsZChkaXJlY3Rpb25MaWdodCk7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQuY29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDAuMiwgMC4yLCAwLjIpO1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBMYXlhLlZlY3RvcjMoMSwgLTEsIDApKTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLnJvdGF0aW9uID0gdGhpcy5DYW1lcmEudHJhbnNmb3JtLnJvdGF0aW9uO1xyXG5cclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5hZGRDb21wb25lbnQoTGlnaHRDb250cm9sKTtcclxuICAgICAgICB2YXIgbGlnaHRjb250cmwgPSBkaXJlY3Rpb25MaWdodC5nZXRDb21wb25lbnQoTGlnaHRDb250cm9sKSBhcyBMaWdodENvbnRyb2w7XHJcbiAgICAgICAgbGlnaHRjb250cmwuQ2FtZXJhID0gdGhpcy5DYW1lcmE7XHJcbiAgICB9XHJcblxyXG4gICAgUmVzZXRDYW1lcmEoaXMyRDpCb29sZWFuKXtcclxuICAgICAgICB0aGlzLklzMkQgPSBpczJEO1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSB0aGlzLkNhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhTW92ZVNjcmlwdCkgYXMgQ2FtZXJhTW92ZVNjcmlwdDtcclxuICAgICAgICBpZihpczJEKXtcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEub3J0aG9ncmFwaGljID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplID0gNjA7XHJcbiAgICAgICAgICAgIHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMuXzJkUG9zO1xyXG4gICAgICAgICAgICB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gdGhpcy5fMmRSb3Q7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5JczJEID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIExheWEuVHdlZW4udG8odGhpcy5DYW1lcmEse3Bvc2l0aW9uOnRoaXMuXzJkUG9zLHJvdGF0aW9uOnRoaXMuXzJkUm90fSwxMDAwLG51bGwsSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5DYW1lcmEub3J0aG9ncmFwaGljID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuQ2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA9IDYwO1xyXG4gICAgICAgICAgICAvLyAgICAgY29tcG9uZW50LklzMkQgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyB9KSk7XHJcblxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLkNhbWVyYS5vcnRob2dyYXBoaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy5fM2RQb3M7XHJcbiAgICAgICAgICAgIHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSB0aGlzLl8zZFJvdDtcclxuICAgICAgICAgICAgY29tcG9uZW50LklzMkQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIExheWEuVHdlZW4udG8odGhpcy5DYW1lcmEse3Bvc2l0aW9uOnRoaXMuXzNkUG9zLHJvdGF0aW9uOnRoaXMuXzNkUm90fSwxMDAwLG51bGwsSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5DYW1lcmEub3J0aG9ncmFwaGljID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vICAgICBjb21wb25lbnQuSXMyRCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENhbWVyYU1vdmUob2JqZWN0Ok9iamVjdCwgZnJvbVBvczpWZWN0b3IzLHRvUG9zOlZlY3RvcjMpe1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIENhbWVyYVJvdGF0ZShmcm9tUm90YXRlOlZlY3RvcjMsdG9Sb3RhdGU6VmVjdG9yMyl7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEFkZEV2ZW50KCl7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuQWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuT25VSV9MZXZlbEJ0bl9DbGlja2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLkNhbWVyYU1vdmVJbkxldmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBDYW1lcmFNb3ZlSW5MZXZlbChsZXZlbE5hbWU6c3RyaW5nKXtcclxuXHJcbiAgICB9XHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbW9ue1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOmAmui/h+alvOadv0NvZGXojrflvpdMZXZlbENvZGVcclxuICAgICAqIEBwYXJhbSBjb2RlIFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgR2V0TGV2ZWxCeUZsb29yQ29kZShjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciBuYW1lcyA9IGNvZGUuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgIGlmKG5hbWVzLmxlbmd0aCA8IDMpe1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIGNvZGUuc3Vic3RyaW5nKDAsMTUpO1xyXG4gICAgICAgIH0gICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+H5qW85p2/Q29kZeiOt+W+l0J1aWxkaW5nQ29kZVxyXG4gICAgICogQHBhcmFtIGNvZGUgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBHZXRCdWlsZGluZ0J5Rmxvb3JDb2RlKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIG5hbWVzID0gY29kZS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgaWYobmFtZXMubGVuZ3RoIDwgMyl7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gY29kZS5zdWJzdHJpbmcoMCwxMCk7XHJcbiAgICAgICAgfSAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+H5Yqg6L2955qE6LWE5rqQ77yM6I635Y+W5b2T5YmN6LWE5rqQ55qE5omA5Zyo55qE5qW85bGCXHJcbiAgICAgKiBAcGFyYW0gdXJsIC5saOi1hOa6kOeahHVybOi3r+W+hO+8jC5saOaWh+S7tueahOWRveWQjeinhOWImeW/hemhu+S4uualvOWxgueahENvZGVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIFBhcnNlTG9hZExldmVsKHVybDpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZih1cmwgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciB0ZW1wID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XHJcbiAgICAgICAgdmFyIGxldmVsID0gdGVtcC5zdWJzdHIoMCx0ZW1wLmluZGV4T2YoXCIuXCIpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGxldmVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6L+U5Zue5YmN56uv5pi+56S655qETGV2ZWxDb2RlO+S+i+WmgkYxXHJcbiAgICAgKiBAcGFyYW0gbGV2ZWxDb2RlIOalvOWxgue8luegge+8mkJESENNVS1BMDItRjAwMVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgR2V0UHVyTGV2ZWwobGV2ZWxDb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGxldmVsQ29kZSA9PSBudWxsIHx8IGxldmVsQ29kZS5tYXRjaChcIi1cIikgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciBlbGVzID0gbGV2ZWxDb2RlLnNwbGl0KFwiLVwiKTtcclxuXHJcbiAgICAgICAgaWYoZWxlcy5sZW5ndGg8MylcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVzWzJdO1xyXG4gICAgfVxyXG59IiwiXHJcbmltcG9ydCBWZWN0b3IzID0gTGF5YS5WZWN0b3IzO1xyXG5pbXBvcnQgVmVjdG9yMiA9IExheWEuVmVjdG9yMjtcclxuaW1wb3J0IExhYmVsID0gTGF5YS5MYWJlbDtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50c1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhTW92ZVNjcmlwdCBleHRlbmRzIExheWEuU2NyaXB0M0Qge1xyXG5cdFx0XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTt9XHJcblxyXG4gICAgcHJpdmF0ZSBtX2NhbWVyYTpMYXlhLkNhbWVyYTtcclxuICAgIHB1YmxpYyAgbV9zY2VuZTNkOkxheWEuU2NlbmUzRDtcclxuXHJcbiAgICBwcml2YXRlIG1fdGVtcFZlY3RvcjM6VmVjdG9yMztcclxuICAgIHByaXZhdGUgbV9sYXN0TW91c2VYOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV9sYXN0TW91c2VZOm51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIG1faXNNb3VzZURvd246Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9pc1JpZ2h0TW91c2VEb3duOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIG1faXNNb3VzZVdoZWVsOmJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBtXzNkTW92ZVNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZFJvdGF0ZVNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZFdoZWVsU3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzJkTW92ZVNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8yZFdoZWVsU3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkTWluWm9vbURpc3RhbmNlOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZE1heFpvb21EaXN0YW5jZTpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbjpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RNYXhDYW1lcmFQaXRjaFJhZGlhbjpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fMmRNaW5PcnRob2dyYXBoaWNTaXplOm51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIG1fY3VycmVudFBpdGNoUmFkaWFuOm51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIG1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIG1faXNSaWdodE1vdXNlQnV0dG9uRG93bjpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2xhc3RUb3VjaEZpbmdlcjA6VmVjdG9yMjtcclxuICAgIHByaXZhdGUgbV9sYXN0VG91Y2hGaW5nZXIxOlZlY3RvcjI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2xhc3REaXN0YW5jZTogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgbV9wcmVSYWRpYW46IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIE9uTW91c2VXaGVlbDpGdW5jdGlvbjtcclxuICAgIHB1YmxpYyBPblNpbmdsZUZpbmdlckRyYWc6RnVuY3Rpb247XHJcbiAgICBwdWJsaWMgT25Eb3VibGVGaW5nZXJzUGluY2g6RnVuY3Rpb247XHJcbiAgICBwdWJsaWMgT25Eb3VibGVGaW5nZXJzVHdpc3Q6RnVuY3Rpb247XHJcbiAgICBwdWJsaWMgT25cclxuICAgXHJcbiAgICBwcml2YXRlIG1fZm9yd2FyZExlbmd0aDogbnVtYmVyID0gMztcclxuICAgIHByaXZhdGUgbV9sb29rQXRQb2ludDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICBwcml2YXRlIG1faXNUd29GaW5nZXJzVG91Y2g6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbV90d29GaW5nZXJzRGlzdGFuY2U6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2xhc3RUb3VjaGVzOmFueVtdO1xyXG5cclxuICAgIHByb3RlY3RlZCB5YXdQaXRjaFJvbGw6TGF5YS5WZWN0b3IzO1xyXG4gICAgcHJvdGVjdGVkIHJlc3VsdFJvdGF0aW9uOkxheWEuUXVhdGVybmlvbjtcclxuICAgIHByb3RlY3RlZCB0ZW1wUm90YXRpb25aOkxheWEuUXVhdGVybmlvbjtcclxuICAgIHByb3RlY3RlZCB0ZW1wUm90YXRpb25YOkxheWEuUXVhdGVybmlvbjtcclxuICAgIHByb3RlY3RlZCB0ZW1wUm90YXRpb25ZOkxheWEuUXVhdGVybmlvbjtcclxuXHJcbiAgICBwcml2YXRlIG1fcmF5OkxheWEuUmF5O1xyXG4gICAgcHJpdmF0ZSBtX2hpdFJlc3VsdDpMYXlhLkhpdFJlc3VsdDtcclxuICAgIHByaXZhdGUgbV9oaXRPYmplY3Q6TGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICBwcml2YXRlIG1faGl0UG9pbnQ6TGF5YS5WZWN0b3IzO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgSXNTaG93TGFibGU6Ym9vbGVhbiA9IHRydWU7XHJcbiAgICBwcm90ZWN0ZWQgbV9sYWJlbDogTGFiZWw7XHJcblxyXG4gICAgcHVibGljIElzMkQ6Qm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHByb3RlY3RlZCBtX21vdXNlUG9pbnQ6VmVjdG9yMjtcclxuXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgdGhpcy5Jbml0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuQWRkRXZlbmV0cygpO1xyXG5cclxuICAgICAgICB0aGlzLlJlZnJlc2hQaXRjaFJhZGlhbigpO1xyXG5cclxuICAgICAgICB0aGlzLlJlZnJlc2hMb29rQXRQb2ludCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgaWYodGhpcy5Jc1Nob3dMYWJsZSlcclxuICAgICAgICAgICAgdGhpcy5TaG93SW5mbygpO1xyXG5cclxuICAgICAgICB0aGlzLlJheUNhc3RIaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5DYW1lcmFUb1plcm9EaXN0YW5jZSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICB0aGlzLlJlbW92ZUV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBJbml0KCl7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYSA9IHRoaXMub3duZXIgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fbW91c2VQb2ludCA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAgPSBuZXcgVmVjdG9yMigpO1xyXG4gICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxID0gbmV3IFZlY3RvcjIoKTtcclxuXHJcbiAgICAgICAgdGhpcy55YXdQaXRjaFJvbGwgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRSb3RhdGlvbiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnRlbXBSb3RhdGlvblogPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy50ZW1wUm90YXRpb25YID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMudGVtcFJvdGF0aW9uWSA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5tX3JheSA9IG5ldyBMYXlhLlJheShuZXcgVmVjdG9yMygpLG5ldyBWZWN0b3IzKCkpO1xyXG4gICAgICAgIHRoaXMubV9oaXRSZXN1bHQgPSBuZXcgTGF5YS5IaXRSZXN1bHQoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5Jc1Nob3dMYWJsZSlcclxuICAgICAgICAgICAgdGhpcy5tX2xhYmVsID0gdGhpcy5jcmVhdGVMYWJlbChuZXcgVmVjdG9yMigxMCwxMCkpXHJcblxyXG4gICAgICAgIHRoaXMuSW5pdERpZmZQbGF0Zm9ybSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5LiN5ZCM5bmz5Y+w5LiN5ZCM6YWN572u77yM5LuOanNvbuaWh+S7tuS4reivu+WPllxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgSW5pdERpZmZQbGF0Zm9ybSgpe1xyXG4gICAgICAgIGlmKExheWEuQnJvd3Nlci5vbkFuZHJvaWR8fExheWEuQnJvd3Nlci5vbklQaG9uZXx8TGF5YS5Ccm93c2VyLm9uTW9iaWxlKXtcclxuICAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTW92ZVNwZWVkID0gMC4wMjtcclxuICAgICAgICAgICAgdGhpcy5tXzNkUm90YXRlU3BlZWQgPSAwLjAwNDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkV2hlZWxTcGVlZCA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzJkTW92ZVNwZWVkID0gMC4wMjtcclxuICAgICAgICAgICAgdGhpcy5tXzJkV2hlZWxTcGVlZCA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWluWm9vbURpc3RhbmNlID0gLTMwO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNYXhab29tRGlzdGFuY2UgPSAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbiA9IDEwICogTWF0aC5QSSAvIDE4MDsgXHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1heENhbWVyYVBpdGNoUmFkaWFuID0gOTAgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoTGF5YS5Ccm93c2VyLm9uUEN8fExheWEuQnJvd3Nlci5vbk1hYyl7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1vdmVTcGVlZCA9IDAuMDQ7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZFJvdGF0ZVNwZWVkID0gMC4wMDQ7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZFdoZWVsU3BlZWQgPSAyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMubV8yZE1vdmVTcGVlZCA9IDAuMDI7XHJcbiAgICAgICAgICAgIHRoaXMubV8yZFdoZWVsU3BlZWQgPSAyO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1pblpvb21EaXN0YW5jZSA9IC0zMDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWF4Wm9vbURpc3RhbmNlID0gMTAwMDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW4gPSAxMCAqIE1hdGguUEkgLyAxODA7IFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNYXhDYW1lcmFQaXRjaFJhZGlhbiA9IDkwICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZSA9IDEyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgQWRkRXZlbmV0cygpe1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLCB0aGlzLCB0aGlzLm1vdXNlVXApO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9XSEVFTCwgdGhpcywgdGhpcy5tb3VzZVdoZWVsKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLnJpZ2h0TW91c2VEb3duKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuUklHSFRfTU9VU0VfVVAsIHRoaXMsIHRoaXMucmlnaHRNb3VzZVVwKTsgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIFJlbW92ZUV2ZW50cygpe1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5tb3VzZURvd24pO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfVVAsIHRoaXMsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9XSEVFTCwgdGhpcywgdGhpcy5tb3VzZVdoZWVsKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX01PVkUsIHRoaXMsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50LlJJR0hUX01PVVNFX0RPV04sIHRoaXMsIHRoaXMucmlnaHRNb3VzZURvd24pO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuUklHSFRfTU9VU0VfVVAsIHRoaXMsIHRoaXMucmlnaHRNb3VzZVVwKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIG1vdXNlRG93bihlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbi5nZXRZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwpO1xyXG4gICAgICAgIHRoaXMubV9sYXN0TW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuICAgICAgICB0aGlzLm1faXNNb3VzZURvd24gPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyAvL1R3byBmaW5nZXJzIG9wZXJhdGlvblxyXG4gICAgICAgIHZhciB0b3VjaGVzOiBBcnJheTxhbnk+ID0gZS50b3VjaGVzO1xyXG4gICAgICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueCA9IHRvdWNoZXNbMF0uc3RhZ2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC55ID0gdG91Y2hlc1swXS5zdGFnZVk7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnggPSB0b3VjaGVzWzFdLnN0YWdlWDtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueSA9IHRvdWNoZXNbMV0uc3RhZ2VZO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdERpc3RhbmNlID0gdGhpcy5nZXREaXN0YW5jZSh0b3VjaGVzKTtcclxuICAgICAgICAgICAgdGhpcy5tX3ByZVJhZGlhbiA9IHRoaXMuYXRhbjJFeHQodG91Y2hlc1swXS5zdGFnZVkgLSB0b3VjaGVzWzFdLnN0YWdlWSwgdG91Y2hlc1swXS5zdGFnZVggLSB0b3VjaGVzWzFdLnN0YWdlWCk7XHJcbiAgICAgICAgICAgIHRoaXMubV9pc1R3b0ZpbmdlcnNUb3VjaCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VVcChlOkxheWEuRXZlbnQpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubV9pc01vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHZhciB0b3VjaGVzOiBBcnJheTxhbnk+ID0gZS50b3VjaGVzO1xyXG4gICAgICAgIGlmICh0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5tX2lzVHdvRmluZ2Vyc1RvdWNoID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByaWdodE1vdXNlRG93bihlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG4gICAgICAgIHRoaXMubV9pc01vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5tX2lzUmlnaHRNb3VzZUJ1dHRvbkRvd24gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByaWdodE1vdXNlVXAoZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9pc01vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubV9pc1JpZ2h0TW91c2VCdXR0b25Eb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG1vdXNlV2hlZWwoZTpMYXlhLkV2ZW50KTp2b2lkIHtcclxuICAgICAgICBpZihlID09IG51bGwpIHJldHVybiA7XHJcbiAgICAgICAgbGV0IHpvb21EZWx0YTogbnVtYmVyID0gZS5kZWx0YTtcclxuICAgICAgICBpZih0aGlzLklzMkQpeyAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplICs9IC16b29tRGVsdGEgKiB0aGlzLm1fMmRXaGVlbFNwZWVkOyAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZih0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA8IHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgPSB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplO1xyXG4gICAgICAgICAgICB9ICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYVpvb20oem9vbURlbHRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLk9uTW91c2VXaGVlbCkgXHJcbiAgICAgICAgICAgIHRoaXMuT25Nb3VzZVdoZWVsKHpvb21EZWx0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG1vdXNlTW92ZShlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdmFyIHRvdWNoZXM6IEFycmF5PGFueT4gPSBlLnRvdWNoZXM7XHJcbiAgICAgICAgaWYgKCF0b3VjaGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNvbnRyb2xCeU1vdXNlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3RybEJ5VG91Y2godG91Y2hlcyk7ICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICAvKipcclxuICAgICAqICDpvKDmoIfmqKHlvI8gXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtb3ZlQ29udHJvbEJ5TW91c2UoKXtcclxuICAgICAgICBpZiAodGhpcy5tX2lzTW91c2VEb3duKSB7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVg6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VYIC0gdGhpcy5tX2xhc3RNb3VzZVg7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVk6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VZIC0gdGhpcy5tX2xhc3RNb3VzZVk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5tX2lzUmlnaHRNb3VzZUJ1dHRvbkRvd24pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYID0gMDsgZGVsdGFZID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVSaWdodCgtdGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFYKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVVwKHRoaXMubV8zZE1vdmVTcGVlZCAqIGRlbHRhWSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlZnJlc2hMb29rQXRQb2ludCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5JczJEKSByZXR1cm4gO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVg6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VYIC0gdGhpcy5tX2xhc3RNb3VzZVg7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFZOiBudW1iZXIgPSBMYXlhLnN0YWdlLm1vdXNlWSAtIHRoaXMubV9sYXN0TW91c2VZO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBcm91bmQoLWRlbHRhWSAqIHRoaXMubV8zZFJvdGF0ZVNwZWVkLCAtZGVsdGFYICogdGhpcy5tXzNkUm90YXRlU3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0TW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6Kem5o6n5qih5byPXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtb3ZlQ3RybEJ5VG91Y2godG91Y2hlczpBcnJheTxhbnk+KXtcclxuICAgICAgICBpZiAodG91Y2hlcy5sZW5ndGggPT0gMSAmJiAhdGhpcy5tX2lzVHdvRmluZ2Vyc1RvdWNoKSB7XHJcbiAgICAgICAgICAgIC8v5Y2V5oyH6Kem5o6nXHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uLmdldFlhd1BpdGNoUm9sbCh0aGlzLnlhd1BpdGNoUm9sbCk7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVg6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VYIC0gdGhpcy5tX2xhc3RNb3VzZVg7XHJcbiAgICAgICAgICAgIGxldCBkZWx0YVk6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VZIC0gdGhpcy5tX2xhc3RNb3VzZVk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tX2lzTGFzdFRvdWNoRG91YmxlRmluZ2Vycykge1xyXG4gICAgICAgICAgICAgICAgLy/lpoLmnpzkuIrkuIDmrKHmk43kvZzmmK/lj4zmjIcs5aaC5Y+M5oyH5pON5L2c5pe2LOaKrOi1t+S4gOaMh+WPmOWNleaMh+aTjeS9nCzopoHlgZrkuKrmuIXpm7Ys6Ziy5q2i5pGE5YOP5py66Lez6LeDXHJcbiAgICAgICAgICAgICAgICBkZWx0YVggPSAwO1xyXG4gICAgICAgICAgICAgICAgZGVsdGFZID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2xldCBzcGVlZDogbnVtYmVyID0gMC4wNjtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlUmlnaHQoLXRoaXMubV8zZE1vdmVTcGVlZCAqIGRlbHRhWCk7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVVwKHRoaXMubV8zZE1vdmVTcGVlZCAqIGRlbHRhWSk7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0TW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLlJlZnJlc2hMb29rQXRQb2ludCgpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodG91Y2hlcy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICBpZih0aGlzLklzMkQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlMjogbnVtYmVyID0gdGhpcy5nZXREaXN0YW5jZSh0b3VjaGVzKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY3RvcjI6IG51bWJlciA9IDAuMTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcGluY2hWYWx1ZTI6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgcGluY2hWYWx1ZTIgPSAoZGlzdGFuY2UyIC0gdGhpcy5tX2xhc3REaXN0YW5jZSkgKiBmYWN0b3IyO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0RGlzdGFuY2UgPSBkaXN0YW5jZTI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgLT0gcGluY2hWYWx1ZTI7ICAgXHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgPCB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA9IHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG5cclxuICAgICAgICAgICAgICAgIC8v5Y+M5oyH6Kem5o6nXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faXNUd29GaW5nZXJzVG91Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2lzTGFzdFRvdWNoRG91YmxlRmluZ2VycyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHR3b0ZpbmdlcnNEaXN0YW5jZTogbnVtYmVyID0gdGhpcy5nZXRUd29GaW5nZXJzRGlzdGFuY2UodG91Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFEaXN0YW5jZTogbnVtYmVyID0gTWF0aC5hYnModHdvRmluZ2Vyc0Rpc3RhbmNlIC0gdGhpcy5tX3R3b0ZpbmdlcnNEaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fdHdvRmluZ2Vyc0Rpc3RhbmNlID0gdHdvRmluZ2Vyc0Rpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL1R3byBmaW5nZXJzIGRyYWdcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVgwOiBudW1iZXIgPSB0b3VjaGVzWzBdLnN0YWdlWCAtIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLng7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFZMDogbnVtYmVyID0gdG91Y2hlc1swXS5zdGFnZVkgLSB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC55O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWDE6IG51bWJlciA9IHRvdWNoZXNbMV0uc3RhZ2VYIC0gdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueDtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVkxOiBudW1iZXIgPSB0b3VjaGVzWzFdLnN0YWdlWSAtIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFZID0gKGRlbHRhWTAgKyBkZWx0YVkxKSAqIDAuNTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVggPSAoZGVsdGFYMCArIGRlbHRhWDEpICogMC41O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVBcm91bmQoLWRlbHRhWSAqIHRoaXMubV8zZFJvdGF0ZVNwZWVkLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC54ID0gdG91Y2hlc1swXS5zdGFnZVg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC55ID0gdG91Y2hlc1swXS5zdGFnZVk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS54ID0gdG91Y2hlc1sxXS5zdGFnZVg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS55ID0gdG91Y2hlc1sxXS5zdGFnZVk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9Ud28gZmluZ2VycyBwaW5jaFxyXG4gICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlOiBudW1iZXIgPSB0aGlzLmdldERpc3RhbmNlKHRvdWNoZXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yOiBudW1iZXIgPSAwLjAxO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBpbmNoVmFsdWU6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgICAgICBwaW5jaFZhbHVlICs9IChkaXN0YW5jZSAtIHRoaXMubV9sYXN0RGlzdGFuY2UpICogZmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3REaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmluZ2VyUGluY2hTcGVlZDogbnVtYmVyID0gMTA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVpvb20ocGluY2hWYWx1ZSAqIGZpbmdlclBpbmNoU3BlZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuT25Eb3VibGVGaW5nZXJzUGluY2gpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5PbkRvdWJsZUZpbmdlcnNQaW5jaChwaW5jaFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9Ud28gZmluZ2VycyB0d2lzdFxyXG4gICAgICAgICAgICAgICAgbGV0IG5vd1JhZGlhbjogbnVtYmVyID0gdGhpcy5hdGFuMkV4dCh0b3VjaGVzWzBdLnN0YWdlWSAtIHRvdWNoZXNbMV0uc3RhZ2VZLCB0b3VjaGVzWzBdLnN0YWdlWCAtIHRvdWNoZXNbMV0uc3RhZ2VYKTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVJhZGlhbjogbnVtYmVyID0gbm93UmFkaWFuIC0gdGhpcy5tX3ByZVJhZGlhbjtcclxuICAgICAgICAgICAgICAgIGlmIChkZWx0YVJhZGlhbiAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR3aXN0VmFsdWU6IG51bWJlciA9IDE4MCAvIE1hdGguUEkgKiBkZWx0YVJhZGlhbjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZCgwLCB0d2lzdFZhbHVlICogMC4xKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fcHJlUmFkaWFuID0gbm93UmFkaWFuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLk9uRG91YmxlRmluZ2Vyc1R3aXN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk9uRG91YmxlRmluZ2Vyc1R3aXN0KHR3aXN0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5ZCR5YmN56e75Yqo44CCXHJcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2Ug56e75Yqo6Led56a744CCXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtb3ZlRm9yd2FyZChkaXN0YW5jZTpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy54ID0gdGhpcy5tX3RlbXBWZWN0b3IzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy56ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKHRoaXMubV90ZW1wVmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICog5ZCR5Y+z56e75Yqo44CCXHJcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2Ug56e75Yqo6Led56a744CCXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtb3ZlUmlnaHQoZGlzdGFuY2U6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueSA9IHRoaXMubV90ZW1wVmVjdG9yMy56ID0gMDtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueCA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZSh0aGlzLm1fdGVtcFZlY3RvcjMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIOWQkeS4iuenu+WKqOOAglxyXG4gICAgICogQHBhcmFtIGRpc3RhbmNlIOenu+WKqOi3neemu+OAglxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgbW92ZVVwKGRpc3RhbmNlOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnggPSB0aGlzLm1fdGVtcFZlY3RvcjMueiA9IDA7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnkgPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUodGhpcy5tX3RlbXBWZWN0b3IzLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOe8qeaUvlxyXG4gICAgICogQHBhcmFtIGRlbHRhIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgY2FtZXJhWm9vbShkZWx0YTogbnVtYmVyKTogdm9pZHtcclxuICAgICAgICAvLyBpZih0aGlzLm1faGl0T2JqZWN0IT1udWxsICYmICF0aGlzLm1faXNSaWdodE1vdXNlRG93bil7XHJcbiAgICAgICAgLy8gICAgIHRoaXMubV9mb3J3YXJkTGVuZ3RoID0gdGhpcy5nZXRUd29Qb2ludHNEaXN0YW5jZShcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLHRoaXMubV9oaXRQb2ludCk7ICAgICAgICBcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgbGV0IGN1cnJlbnRGb3J3YXJkTGVuZ3RoOiBudW1iZXIgPSB0aGlzLm1fZm9yd2FyZExlbmd0aDtcclxuICAgICAgICBsZXQgZGlzdGFuY2U6IG51bWJlciA9IC1kZWx0YSAqIHRoaXMubV8zZFdoZWVsU3BlZWQ7XHJcbiAgICAgICAgY3VycmVudEZvcndhcmRMZW5ndGggKz0gZGlzdGFuY2U7XHJcbiAgICAgICAgaWYgKGRlbHRhID4gMCkge1xyXG4gICAgICAgICAgICAvL+aLiei/kVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudEZvcndhcmRMZW5ndGggPCB0aGlzLm1fM2RNaW5ab29tRGlzdGFuY2UpICBcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlICs9ICh0aGlzLm1fM2RNaW5ab29tRGlzdGFuY2UgLSBjdXJyZW50Rm9yd2FyZExlbmd0aCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8v5ouJ6L+cXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9yd2FyZExlbmd0aCA+IHRoaXMubV8zZE1heFpvb21EaXN0YW5jZSkgIFxyXG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgLT0gKGN1cnJlbnRGb3J3YXJkTGVuZ3RoIC0gdGhpcy5tXzNkTWF4Wm9vbURpc3RhbmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tb3ZlRm9yd2FyZChkaXN0YW5jZSk7XHJcbiAgICAgICAgdGhpcy5tX2ZvcndhcmRMZW5ndGggKz0gZGlzdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDml4vovaxcclxuICAgICAqIEBwYXJhbSBhbmdsZVggXHJcbiAgICAgKiBAcGFyYW0gYW5nbGVZIFxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgcm90YXRlQXJvdW5kKGFuZ2xlWDogbnVtYmVyLCBhbmdsZVk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGxldCBjdXJyZW50UmFkaWFuOiBudW1iZXIgPSB0aGlzLm1fY3VycmVudFBpdGNoUmFkaWFuO1xyXG4gICAgICAgIGN1cnJlbnRSYWRpYW4gLT0gYW5nbGVYO1xyXG4gICAgICAgIGlmIChhbmdsZVggPCAwKSB7XHJcbiAgICAgICAgICAgIC8v5LiL5ouW5YqoLOW+gOS4iui9rFxyXG4gICAgICAgICAgICBpZiAoY3VycmVudFJhZGlhbiA+IHRoaXMubV8zZE1heENhbWVyYVBpdGNoUmFkaWFuKSAgXHJcbiAgICAgICAgICAgICAgICBhbmdsZVggKz0gKGN1cnJlbnRSYWRpYW4gLSB0aGlzLm1fM2RNYXhDYW1lcmFQaXRjaFJhZGlhbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/kuIrmi5bliqgs5b6A5LiL6L2sXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmFkaWFuIDwgdGhpcy5tXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW4pICBcclxuICAgICAgICAgICAgICAgIGFuZ2xlWCArPSAoY3VycmVudFJhZGlhbiAtIHRoaXMubV8zZE1pbkNhbWVyYVBpdGNoUmFkaWFuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMyhhbmdsZVgsIDAsIDApKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IFZlY3RvcjMoMCwgYW5nbGVZLCAwKSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBsZXQgZm9yd2FyZDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0uZ2V0Rm9yd2FyZChmb3J3YXJkKTtcclxuICAgICAgICBsZXQgbmV3UG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIFZlY3RvcjMuc2NhbGUoZm9yd2FyZCwgLTEsIGZvcndhcmQpO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uID0gdGhpcy5Gb3J3YXJkKHRoaXMubV9sb29rQXRQb2ludCwgZm9yd2FyZCwgdGhpcy5tX2ZvcndhcmRMZW5ndGgpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3UG9zaXRpb247XHJcblxyXG4gICAgICAgIHRoaXMuUmVmcmVzaFBpdGNoUmFkaWFuKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByb3RlY3RlZCBfdXBkYXRlUm90YXRpb24oKTp2b2lkIHtcclxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy55YXdQaXRjaFJvbGwueSkgPCAxLjUwKSB7XHJcbiAgICAgICAgICAgIExheWEuUXVhdGVybmlvbi5jcmVhdGVGcm9tWWF3UGl0Y2hSb2xsKHRoaXMueWF3UGl0Y2hSb2xsLngsIHRoaXMueWF3UGl0Y2hSb2xsLnksIHRoaXMueWF3UGl0Y2hSb2xsLnosIHRoaXMudGVtcFJvdGF0aW9uWik7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcFJvdGF0aW9uWi5jbG9uZVRvKHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uID0gdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/miopNYXRoLmF0YW4y5YC85Z+f5pig5bCE5YiwWzAsIDJwaV1cclxuICAgIHByb3RlY3RlZCBhdGFuMkV4dCh5OiBudW1iZXIsIHg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHJhZGlhbjogbnVtYmVyID0gTWF0aC5hdGFuMih5LCB4KTtcclxuICAgICAgICBpZiAocmFkaWFuID49IDApXHJcbiAgICAgICAgICAgIHJldHVybiByYWRpYW47XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gcmFkaWFuICsgMiAqIE1hdGguUEk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldFR3b0ZpbmdlcnNEaXN0YW5jZSh0b3VjaGVzOiBBcnJheTxhbnk+KTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgZmluZ2Vyc0Rpc3RhbmNlOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHZhciBkeDogbnVtYmVyID0gdG91Y2hlc1swXS5zdGFnZVggLSB0b3VjaGVzWzFdLnN0YWdlWDtcclxuICAgICAgICB2YXIgZHk6IG51bWJlciA9IHRvdWNoZXNbMF0uc3RhZ2VZIC0gdG91Y2hlc1sxXS5zdGFnZVk7XHJcbiAgICAgICAgZmluZ2Vyc0Rpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgICByZXR1cm4gZmluZ2Vyc0Rpc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByb3RhdGVBcm91bmRZKHBvbml0OiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGxldCBwb3NYOiBudW1iZXIgPSBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXM7XHJcbiAgICAgICAgbGV0IHBvc1k6IG51bWJlciA9IE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1cztcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKHBvc1gsIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLnksIHBvc1kpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvb2tBdChwb25pdCwgbmV3IFZlY3RvcjMoMCwgMSwgMCksIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcm90YXRlQXJvdW5kWChwb25pdDogVmVjdG9yMywgcmFkaXVzOiBudW1iZXIsIGFuZ2xlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IFZlY3RvcjMoYW5nbGUsIDAsIDApKTtcclxuICAgICAgICBsZXQgZm9yd2FyZDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0uZ2V0Rm9yd2FyZChmb3J3YXJkKTtcclxuICAgICAgICBsZXQgcG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpOyAgIFxyXG4gICAgICAgIGxldCBkZWx0YVBvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTsgICBcclxuICAgICAgICBWZWN0b3IzLnNjYWxlKGZvcndhcmQsIC1yYWRpdXMsIGRlbHRhUG9zaXRpb24pOyBcclxuICAgICAgICBWZWN0b3IzLmFkZChwb25pdCwgZGVsdGFQb3NpdGlvbiwgcG9zaXRpb24pOyBcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8v6K6h566X5Lik5Liq6Kem5pG454K55LmL6Ze055qE6Led56a7XHJcbiAgICBwcm90ZWN0ZWQgZ2V0RGlzdGFuY2UocG9pbnRzOiBBcnJheTxhbnk+KTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgZGlzdGFuY2U6bnVtYmVyID0gMDtcclxuICAgICAgICBpZiAocG9pbnRzICYmIHBvaW50cy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICB2YXIgZHg6IG51bWJlciA9IHBvaW50c1swXS5zdGFnZVggLSBwb2ludHNbMV0uc3RhZ2VYO1xyXG4gICAgICAgICAgICB2YXIgZHk6IG51bWJlciA9IHBvaW50c1swXS5zdGFnZVkgLSBwb2ludHNbMV0uc3RhZ2VZO1xyXG4gICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvdGVjdGVkIGdldFR3b1BvaW50c0Rpc3RhbmNlKHBvaW50QTogVmVjdG9yMywgcG9pbnRCOiBWZWN0b3IzKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgZGlzdGFuY2U6IG51bWJlciA9IDA7XHJcbiAgICAgICAgdmFyIGR4OiBudW1iZXIgPSBwb2ludEEueCAtIHBvaW50Qi54O1xyXG4gICAgICAgIHZhciBkeTogbnVtYmVyID0gcG9pbnRBLnkgLSBwb2ludEIueTtcclxuICAgICAgICB2YXIgZHo6IG51bWJlciA9IHBvaW50QS56IC0gcG9pbnRCLno7XHJcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6KTtcclxuICAgICAgICByZXR1cm4gZGlzdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEZvcndhcmQocG9zaXRpb246IFZlY3RvcjMsIGRpcmVjdGlvbjogVmVjdG9yMywgZGlzdGFuY2U6IG51bWJlcik6IFZlY3RvcjMge1xyXG4gICAgICAgIGxldCBkZWx0YVBvc2l0aW9uOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTsgICBcclxuICAgICAgICBsZXQgbmV3UG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpOyAgIFxyXG4gICAgICAgIFZlY3RvcjMuc2NhbGUoZGlyZWN0aW9uLCBkaXN0YW5jZSwgZGVsdGFQb3NpdGlvbik7IFxyXG4gICAgICAgIFZlY3RvcjMuYWRkKHBvc2l0aW9uLCBkZWx0YVBvc2l0aW9uLCBuZXdQb3NpdGlvbik7IFxyXG4gICAgICAgIHJldHVybiBuZXdQb3NpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgUmVmcmVzaExvb2tBdFBvaW50KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBmb3J3YXJkOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5nZXRGb3J3YXJkKGZvcndhcmQpO1xyXG4gICAgICAgIHRoaXMubV9sb29rQXRQb2ludCA9IHRoaXMuRm9yd2FyZCh0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiwgZm9yd2FyZCwgdGhpcy5tX2ZvcndhcmRMZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBSZWZyZXNoUGl0Y2hSYWRpYW4oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbi5nZXRZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwpO1xyXG4gICAgICAgIHRoaXMubV9jdXJyZW50UGl0Y2hSYWRpYW4gPSBNYXRoLmFicyh0aGlzLnlhd1BpdGNoUm9sbC55KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy90ZW1wXHJcbiAgICBwcm90ZWN0ZWQgQ2FtZXJhVG9aZXJvRGlzdGFuY2UoKXtcclxuICAgICAgICB2YXIgZGlzOm51bWJlciA9IDA7XHJcbiAgICAgICAgaWYodGhpcy5JczJEKXtcclxuICAgICAgICAgICAgZGlzID0gdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxldCBjYW1Qb3MgPSB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgZGlzID0gVmVjdG9yMy5kaXN0YW5jZShjYW1Qb3MsVmVjdG9yMy5fWkVSTyk7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwi5pGE5YOP5py65Yiw5Y6f54K555qE6Led56a777yaXCIgKyBkaXM7ICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PbkNhbWVyYURpc3RhbmNlQ2hhbmdlZC50b1N0cmluZygpLGRpcyk7ICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDnu5Xnu5nlrprngrnlkozovbTml4vovaxcclxuICAgICAqIEBwYXJhbSB0YXJnZXQg5peL6L2s5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gcm90YXRlUG9zIOe7meWumueCueS9jee9rlxyXG4gICAgICogQHBhcmFtIGRpciDnu5nlrprmlrnlkJFcclxuICAgICAqIEBwYXJhbSBhbmdsZSDml4vovazop5LluqbvvIzlvKfluqZcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIFJvdGF0ZUFyb3VuZCh0YXJnZXQ6TGF5YS5TcHJpdGUzRCxyb3RhdGVQb3M6TGF5YS5WZWN0b3IzLGRpcjpMYXlhLlZlY3RvcjMsYW5nbGU6bnVtYmVyKXtcclxuICAgICAgICAvL+WIm+W7uuS4gOS4quWbm+WFg+aVsFxyXG4gICAgICAgIGxldCBxdWF0ZXJuaW9uID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIExheWEuUXVhdGVybmlvbi5jcmVhdGVGcm9tQXhpc0FuZ2xlKGRpcixhbmdsZSxxdWF0ZXJuaW9uKTtcclxuXHJcbiAgICAgICAgLy/orqHnrpfml4vovazlkI7nmoRQb3NpdGlvblxyXG4gICAgICAgIGxldCBkZWx0YXBvcyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICBMYXlhLlZlY3RvcjMuc3VidHJhY3QodGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbixyb3RhdGVQb3MsZGVsdGFwb3MpO1xyXG4gICAgICAgIGxldCBjaGFuZ2VWZWN0b3IzIDpMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLnRyYW5zZm9ybVF1YXQoZGVsdGFwb3MscXVhdGVybmlvbixjaGFuZ2VWZWN0b3IzKTtcclxuICAgICAgICBsZXQgcmVzdWx0UG9zICA9IG5ldyBMYXlhLlZlY3RvcjMoKTsgXHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLmFkZChjaGFuZ2VWZWN0b3IzLHJvdGF0ZVBvcyxyZXN1bHRQb3MpO1xyXG4gICAgICAgIHRhcmdldC50cmFuc2Zvcm0ucG9zaXRpb24gPSByZXN1bHRQb3M7XHJcblxyXG4gICAgICAgIC8v6K6h566X5peL6L2s5ZCO55qEUm90YXRpb25cclxuICAgICAgICBsZXQgbmV3Um90YXRpb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLm11bHRpcGx5KHRhcmdldC50cmFuc2Zvcm0ucm90YXRpb24scXVhdGVybmlvbixuZXdSb3RhdGlvbik7XHJcbiAgICAgICAgdGFyZ2V0LnRyYW5zZm9ybS5yb3RhdGlvbiA9IG5ld1JvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgICAvKipcclxuICAgICAqIOagueaNrueisOaSnuWvueixoeeahOS9jee9ru+8jOiuvue9ruaRhOWDj+acuueahOe8qeaUvuWSjOaXi+i9rOi9tOetie+8m1xyXG4gICAgICog5peL6L2s5pON5L2c77yM5Lul5bGP5bmV5Lit5b+D54K55Y+R5Ye65bCE57q/77yM5aaC5p6c5pyJ56Kw5pKe5a+56LGh77yM5YiZ5bCG56Kw5pKe54K55L2c5Li65peL6L2s5Lit5b+D77yM5aaC5p6c5rKh5pyJ5YiZ5bCG77yIMCwwLDDvvInorr7kuLrml4vovazkuK3lv4PvvJtcclxuICAgICAqIOe8qeaUvuaTjeS9nO+8jOS7pem8oOagh+S9jee9ruWPkeWHuuWwhOe6v++8jOiLpeacieeisOaSnuWvueixoe+8jOWImeagueaNrueisOaSnueCueS4juaRhOWDj+acuueahOi3neemu+mZkOWItuaRhOWDj+acuueahOacgOWwj+i3neemu++8m1xyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgUmF5Q2FzdEhpdCgpe1xyXG4gICAgICAgIGlmKHRoaXMubV9jYW1lcmEhPW51bGwgJiYgdGhpcy5tX3NjZW5lM2QhPW51bGwpe1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tX21vdXNlUG9pbnQueCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbW91c2VQb2ludC55ID0gTGF5YS5zdGFnZS5tb3VzZVk7ICAgXHJcblxyXG4gICAgICAgICAgICB0aGlzLm1fY2FtZXJhLnZpZXdwb3J0UG9pbnRUb1JheSh0aGlzLm1fbW91c2VQb2ludCx0aGlzLm1fcmF5KTtcclxuICAgICAgICAgICAgdGhpcy5tX3NjZW5lM2QucGh5c2ljc1NpbXVsYXRpb24ucmF5Q2FzdCh0aGlzLm1fcmF5LHRoaXMubV9oaXRSZXN1bHQpO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5tX2hpdFJlc3VsdC5zdWNjZWVkZWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2hpdE9iamVjdCA9IHRoaXMubV9oaXRSZXN1bHQuY29sbGlkZXIub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faGl0UG9pbnQgPSB0aGlzLm1faGl0UmVzdWx0LnBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faGl0T2JqZWN0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWIm+W7uuS4gOS4qkxhYmxlXHJcbiAgICAgKiBAcGFyYW0gY29sb3IgXHJcbiAgICAgKiBAcGFyYW0gc3Ryb2tlQ29sb3IgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlTGFiZWwocG9zOkxheWEuVmVjdG9yMiwgY29sb3I/OiBzdHJpbmcsIHN0cm9rZUNvbG9yPzogc3RyaW5nKTogTGFiZWwge1xyXG4gICAgICAgIGNvbnN0IF9jb2xvciA9IFwiI2ZmZmZmZlwiO1xyXG4gICAgICAgIGNvbnN0IF9zdHJva2VDb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gICAgICAgIGNvbnN0IF9zdHJva2VXaWR0aDogbnVtYmVyID0gMTtcclxuXHJcbiAgICAgICAgdmFyIGxhYmVsOiBMYWJlbCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxhYmVsLmZvbnQgPSBcIk1pY3Jvc29mdCBZYUhlaVwiO1xyXG4gICAgICAgIGxhYmVsLnRleHQgPSBcIlNBTVBMRSBERU1PXCI7XHJcbiAgICAgICAgbGFiZWwuZm9udFNpemUgPSAyMDtcclxuICAgICAgICBpZihjb2xvcil7XHJcbiAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGxhYmVsLmNvbG9yID0gX2NvbG9yO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICAgICAgaWYgKHN0cm9rZUNvbG9yKSB7XHJcbiAgICAgICAgICAgIGxhYmVsLnN0cm9rZSA9IF9zdHJva2VXaWR0aDtcclxuICAgICAgICAgICAgbGFiZWwuc3Ryb2tlQ29sb3IgPSBfc3Ryb2tlQ29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhYmVsLnBvcyhwb3MueCxwb3MueSk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsYWJlbCk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFNob3dJbmZvKCl7XHJcbiAgICAgICAgdmFyIHBvczpMYXlhLlZlY3RvcjMgPSB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICB2YXIgcm90OkxheWEuVmVjdG9yMyA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgPSBcIkNhbWVyYSBQb3MgOiAoXCIgKyBwb3MueC50b0ZpeGVkKDIpICsgXCIsXCIgKyBwb3MueS50b0ZpeGVkKDIpICsgXCIsXCIgKyBwb3Muei50b0ZpeGVkKDIpICsgXCIpXCIgKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwiQ2FtZXJhIFJvdCA6IChcIiArIHJvdC54LnRvRml4ZWQoMikgKyBcIixcIiArIHJvdC55LnRvRml4ZWQoMikgKyBcIixcIiArIHJvdC56LnRvRml4ZWQoMikgKyBcIilcIisgXCJcXG5cIjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIkNhbWVyYSBvcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgOiBcIiArIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwiTW91c2UgUG9zWCA6IFwiICsgTGF5YS5zdGFnZS5tb3VzZVgrIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJNb3VzZSBQb3NZIDogXCIgKyBMYXlhLnN0YWdlLm1vdXNlWSsgXCJcXG5cIjtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCLmmK/lkKblnKgyRDogXCIgKyB0aGlzLklzMkQgKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwidGhpcyBmb3J3YXJkbGVuZ3RoOiBcIiArIHRoaXMubV9mb3J3YXJkTGVuZ3RoICsgXCJcXG5cIjtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCIzZE1vdmVTcGVlZCA6IFwiICsgICB0aGlzLm1fM2RNb3ZlU3BlZWQrIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCIyZE1vdmVTcGVlZCA6IFwiICsgICB0aGlzLm1fMmRNb3ZlU3BlZWQrIFwiXFxuXCI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWxVcGRhdFBvcyBleHRlbmRzIExheWEuU2NyaXB0e1xyXG5cclxuICAgIHByaXZhdGUgbV9wYXJlbnQgOiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgbV9jYW1lcmEgOiBMYXlhLkNhbWVyYTtcclxuICAgIHByaXZhdGUgbV9sYWJlbCA6IExheWEuTGFiZWw7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2ZvbnRzaXplOm51bWJlcjtcclxuXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsID0gdGhpcy5vd25lciBhcyBMYXlhLkxhYmVsO1xyXG4gICAgICAgIGlmKExheWEuQnJvd3Nlci5vbkFuZHJvaWR8fExheWEuQnJvd3Nlci5vbklQaG9uZXx8TGF5YS5Ccm93c2VyLm9uTW9iaWxlKXtcclxuICAgICAgICAgICAgdGhpcy5tX2ZvbnRzaXplID0gMjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoTGF5YS5Ccm93c2VyLm9uUEN8fExheWEuQnJvd3Nlci5vbk1hYyl7XHJcbiAgICAgICAgICAgIHRoaXMubV9mb250c2l6ZSA9IDE0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgdGhpcy5TZXRMYWJlbFBvcygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgdGhpcy5TZXRMYWJlbFBvcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBJbml0KHBhcmVudDpMYXlhLk1lc2hTcHJpdGUzRCwgY2FtZXJhOkxheWEuQ2FtZXJhLGNvbnRlbnQ6IHN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5tX3BhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhID0gY2FtZXJhO1xyXG5cclxuICAgICAgICB0aGlzLkluaXRMYWJlbCgpO1xyXG4gICAgICAgIHRoaXMuU2V0TGFiZWxDb250ZW50KGNvbnRlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRMYWJlbENvbnRlbnQoY29udGVudDpzdHJpbmcpe1xyXG4gICAgICAgIGlmKHRoaXMubV9sYWJlbCA9PSBudWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBJbml0TGFiZWwoKXtcclxuICAgICAgICBpZih0aGlzLm1fbGFiZWw9PW51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHRoaXMubV9sYWJlbC53aWR0aCA9IDMwMDtcclxuICAgICAgICB0aGlzLm1fbGFiZWwuaGVpZ2h0ID0gNTA7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnBpdm90WCA9IDE1MDtcclxuICAgICAgICB0aGlzLm1fbGFiZWwucGl2b3RZID0gMjU7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLmZvbnQgPSBcIk1pY3Jvc29mdCBZYUhlaVwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ID0gXCJTQU1QTEUgREVNT1wiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5mb250U2l6ZSA9IHRoaXMubV9mb250c2l6ZTtcclxuICAgICAgICB0aGlzLm1fbGFiZWwuY29sb3IgPSBcIiNmZmZmZmZcIlxyXG4gICAgICAgIHRoaXMubV9sYWJlbC5zdHJva2UgPSAwLjA1O1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5zdHJva2VDb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5hbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgU2V0TGFiZWxQb3MoKXtcclxuICAgICAgICBpZih0aGlzLm1fcGFyZW50ID09IG51bGwgfHwgdGhpcy5tX2NhbWVyYSA9PSBudWxsKSByZXR1cm4gO1xyXG4gICAgICAgIGxldCBmbG9vclBvcyA9IHRoaXMubV9wYXJlbnQudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgIGxldCBuZXdQb3MgPSBuZXcgTGF5YS5WZWN0b3IzKGZsb29yUG9zLngsZmxvb3JQb3MueSArIDMsZmxvb3JQb3Mueik7XHJcbiAgICAgICAgbGV0IHNjcmVlblBvcyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLndvcmxkVG9WaWV3cG9ydFBvaW50KG5ld1BvcyxzY3JlZW5Qb3MpIDtcclxuICAgICAgICB0aGlzLm1fbGFiZWwucG9zKHNjcmVlblBvcy54LHNjcmVlblBvcy55ICsgMTUpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlnaHRDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQzRHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgQ2FtZXJhOkxheWEuQ2FtZXJhO1xyXG4gICAgcHJpdmF0ZSBMaWdodDpMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICB0aGlzLkxpZ2h0ID0gdGhpcy5vd25lciBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgdGhpcy5MaWdodC50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5MaWdodC50cmFuc2Zvcm0ucm90YXRpb25FdWxlciA9IHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5yb3RhdGlvbkV1bGVyO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgVmVjdG9yMyA9IExheWEuVmVjdG9yMztcclxuaW1wb3J0IE1lc2hSZW5kZXJlciA9IExheWEuTWVzaFJlbmRlcmVyO1xyXG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gXCIuLi9FdmVudHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuLi9FdmVudHMvRXZlbnRzXCI7XHJcbmltcG9ydCBDb21tb24gZnJvbSBcIi4uL0NvbW1vbi9Db21tb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJheVNlbGVjdG9yIGV4dGVuZHMgTGF5YS5TY3JpcHQzRHtcclxuXHJcbiAgICBwdWJsaWMgQ2FtZXJhOkxheWEuQ2FtZXJhO1xyXG4gICAgcHVibGljIFNjZW5lM0Q6TGF5YS5TY2VuZTNEO1xyXG4gICAgcHVibGljIE1hc2s6bnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBMb2NrOmJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzQ2xpY2tlZDpib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgbV9kZWx0YUNsaWNrVGltZTpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3NlbGVjdGVkOkxheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIG1fcmF5OkxheWEuUmF5O1xyXG4gICAgcHJpdmF0ZSBtX2hpdFJlc3VsdDpMYXlhLkhpdFJlc3VsdDtcclxuICAgIHByaXZhdGUgbV9tb3VzZVBvaW50OkxheWEuVmVjdG9yMiA9IG5ldyBMYXlhLlZlY3RvcjIoKTtcclxuXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgaWYodGhpcy5vd25lciE9bnVsbCl7XHJcbiAgICAgICAgICAgIHZhciBjYW0gPSB0aGlzLm93bmVyIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgICAgICBpZihjYW0hPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DYW1lcmEgPSBjYW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubV9yYXkgPSBuZXcgTGF5YS5SYXkobmV3IFZlY3RvcjMoKSxuZXcgVmVjdG9yMygpKTtcclxuICAgICAgICB0aGlzLm1faGl0UmVzdWx0ID0gbmV3IExheWEuSGl0UmVzdWx0KCk7XHJcbiAgICBcclxuICAgICAgICB0aGlzLkFkZE1vdXNlRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIHRoaXMuUmF5Q2FzdEhpdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEFkZE1vdXNlRXZlbnQoKXtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLk9uUmF5Q2FzdENsaWNrZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIFJlbW92ZU1vdXNlRXZlbnQoKXtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsdGhpcy5PblJheUNhc3RDbGlja2VkKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKXtcclxuICAgICAgICB0aGlzLlJlbW92ZU1vdXNlRXZlbnQoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBSYXlDYXN0SGl0KCl7XHJcbiAgICAgICAgdGhpcy5tX21vdXNlUG9pbnQueCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubV9tb3VzZVBvaW50LnkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5DYW1lcmEhPW51bGwmJnRoaXMuU2NlbmUzRCE9bnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMuQ2FtZXJhLnZpZXdwb3J0UG9pbnRUb1JheSh0aGlzLm1fbW91c2VQb2ludCx0aGlzLm1fcmF5KTtcclxuICAgICAgICAgICAgdGhpcy5TY2VuZTNELnBoeXNpY3NTaW11bGF0aW9uLnJheUNhc3QodGhpcy5tX3JheSx0aGlzLm1faGl0UmVzdWx0KTtcclxuICAgICAgICAgICAgaWYodGhpcy5tX2hpdFJlc3VsdC5zdWNjZWVkZWQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbGxpZGVyID0gdGhpcy5tX2hpdFJlc3VsdC5jb2xsaWRlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMubV9kZWx0YUNsaWNrVGltZSArPUxheWEudGltZXIuZGVsdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tX2lzQ2xpY2tlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PblNwYWNlQ2xpY2tlZC50b1N0cmluZygpLGNvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5TZXRMYXlhQ29sb3IoY29sbGlkZXIsTGF5YS5Db2xvci5SRUQpOyAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tX3NlbGVjdGVkIT1jb2xsaWRlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2lzQ2xpY2tlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLm1fc2VsZWN0ZWQhPW51bGwpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PblNwYWNlRXhpdC50b1N0cmluZygpLHRoaXMubV9zZWxlY3RlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5SZXNldENvbG9yKHRoaXMubV9zZWxlY3RlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc2VsZWN0ZWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3NlbGVjdGVkID0gY29sbGlkZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLlBvc3RFdmVudChFdmVudHMuT25TcGFjZUV4aXQudG9TdHJpbmcoKSx0aGlzLm1fc2VsZWN0ZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5TZXRMYXlhQ29sb3IoY29sbGlkZXIsTGF5YS5Db2xvci5ZRUxMT1cpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBPblJheUNhc3RDbGlja2VkKCl7XHJcblxyXG5cclxuICAgICAgICB0aGlzLm1faXNDbGlja2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5tX21vdXNlUG9pbnQueCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIC8vIHRoaXMubV9tb3VzZVBvaW50LnkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5DYW1lcmEudmlld3BvcnRQb2ludFRvUmF5KHRoaXMubV9tb3VzZVBvaW50LHRoaXMubV9yYXkpO1xyXG5cclxuICAgICAgICAvLyBpZih0aGlzLlNjZW5lM0QhPW51bGwpe1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIC8vICAgICB0aGlzLlNjZW5lM0QucGh5c2ljc1NpbXVsYXRpb24ucmF5Q2FzdCh0aGlzLm1fcmF5LHRoaXMubV9oaXRSZXN1bHQpO1xyXG5cclxuICAgICAgICAvLyAgICAgaWYodGhpcy5tX2hpdFJlc3VsdC5zdWNjZWVkZWQpe1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIHZhciBjb2xsaWRlck5hbWUgPSB0aGlzLm1faGl0UmVzdWx0LmNvbGxpZGVyLm93bmVyLm5hbWU7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgLy9jb25zb2xlLmRlYnVnKFwi56Kw5pKe55qE5a+56LGh5Li677yaXCIrIGNvbGxpZGVyTmFtZSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGZsb29yOkxheWEuTWVzaFNwcml0ZTNEID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5CSU0uR2V0T25lRmxvb3JTcHJpdGUzRChjb2xsaWRlck5hbWUpO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIGlmKGZsb29yPT1udWxsKXJldHVybiA7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgdmFyIG1hdHMgPSBmbG9vci5tZXNoUmVuZGVyZXIubWF0ZXJpYWxzO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgIG1hdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB2YXIgbWF0OkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gZWxlbWVudCBhcyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcclxuICAgICAgICAvLyAgICAgICAgICAgICBtYXQuYWxiZWRvQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDEsMCwwLDEpO1xyXG4gICAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBcclxuXHJcblxyXG4gICAgRHJhd0xpbmUoKXtcclxuICAgICAgICAvLyB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5Nb3VzZU1hbmFnZXIuaW5zdGFuY2UubW91c2VYO1xyXG4gICAgICAgIC8vIHRoaXMubV9tb3VzZVBvaW50LnkgPSBMYXlhLk1vdXNlTWFuYWdlci5pbnN0YW5jZS5tb3VzZVk7XHJcbiAgICAgXHJcbiAgICAgICAgLy8gdGhpcy5tX2NhbWVyYS53b3JsZFRvVmlld3BvcnRQb2ludCh0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbix0aGlzLmNhbVBvcyk7XHJcblxyXG4gICAgICAgIC8vIHRoaXMuc3AuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICAvLyB0aGlzLnNwLmdyYXBoaWNzLmRyYXdMaW5lKHRoaXMuY2FtUG9zLngsdGhpcy5jYW1Qb3MueSx0aGlzLm1fbW91c2VQb2ludC54LHRoaXMubV9tb3VzZVBvaW50LnksXCIjZmYwMDAwXCIsMSk7IFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmFtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyBpcDpzdHJpbmc9XCJtZWV0b28uY25cIjtcclxuICAgIHN0YXRpYyBwb3J0OnN0cmluZz1cIjE5ODZcIjtcclxuXHJcbiAgICBzdGF0aWMgdXNlck5hbWUgPSBcInlhbmd4aW5cIjtcclxuICAgIHN0YXRpYyB1c2VyUGFzc3Byb3QgPSBcIjgxREM5QkRCNTJEMDREQzIwMDM2REJEODMxM0VEMDU1XCI7XHJcblxyXG4gICAgc3RhdGljIHNjcmVlbldpZHRoID0gTGF5YS5Ccm93c2VyLndpZHRoO1xyXG4gICAgc3RhdGljIHNjcmVlbkhlZ2lodCA9IExheWEuQnJvd3Nlci5oZWlnaHQ7XHJcblxyXG4gICAgc3RhdGljIGZsb29yTGF5ZXIgPSBcImJ1aWxkaW5nTGV2ZWxzXCJcclxuXHJcbiAgICBzdGF0aWMgZmxvb3IgPSBcIkZsb29yXCI7XHJcblxyXG4gICAgc3RhdGljIGNhbXB1c0NvZGUgPSBcIlBVTUNIV1wiO1xyXG59IiwiaW1wb3J0IEhhbmRsZXIgPSBsYXlhLnV0aWxzLkhhbmRsZXI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuLi9Db25maWd1cmUvTmFtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBUYWJsZU9yZ25pemF0aW9uIGZyb20gXCIuL1RhYmxlT3Jnbml6YXRpb25cIjtcclxuaW1wb3J0IE10SHR0cCBmcm9tIFwiLi4vTmV0d29yay9NdEh0dHBcIjtcclxuaW1wb3J0IFRhYmxlVXNhZ2VUeXBlIGZyb20gXCIuL1RhYmxlQklNVXNhZ2VUeXBlXCI7XHJcbmltcG9ydCBUYWJsZUJJTVNwYWNlLCB7IFNwYWNlRGF0YSB9IGZyb20gXCIuL1RhYmxlQklNU3BhY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFNYW5hZ2Vye1xyXG5cclxuICAgIHRhYmxlT3JnYW5pemF0aW9uOlRhYmxlT3Jnbml6YXRpb247XHJcbiAgICB0YWJsZVVzYWdlVHlwZTpUYWJsZVVzYWdlVHlwZTtcclxuICAgIHRhYmxlQmltU3BhY2U6VGFibGVCSU1TcGFjZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuXHJcbiAgICBJbml0KCl7XHJcbiAgICAgICAgdGhpcy5SZWdpc3RlclRhYmxlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIFJlZ2lzdGVyVGFibGVzKCl7XHJcbiAgICAgICAgdGhpcy50YWJsZUJpbVNwYWNlID0gbmV3IFRhYmxlQklNU3BhY2UoKTtcclxuICAgICAgICB0aGlzLnRhYmxlQmltU3BhY2UuSW5pdChHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAuVVJMLCgpPT57XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRhYmxlT3JnYW5pemF0aW9uID0gbmV3IFRhYmxlT3Jnbml6YXRpb24oKTtcclxuICAgICAgICAgICAgdGhpcy50YWJsZU9yZ2FuaXphdGlvbi5Jbml0KEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuSHR0cC5VUkwsKCk9PntcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlVXNhZ2VUeXBlID0gbmV3IFRhYmxlVXNhZ2VUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlVXNhZ2VUeXBlLkluaXQoR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLlVSTCwoKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkxvYWRSZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7ICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHZXRPbmVPcmdhbml6YXRpb25OYW1lKGNvZGU6c3RyaW5nLGxldmVsPzpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLnRhYmxlT3JnYW5pemF0aW9uLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVPcmdhbml6YXRpb24uR2V0T25lT3JnYW5pemF0aW9uTmFtZShjb2RlLGxldmVsKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZU9yZ2FuaXphdGlvbkNvbG9yKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy50YWJsZU9yZ2FuaXphdGlvbi5Jc0xvYWRlZCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlT3JnYW5pemF0aW9uLkdldE9uZU9yZ2FuaXphdGlvbkNvbG9yKGNvZGUpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZVVzYWdlTmFtZShjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMudGFibGVVc2FnZVR5cGUuSXNMb2FkZWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZVVzYWdlVHlwZS5HZXRPbmVVc2FnZU5hbWUoY29kZSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lVXNhZ2VDb2xvcihjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMudGFibGVVc2FnZVR5cGUuSXNMb2FkZWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZVVzYWdlVHlwZS5HZXRPbmVVc2FnZUNvbG9yKGNvZGUpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZVNwYWNlRGF0YShjb2RlOnN0cmluZyk6U3BhY2VEYXRhe1xyXG4gICAgICAgIGlmKHRoaXMudGFibGVCaW1TcGFjZS5Jc0xvYWRlZCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlQmltU3BhY2UuR2V0T25lU3BhY2VEYXRhKGNvZGUpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZUxldmVsT3JnYW5pemF0aW9ucyhsZXZlbDpzdHJpbmcpOkFycmF5PHN0cmluZz57XHJcbiAgICAgICAgaWYodGhpcy50YWJsZUJpbVNwYWNlLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVCaW1TcGFjZS5HZXRPbmVMZXZlbE9yZ25pemF0aW9ucyhsZXZlbCk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lTGV2ZWxGbG9vcnNCeU9yZ3MobGV2ZWw6c3RyaW5nLCBvcmdzOkFycmF5PHN0cmluZz4pOkFycmF5PHN0cmluZz57XHJcbiAgICAgICAgaWYodGhpcy50YWJsZUJpbVNwYWNlLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVCaW1TcGFjZS5HZXRPbmVMZXZlbENvZGVzQnlPcmdzKGxldmVsLG9yZ3MpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVCSU1TcGFjZXtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFRhYmVsTmFtZTpzdHJpbmcgPSBcIkJJTVNwYWNlXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2xldmVsU3BhY2VDb2RlczpMYXlhLldlYWtPYmplY3Q7XHJcbiAgICBwcml2YXRlIFNwYWNlRGF0YURpYzpMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgSXNMb2FkZWQ6Ym9vbGVhbjtcclxuXHJcbiAgICBJbml0KHVybDpzdHJpbmcsZmluaXNoZWQ/OmFueSl7XHJcblxyXG4gICAgICAgIHRoaXMuSW5pdENvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICB2YXIgcG9zdFVybCA9IHVybC5jb25jYXQoXCIvSVZTL0JJTVNwYWNlL2R5bmFtaWNRdWVyeVwiKTtcclxuICAgICAgICB2YXIgcG9zdEJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XCJsZXZlbENvZGVMaXN0XCI6W1wiUFVNQ0hXLUQwMy1GMDAxXCIsXCJQVU1DSFctRDAzLUYwMDJcIixcIlBVTUNIVy1EMDMtRjAwM1wiXX0pO1xyXG5cclxuICAgICAgICB0aGlzLkFzeW5Mb2FkRGF0YShwb3N0VXJsLHBvc3RCb2R5LGZpbmlzaGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVTcGFjZURhdGEoY29kZTpzdHJpbmcpOlNwYWNlRGF0YXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmKHRoaXMuU3BhY2VEYXRhRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlNwYWNlRGF0YURpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T3JnYW5pemF0aW9uQnlDb2RlKGNvZGU6c3RyaW5nKXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmKHRoaXMuU3BhY2VEYXRhRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlNwYWNlRGF0YURpYy5nZXQoY29kZSkub3JnYW5pemF0aW9uQ29kZTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVMZXZlbE9yZ25pemF0aW9ucyhsZXZlbDpzdHJpbmcpOkFycmF5PHN0cmluZz57XHJcbiAgICAgICAgbGV0IG9yZ3MgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG5cclxuICAgICAgICBpZih0aGlzLm1fbGV2ZWxTcGFjZUNvZGVzLmhhcyhsZXZlbCkpe1xyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxTcGFjZUNvZGVzLmdldChsZXZlbCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBvcmdDb2RlID0gdGhpcy5HZXRPcmdhbml6YXRpb25CeUNvZGUoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGIgPSBvcmdzLnNvbWUoKGNvZGUpOmJvb2xlYW49PntyZXR1cm4gY29kZSA9PSBvcmdDb2RlO30pXHJcbiAgICAgICAgICAgICAgICBpZighYikgb3Jncy5wdXNoKG9yZ0NvZGUpOyAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmdzO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZUxldmVsQ29kZXNCeU9yZ3MobGV2ZWw6c3RyaW5nLG9yZ3M6QXJyYXk8c3RyaW5nPik6QXJyYXk8c3RyaW5nPntcclxuICAgICAgICBsZXQgZmxvb3JDb2RlcyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFNwYWNlQ29kZXMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwYWNlQ29kZXMuZ2V0KGxldmVsKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yZ0NvZGUgPSB0aGlzLkdldE9yZ2FuaXphdGlvbkJ5Q29kZShlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIGxldCBiID0gb3Jncy5zb21lKChjb2RlKTpib29sZWFuPT57XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUgPT0gb3JnQ29kZTtcclxuICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihiKXtcclxuICAgICAgICAgICAgICAgICAgICBmbG9vckNvZGVzLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmxvb3JDb2RlcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEluaXRDb250YWluZXIoKXtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxTcGFjZUNvZGVzID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgICAgIHRoaXMuU3BhY2VEYXRhRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQXN5bkxvYWREYXRhKHVybDpzdHJpbmcscG9zdEJvZHk6YW55LGZpbmlzaGVkPzphbnkpe1xyXG4gICAgICAgIGlmKHVybCA9PSBudWxsIHx8IHBvc3RCb2R5ID09bnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLnBvc3QodXJsLHBvc3RCb2R5LHRoaXMsKGU6YW55KT0+e1xyXG4gICAgICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgICAgIHZhciByc3QgPWUuZGF0YVtcImRhdGFcIl1bXCJsaXN0XCJdO1xyXG4gICAgICAgICAgICAgICAgcnN0LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IHRoaXMuQ3JlYXRlU3BhY2VEYXRhKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZSE9bnVsbCYmIGVsZS5jb2RlIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuU3BhY2VEYXRhRGljLmhhcyhlbGUuY29kZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TcGFjZURhdGFEaWMuc2V0KGVsZS5jb2RlLGVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sZXZlbENvZGVzXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxldmVsID0gZWxlLmxldmVsQ29kZTtcclxuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5tX2xldmVsU3BhY2VDb2Rlcy5oYXMobGV2ZWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwYWNlQ29kZXMuc2V0KGxldmVsLG5ldyBBcnJheTxzdHJpbmc+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxTcGFjZUNvZGVzLmdldChsZXZlbCkucHVzaChlbGUuY29kZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmaW5pc2hlZC5hcHBseSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Jc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZVNwYWNlRGF0YShlbGVtZW50OmFueSk6U3BhY2VEYXRhIHtcclxuICAgICAgICB2YXIgZGF0YTogU3BhY2VEYXRhID0gbmV3IFNwYWNlRGF0YSgpO1xyXG4gICAgICAgIGRhdGEuY29kZSA9IGVsZW1lbnQuY29kZTtcclxuICAgICAgICBkYXRhLnVzYWdlTmFtZSA9IGVsZW1lbnQudXNhZ2VOYW1lO1xyXG4gICAgICAgIGRhdGEuYnVpbGRpbmdDb2RlID0gZWxlbWVudC5idWlsZGluZ0NvZGU7XHJcbiAgICAgICAgZGF0YS5jYW1wdXNDb2RlID0gZWxlbWVudC5jYW1wdXNDb2RlO1xyXG4gICAgICAgIGRhdGEubGV2ZWxDb2RlID0gZWxlbWVudC5sZXZlbENvZGU7XHJcbiAgICAgICAgZGF0YS5vcmdhbml6YXRpb25Db2RlID0gZWxlbWVudC5vcmdhbml6YXRpb25Db2RlO1xyXG4gICAgICAgIGRhdGEudXNhZ2VUeXBlQ29kZSA9IGVsZW1lbnQudXNhZ2VUeXBlQ29kZTtcclxuICAgICAgICBkYXRhLnVzZUFyZWEgPSBlbGVtZW50LnVzZUFyZWEudG9GaXhlZCgyKS50b1N0cmluZygpICsgXCJtwrJcIjtcclxuICAgICAgICBkYXRhLnBlcmltZXRlciA9IGVsZW1lbnQucGVyaW1ldGVyO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNwYWNlRGF0YXtcclxuICAgIHB1YmxpYyBjb2RlOiAgICAgICAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdXNhZ2VOYW1lOiAgICAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIGJ1aWxkaW5nQ29kZTogICAgIHN0cmluZztcclxuICAgIHB1YmxpYyBjYW1wdXNDb2RlOiAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWxDb2RlOiAgICAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbkNvZGU6IHN0cmluZztcclxuICAgIHB1YmxpYyB1c2FnZVR5cGVDb2RlOiAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdXNlQXJlYTogICAgICAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIHBlcmltZXRlcjogICAgICAgIHN0cmluZztcclxufSAgXHJcblxyXG4iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuLi9Db25maWd1cmUvTmFtZUNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVVc2FnZVR5cGV7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUYWJlbE5hbWU6c3RyaW5nID0gXCJCSU1Vc2FnZVR5cGVcIjtcclxuICAgIHByaXZhdGUgVXNhZ2VUeXBlRGljOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBJc0xvYWRlZDpib29sZWFuO1xyXG5cclxuICAgIEluaXQodXJsOnN0cmluZyxmaW5pc2hlZD86YW55KXtcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIHZhciBwb3N0VXJsID0gdXJsLmNvbmNhdChcIi9JVlMvQ29tbW9uL3JldHJpZXZlQWxsQnlUYWJsZU5hbWVcIik7XHJcbiAgICAgICAgdmFyIHBvc3RCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1widGFibGVOYW1lXCI6dGhpcy5UYWJlbE5hbWV9KTtcclxuXHJcbiAgICAgICAgdGhpcy5Bc3luTG9hZERhdGEocG9zdFVybCxwb3N0Qm9keSxmaW5pc2hlZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZVVzYWdlTmFtZShjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYodGhpcy5Vc2FnZVR5cGVEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6VXNhZ2VUeXBlID0gdGhpcy5Vc2FnZVR5cGVEaWMuZ2V0KGNvZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lVXNhZ2VDb2xvcihjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbDpzdHJpbmcgPSB0aGlzLkdldFVzYWdlTGV2ZWxMZXZlbChjb2RlKTtcclxuXHJcbiAgICAgICAgaWYobGV2ZWwhPVwiMlwiKXtcclxuICAgICAgICAgICAgY29kZSA9IGNvZGUuc3Vic3RyKDAsNCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLlVzYWdlVHlwZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YTpVc2FnZVR5cGUgPSB0aGlzLlVzYWdlVHlwZURpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbG9yO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2V0VXNhZ2VMZXZlbExldmVsKGNvZGU6c3RyaW5nKXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmKHRoaXMuVXNhZ2VUeXBlRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOlVzYWdlVHlwZSA9IHRoaXMuVXNhZ2VUeXBlRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEubGV2ZWw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEluaXRDb250YWluZXIoKXtcclxuICAgICAgICB0aGlzLlVzYWdlVHlwZURpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEFzeW5Mb2FkRGF0YSh1cmw6c3RyaW5nLHBvc3Rib2R5OmFueSxmaW5pbnNoZWQ/OmFueSl7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLnBvc3QodXJsLHBvc3Rib2R5LHRoaXMsKGU6YW55KT0+e1xyXG4gICAgICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgICAgIHZhciByc3QgPWUuZGF0YVtcImRhdGFcIl1bXCJsaXN0XCJdO1xyXG4gICAgICAgICAgICAgICAgcnN0LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IHRoaXMuQ3JlYXRlVXNhZ2VUeXBlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZSE9bnVsbCYmIGVsZS5jb2RlIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuVXNhZ2VUeXBlRGljLmhhcyhlbGUuY29kZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2FnZVR5cGVEaWMuc2V0KGVsZS5jb2RlLGVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmaW5pbnNoZWQuYXBwbHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLklzTG9hZGVkID10cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVVc2FnZVR5cGUoZWxlbWVudDphbnkpOlVzYWdlVHlwZSB7XHJcbiAgICAgICAgdmFyIGRhdGE6IFVzYWdlVHlwZSA9IG5ldyBVc2FnZVR5cGUoKTtcclxuICAgICAgICBkYXRhLmNvZGUgPSBlbGVtZW50LmNvZGU7XHJcbiAgICAgICAgZGF0YS5uYW1lID0gZWxlbWVudC5uYW1lO1xyXG4gICAgICAgIGRhdGEubGV2ZWwgPSBlbGVtZW50LmxldmVsO1xyXG4gICAgICAgIGRhdGEuY29sb3IgPSBlbGVtZW50LmNvbG9yO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVzYWdlVHlwZXtcclxuICAgIHB1YmxpYyBjb2RlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGxldmVsOnN0cmluZztcclxuICAgIHB1YmxpYyBjb2xvcjpzdHJpbmc7XHJcbn0gICIsImltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZU9yZ25pemF0aW9ue1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgVGFiZWxOYW1lOnN0cmluZyA9IFwiT3JnYW5pemF0aW9uXCI7XHJcbiAgICBwcml2YXRlIG9yZ25pemF0aW9uRGljOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBJc0xvYWRlZDpib29sZWFuO1xyXG5cclxuICAgIEluaXQodXJsOnN0cmluZyxmaW5pc2hlZD86YW55KXtcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIHZhciBwb3N0VXJsID0gdXJsLmNvbmNhdChcIi9JVlMvQ29tbW9uL3JldHJpZXZlQWxsQnlUYWJsZU5hbWVcIik7XHJcbiAgICAgICAgdmFyIHBvc3RCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1widGFibGVOYW1lXCI6dGhpcy5UYWJlbE5hbWV9KTtcclxuXHJcbiAgICAgICAgdGhpcy5Bc3luTG9hZERhdGEocG9zdFVybCxwb3N0Qm9keSxmaW5pc2hlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lT3JnYW5pemF0aW9uTmFtZShjb2RlOnN0cmluZyxsZXZlbD86c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgY29kZSA9IGxldmVsID09IG51bGw/Y29kZTpjb2RlLnN1YnN0cigwLDIgKiBwYXJzZUludChsZXZlbCkpO1xyXG5cclxuICAgICAgICBpZih0aGlzLm9yZ25pemF0aW9uRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOk9yZ25pemF0aW9uID0gdGhpcy5vcmduaXphdGlvbkRpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVPcmdhbml6YXRpb25Db2xvcihjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbDpzdHJpbmcgPSB0aGlzLkdldE9yZ2FuaXphdGlvbkxldmVsKGNvZGUpO1xyXG5cclxuICAgICAgICBpZihsZXZlbCE9XCIyXCIpe1xyXG4gICAgICAgICAgICBjb2RlID0gY29kZS5zdWJzdHIoMCw0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMub3Jnbml6YXRpb25EaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6T3Jnbml6YXRpb24gPSB0aGlzLm9yZ25pemF0aW9uRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29sb3I7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRPcmdhbml6YXRpb25MZXZlbChjb2RlOnN0cmluZyl7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBpZih0aGlzLm9yZ25pemF0aW9uRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOk9yZ25pemF0aW9uID0gdGhpcy5vcmduaXphdGlvbkRpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmxldmVsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBJbml0Q29udGFpbmVyKCl7XHJcbiAgICAgICAgdGhpcy5vcmduaXphdGlvbkRpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEFzeW5Mb2FkRGF0YSh1cmw6c3RyaW5nLHBvc3Rib2R5OmFueSxmaW5pbnNoZWQ/OmFueSl7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLnBvc3QodXJsLHBvc3Rib2R5LHRoaXMsKGU6YW55KT0+e1xyXG4gICAgICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgICAgIHZhciByc3QgPWUuZGF0YVtcImRhdGFcIl1bXCJsaXN0XCJdO1xyXG4gICAgICAgICAgICAgICAgcnN0LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IHRoaXMuQ3JlYXRlT3JnYW5pemF0aW9uKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZSE9bnVsbCYmIGVsZS5jb2RlIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMub3Jnbml6YXRpb25EaWMuaGFzKGVsZS5jb2RlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yZ25pemF0aW9uRGljLnNldChlbGUuY29kZSxlbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZmluaW5zaGVkLmFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLklzTG9hZGVkID10cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVPcmdhbml6YXRpb24oZWxlbWVudDphbnkpOk9yZ25pemF0aW9uIHtcclxuICAgICAgICB2YXIgZGF0YTogT3Jnbml6YXRpb24gPSBuZXcgT3Jnbml6YXRpb24oKTtcclxuICAgICAgICBkYXRhLmNvZGUgPSBlbGVtZW50LmNvZGU7XHJcbiAgICAgICAgZGF0YS5uYW1lID0gZWxlbWVudC5uYW1lO1xyXG4gICAgICAgIGRhdGEubGV2ZWwgPSBlbGVtZW50LmxldmVsO1xyXG4gICAgICAgIGRhdGEuY29sb3IgPSBlbGVtZW50LmNvbG9yO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9yZ25pemF0aW9ue1xyXG4gICAgcHVibGljIGNvZGU6IHN0cmluZztcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWw6c3RyaW5nO1xyXG4gICAgcHVibGljIGNvbG9yOnN0cmluZztcclxufSAgIiwiXHJcbmltcG9ydCBFdmVudERpc3BhdGNoZXIgPSBsYXlhLmV2ZW50cy5FdmVudERpc3BhdGNoZXI7ICBcclxuICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWFuYWdlciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlcntcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBldmVudERpc3BhdGNoZXI6RXZlbnREaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpFdmVudE1hbmFnZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIEluc3RhbmNlKCl7XHJcbiAgICAgICAgaWYoRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9PSBudWxsKXtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9IG5ldyBFdmVudE1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFBvc3RFdmVudChlTmFtZTpzdHJpbmcsYXJncz86YW55KXtcclxuICAgICAgICAvL29uc29sZS5kZWJ1ZyhcIuWIhuWPkeS6i+S7tlwiKTtcclxuICAgICAgICBFdmVudE1hbmFnZXIuZXZlbnREaXNwYXRjaGVyLmV2ZW50KGVOYW1lLGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBBZGRFdmVudExpc3RlbmVyKGVOYW1lOnN0cmluZyxjYWxsZXI6YW55LGxpc3RlbmVyOkZ1bmN0aW9uLGFyZ3M/OmFueVtdKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwi5L6m5ZCs5LqL5Lu2XCIsZU5hbWUpO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5ldmVudERpc3BhdGNoZXIub24oZU5hbWUsY2FsbGVyLGxpc3RlbmVyLGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBSZW1vdmVFdmVudExpc3RlbmVyKGVOYW1lOnN0cmluZyxjYWxsZXI6YW55LGxpc3RlbmVyOkZ1bmN0aW9uLG9uY2U/OmJvb2xlYW4pe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCLnp7vpmaTkuovku7ZcIixlTmFtZSk7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLmV2ZW50RGlzcGF0Y2hlci5vZmYoZU5hbWUsY2FsbGVyLGxpc3RlbmVyLG9uY2UpO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBlbnVtIEV2ZW50c3tcclxuICAgIE9uVUlfTGV2ZWxCdG5fQ2xpY2tlZCxcclxuXHJcbiAgICBPblNwYWNlRW50ZXIsXHJcbiAgICBPblNwYWNlQ2xpY2tlZCxcclxuICAgIE9uU3BhY2VFeGl0LFxyXG5cclxuICAgIE9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLFxyXG5cclxuICAgIE9uRGVwVHJlZUl0ZW1DbGlja2VkLFxyXG59IiwiXHJcbmltcG9ydCBNdEh0dHAgZnJvbSBcIi4vTmV0d29yay9NdEh0dHBcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4vQ29uZmlndXJlL05hbWVDb25maWdcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuL0RhdGEvRGF0YU1hbmFnZXJcIjtcclxuXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vR2FtZVVJXCI7XHJcblxyXG5pbXBvcnQgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4vQ29tcG9uZW50L0NhbWVyYU1vdmVTY3JpcHRcIjtcclxuaW1wb3J0IExhYmVsVXBkYXRQb3MgZnJvbSBcIi4vQ29tcG9uZW50L0xhYmVsVXBkYXRlXCI7XHJcbmltcG9ydCBNYWluVUkgZnJvbSBcIi4vTWFpblVJXCI7XHJcbmltcG9ydCBCSU1NYW5hZ2VyLCB7IExhYmVsVHlwZSB9IGZyb20gXCIuL0JJTS9CSU1NYW5hZ2VyXCI7XHJcbmltcG9ydCBDYW1lcmFNYW5hZ2VyIGZyb20gXCIuL0NhbWVyYS9DYW1lcmFNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9FdmVudHMvRXZlbnRzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNYW5hZ2Vye1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpHYW1lTWFuYWdlcjsgICAgXHJcblxyXG4gICAgc3RhdGljIEluc3RhbmNlKCk6R2FtZU1hbmFnZXJ7XHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuX2luc3RhbmNlID09IG51bGwpe1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5faW5zdGFuY2UgPSBuZXcgR2FtZU1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEdhbWVNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgQklNOkJJTU1hbmFnZXI7XHJcbiAgICBwdWJsaWMgRGF0YTpEYXRhTWFuYWdlcjtcclxuICAgIHB1YmxpYyBDYW1lcmE6Q2FtZXJhTWFuYWdlcjtcclxuICAgIHB1YmxpYyBIdHRwIDpNdEh0dHA7XHJcblxyXG4gICAgcHVibGljIE1haW5TY2VuZTpMYXlhLlNjZW5lM0Q7XHJcbiAgICBwdWJsaWMgTWFpblVJOk1haW5VSTtcclxuXHJcbiAgICBwcml2YXRlIElzSW5pdFNjZW5lOmJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIExvZ2luTG9jazpCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLkh0dHAgPSBuZXcgTXRIdHRwKE5hbWVDb25maWcuaXAsTmFtZUNvbmZpZy5wb3J0KTtcclxuXHJcbiAgICAgICAgdGhpcy5CSU0gPSBuZXcgQklNTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuRGF0YSA9IG5ldyBEYXRhTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuQ2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIoKTtcclxuICAgXHJcbiAgICAgICAgdGhpcy5BZGRFdmVudHMoKTtcclxuICAgIH0gICBcclxuXHJcblxyXG4gICAgQWRkRXZlbnRzKCl7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuQWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuT25VSV9MZXZlbEJ0bl9DbGlja2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLk9uTGV2ZWxCdG5DbGlja2VkKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBPbkxldmVsQnRuQ2xpY2tlZChsZXZlbE5hbWU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLkJJTS5IaWRlT25lTGV2ZWxGbG9vcnModGhpcy5CSU0uQ3VycmVuTGV2ZWwpO1xyXG4gICAgICAgIHRoaXMuQklNLlNob3dPbmVMZXZlbEZsb29ycyhsZXZlbE5hbWUpO1xyXG5cclxuICAgICAgICB0aGlzLk1haW5VSS5DcmVhdGVUcmVlKHRoaXMuRGF0YS5HZXRPbmVMZXZlbE9yZ2FuaXphdGlvbnModGhpcy5CSU0uQ3VycmVuTGV2ZWwpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgTG9naW4oKXsgICBcclxuXHJcbiAgICAgICAgaWYodGhpcy5Mb2dpbkxvY2spIHJldHVybiA7XHJcblxyXG4gICAgICAgIHZhciBsb25naW5VcmwgPSAgdGhpcy5IdHRwLlVSTC5jb25jYXQoXCIvSVZTL2xvZ2luXCIpO1xyXG4gICAgICAgIHZhciBwb3N0Qm9keSA9IEpTT04uc3RyaW5naWZ5KHtcIm5hbWVcIjpOYW1lQ29uZmlnLnVzZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInB3ZFwiOk5hbWVDb25maWcudXNlclBhc3Nwcm90LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRoaXJkUGFydHlDb2RlXCI6XCIwXCJ9KTtcclxuICAgICAgICB0aGlzLkh0dHAucG9zdChsb25naW5VcmwscG9zdEJvZHksdGhpcyx0aGlzLkxvZ2luU3VjY2VlZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5Mb2dpbkxvY2sgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIExvZ2luU3VjY2VlZChlOmFueSl7XHJcbiAgICAgICAgaWYoZS5zdGF0ZSA9PSBcInN1Y2NlZWRcIil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJMb2dpbiBzdWNjZWVkIVwiKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2FkRGF0YSgpO1xyXG5cclxuICAgICAgICAgICAgLy90ZXN0XHJcbiAgICAgICAgICAgIC8vdGhpcy5Mb2FkUmVzKCk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgICBhbGVydChlLm1zZyk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfVxyXG5cclxuICAgIExvYWREYXRhKCl7XHJcblxyXG4gICAgICAgIHRoaXMuRGF0YS5Jbml0KCk7XHJcbiAgICBcclxuICAgIH1cclxuXHJcbiAgICBMb2FkUmVzKCl7XHJcblxyXG4gICAgICAgIExheWEubG9hZGVyLmxvYWQoXCJyZXMvSnNvbkZpbGUvcmVzX3B1bWNody5qc29uXCIsSGFuZGxlci5jcmVhdGUodGhpcywoZGF0YSk9PntcclxuXHJcbiAgICAgICAgICAgIHZhciByZXNVcmw6QXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgICAgICBkYXRhLnVybC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzVXJsLnB1c2godGhpcy5IdHRwLlVSTC5jb25jYXQoXCIvUGF0Y2gvcmVzL1wiLGVsZW1lbnQpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkJJTS5Mb2FkUmVzKHJlc1VybCwoKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuSW5pdE1haW5VSSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuQklNLlNob3dPbmVMZXZlbEZsb29ycyh0aGlzLkJJTS5DdXJyZW5MZXZlbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBJbml0M0RTY2VuZSgpe1xyXG5cclxuICAgICAgICBpZih0aGlzLklzSW5pdFNjZW5lKSByZXR1cm47XHJcblxyXG4gICAgICAgIExheWEzRC5pbml0KDAsIDAsIHRydWUpO1xyXG5cclxuICAgICAgICBMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IExheWEuU3RhZ2UuU0NBTEVfRlVMTDtcclxuICAgICAgICBMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBMYXlhLlN0YWdlLlNDUkVFTl9OT05FO1xyXG5cclxuICAgICAgICAvL0xheWEuU3RhdC5zaG93KCk7XHJcblxyXG4gICAgICAgIHRoaXMuTWFpblNjZW5lID0gbmV3IExheWEuU2NlbmUzRCgpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5NYWluU2NlbmUpO1xyXG4gICAgICAgXHJcbiAgICAgICAgdGhpcy5DYW1lcmEuSW5pdENhbWVyYSgpO1xyXG5cclxuICAgICAgICB0aGlzLklzSW5pdFNjZW5lID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0TWFpblVJKCl7XHJcbiAgICAgICAgdGhpcy5NYWluVUkgPSBuZXcgTWFpblVJKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLk1haW5VSSk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLk1haW5VSS5DcmVhdGVUcmVlKHRoaXMuRGF0YS5HZXRPbmVMZXZlbE9yZ2FuaXphdGlvbnModGhpcy5CSU0uQ3VycmVuTGV2ZWwpKTtcclxuICAgICAgICB0aGlzLk1haW5VSS5DcmVhdGVMZXZlbHModGhpcy5CSU0uTGV2ZWxzKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4vQ29uZmlndXJlL05hbWVDb25maWdcIjtcclxuXHJcblxyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIHVpLnBvcnRhbC5Mb2FkaW5nVUkge1xyXG5cclxuICAgIHN0YXRpYyBfaW5zdGFuY2UgOiBHYW1lVUk7XHJcblxyXG4gICAgR2FtZU1hbmFnZXI6R2FtZU1hbmFnZXI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7ICBcclxuXHJcbiAgICAgICAgR2FtZVVJLl9pbnN0YW5jZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuR2FtZU1hbmFnZXIgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICB0aGlzLlVJQWRhcHRlcigpO1xyXG4gICAgICAgIHRoaXMuTG9naW5CdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuT25Mb2dpbkJ0bkNsaWNrZWQpO1xyXG5cclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJFU0laRSxMYXlhLnN0YWdlLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuVUlBZGFwdGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9FbmFibGXliJ3lp4vljJZcclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvL+eZu+mZhlxyXG4gICAgT25Mb2dpbkJ0bkNsaWNrZWQoZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5Mb2dpbigpO1xyXG4gICAgICAgIHRoaXMuR2FtZU1hbmFnZXIuTG9naW4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iuvue9rui1hOa6kOWKoOi9vei/m+W6plxyXG4gICAgU2V0TG9hZFBlcmNlbnQocGVyY2VudDpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuUHJvZ3Jlc3NCYXIudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci52YWx1ZSA9IHBlcmNlbnQ7XHJcbiAgICAgICAgaWYocGVyY2VudCA9PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5EZXN0cm95U2NlbmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRGVzdHJveVNjZW5lKCl7XHJcbiAgICAgICAgLy90aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICBMYXlhLlNjZW5lLmNsb3NlKHRoaXMuc2NlbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vVUnpgILphY1cclxuICAgIFVJQWRhcHRlcigpe1xyXG4gICAgICAgIGxldCB3aWR0aCA9IExheWEuQnJvd3Nlci53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gTGF5YS5Ccm93c2VyLmhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuQmFja2dyb3VuZC53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuQmFja2dyb3VuZC5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5UaXRsZS5wb3Mod2lkdGgvMixoZWlnaHQvNCk7XHJcbiAgICAgICAgdGhpcy5Mb2dpbkJ0bi5wb3Mod2lkdGgvMixoZWlnaHQvMyArIDEwMCk7XHJcbiAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci5wb3Mod2lkdGgvMixoZWlnaHQgKiAzIC8gNCk7XHJcbiAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHt1aX0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgQklNTWFuYWdlciwgeyBMYWJlbFR5cGUgfSBmcm9tIFwiLi9CSU0vQklNTWFuYWdlclwiO1xyXG5cclxuaW1wb3J0IEJ1dHRvbiA9IExheWEuQnV0dG9uO1xyXG5pbXBvcnQgQ29tbW9uIGZyb20gXCIuL0NvbW1vbi9Db21tb25cIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi9FdmVudHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuL0V2ZW50cy9FdmVudHNcIjtcclxuXHJcbmltcG9ydCBVSVRyZWUgZnJvbSBcIi4vVUkvVHJlZS9VSVRyZWVcIjtcclxuaW1wb3J0IHsgVHJlZUl0ZW1EYXRhIH0gZnJvbSBcIi4vVUkvVHJlZS9VSVRyZWVJdGVtXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluVUkgZXh0ZW5kcyB1aS5NYWluU2NlbmUuTWFpblNjZW5lVUl7XHJcblxyXG4gICAgc3RhdGljIF9pbnN0YW5jZSA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzMkQ6Qm9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9sZXZlbEJ0bnM6QXJyYXk8QnV0dG9uPjtcclxuICAgIHByaXZhdGUgbV9sZXZlbFBvczpMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2xldmVsQnRuT3JpUG9zOkxheWEuVmVjdG9yMjtcclxuXHJcbiAgICBwcml2YXRlIG1faXNTaG93TXVsdGlCdG5zOmJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBtX2lzU2hvd0FsbExldmVsczpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIEN1cnJlbnRMYWJlbFR5cGU6TGFiZWxUeXBlID0gTGFiZWxUeXBlLlVzYWdlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIE1haW5VSS5faW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuVUlBZGFwdGVyKCk7ICAgXHJcbiAgICAgICAgdGhpcy5BZGRFdmVudCgpOyBcclxuICAgICAgICB0aGlzLm1faXMyRCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zID0gbmV3IEFycmF5PEJ1dHRvbj4oKTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxQb3MgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SRVNJWkUsTGF5YS5zdGFnZSwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLlVJQWRhcHRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFVJQWRhcHRlcigpe1xyXG4gICAgICAgIGxldCB3aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuXzJEM0RCdG4ucG9zKDEwMCxoZWlnaHQtMTAwKVxyXG5cclxuICAgICAgICB0aGlzLkRlcEJ0bi5wb3MoMTAwLGhlaWdodC8zKTtcclxuICAgICAgICB0aGlzLlVzYWdlQnRuLnBvcygxMDAsaGVpZ2h0LzMrMTUwKTtcclxuICAgICAgICB0aGlzLkFyZWFCdG4ucG9zKDEwMCxoZWlnaHQvMyszMDApO1xyXG5cclxuICAgICAgICB0aGlzLk11bHRpQnRuLnBvcyh3aWR0aC0xNTAsaGVpZ2h0LTE4MCk7ICAgIFxyXG4gICAgICAgIHRoaXMuQWxsQnRuLnBvcyh3aWR0aC0xNTAsaGVpZ2h0LTEwMClcclxuXHJcbiAgICAgICAgLy/ph43mlrDliLfmlrBsZXZlbGJ0blxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbEJ0bnMmJnRoaXMubV9sZXZlbEJ0bnMubGVuZ3RoIT0wKXtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gMFxyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5PcmlQb3MgPSBuZXcgTGF5YS5WZWN0b3IyKHRoaXMuTXVsdGlCdG4ueCx0aGlzLk11bHRpQnRuLnkpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wb3ModGhpcy5NdWx0aUJ0bi54LHRoaXMuTXVsdGlCdG4ueSAtICsraW5kZXggKiA4MClcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9sZXZlbFBvcy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9sZXZlbFBvcy5kZWwoZWxlbWVudCk7IFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9sZXZlbFBvcy5zZXQoZWxlbWVudCxuZXcgTGF5YS5WZWN0b3IyKGVsZW1lbnQueCxlbGVtZW50LnkpKTtcclxuICAgICAgICAgICAgICAgIH0gICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8v5bqU6K+l5pyJUmVtb3ZlRXZlbmV0XHJcbiAgICBBZGRFdmVudCgpe1xyXG4gICAgICAgIHRoaXMuXzJEM0RCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICB0aGlzLl8yRDNEQnRuQ2xpY2tlZCgpO1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLkRlcEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLG51bGwsKGUpPT57XHJcbiAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5SZWZyZXNoTGFiZWxDb250ZW50KExhYmVsVHlwZS5EZXBhcnQpO1xyXG4gICAgICAgICAgICAgdGhpcy5DdXJyZW50TGFiZWxUeXBlID0gTGFiZWxUeXBlLkRlcGFydDtcclxuICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuVXNhZ2VCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5SZWZyZXNoTGFiZWxDb250ZW50KExhYmVsVHlwZS5Vc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudExhYmVsVHlwZSA9IExhYmVsVHlwZS5Vc2FnZTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5BcmVhQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssbnVsbCwoZSk9PntcclxuICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlJlZnJlc2hMYWJlbENvbnRlbnQoTGFiZWxUeXBlLkFyZWEpO1xyXG4gICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5NdWx0aUJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLG51bGwsKGUpPT57XHJcbiAgICAgICAgICAgIHRoaXMuU2hvd0xldmVscyh0aGlzLm1faXNTaG93TXVsdGlCdG5zKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgICBcclxuICAgICAgICB9KTsgIFxyXG5cclxuICAgICAgICB0aGlzLkFsbEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLG51bGwsKGUpPT57XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1faXNTaG93QWxsTGV2ZWxzID0gIXRoaXMubV9pc1Nob3dBbGxMZXZlbHNcclxuXHJcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlNob3dBbGxMZXZlbHModGhpcy5tX2lzU2hvd0FsbExldmVscyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAgIFxyXG4gICAgICAgIH0pOyAgXHJcbiAgICB9XHJcblxyXG4gICAgQ3JlYXRlTGV2ZWxzKGxldmVsczpBcnJheTxzdHJpbmc+KXtcclxuICAgICAgICBpZihsZXZlbHM9PW51bGx8fGxldmVscy5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLnNwbGljZSgwKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgdW5kZXJHcm91bmRMZXZlbCA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgdmFyIHVwR3JvdW5kTGV2ZWwgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG5cclxuICAgICAgICBsZXZlbHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmKGVsZW1lbnQubGVuZ3RoIT0xNSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwibGV2ZWwgbmFtZSBpcyBub3QgbGVnYWwhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihDb21tb24uR2V0UHVyTGV2ZWwoZWxlbWVudCkubWF0Y2goXCJCXCIpIT1udWxsKXtcclxuICAgICAgICAgICAgICAgIHVuZGVyR3JvdW5kTGV2ZWwucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB1cEdyb3VuZExldmVsLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdW5kZXJHcm91bmRMZXZlbC5zb3J0KChhLGIpOm51bWJlcj0+e1xyXG4gICAgICAgICAgICByZXR1cm4gYS5jaGFyQXQoMTQpPmIuY2hhckF0KDE0KT8tMToxO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB1cEdyb3VuZExldmVsLnNvcnQoKGEsYik6bnVtYmVyPT57XHJcbiAgICAgICAgICAgIHJldHVybiBhLmNoYXJBdCgxNCk+Yi5jaGFyQXQoMTQpPzE6LTE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciByZWFsTGV2ZWxzOkFycmF5PHN0cmluZz4gPSB1bmRlckdyb3VuZExldmVsLmNvbmNhdCh1cEdyb3VuZExldmVsKTtcclxuXHJcbiAgICAgICAgLy90ZW1wXHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5PcmlQb3MgPSBuZXcgTGF5YS5WZWN0b3IyKHRoaXMuTXVsdGlCdG4ueCx0aGlzLk11bHRpQnRuLnkpO1xyXG5cclxuICAgICAgICByZWFsTGV2ZWxzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQ3JlYXRlT25lQnV0dG9uKGVsZW1lbnQsbmV3IExheWEuVmVjdG9yMih0aGlzLm1fbGV2ZWxCdG5PcmlQb3MueCx0aGlzLm1fbGV2ZWxCdG5PcmlQb3MueSAtICsraW5kZXgqODApKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZU9uZUJ1dHRvbihsZXZlbENvZGU6c3RyaW5nLHBvczpMYXlhLlZlY3RvcjIpe1xyXG4gICAgICAgIGlmKGxldmVsQ29kZSA9PSBudWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICB2YXIgcHVyTGV2ZWwgPSBDb21tb24uR2V0UHVyTGV2ZWwobGV2ZWxDb2RlKTtcclxuXHJcbiAgICAgICAgdmFyIGx2bEJ0bjpCdXR0b24gPSBuZXcgQnV0dG9uKFwiY29tcC9idXR0b24ucG5nXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGx2bEJ0bi5uYW1lID0gbGV2ZWxDb2RlO1xyXG4gICAgICAgIGx2bEJ0bi53aWR0aCA9IDgwO1xyXG4gICAgICAgIGx2bEJ0bi5oZWlnaHQgPSA2MDtcclxuICAgICAgICBsdmxCdG4ucG9zKHBvcy54LHBvcy55KTtcclxuICAgICAgICBsdmxCdG4ubGFiZWxTaXplID0gMzA7XHJcbiAgICAgICAgbHZsQnRuLmxhYmVsID0gcHVyTGV2ZWwuY2hhckF0KDApK3B1ckxldmVsLmNoYXJBdCgzKTtcclxuICAgICAgICBsdmxCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlLGx2bE5hbWUpPT57XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLlBvc3RFdmVudChFdmVudHMuT25VSV9MZXZlbEJ0bl9DbGlja2VkLnRvU3RyaW5nKCksbHZsQnRuLm5hbWUpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsdmxCdG4pO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLnB1c2gobHZsQnRuKTtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xldmVsUG9zLnNldChsdmxCdG4sbmV3IExheWEuVmVjdG9yMihsdmxCdG4ueCxsdmxCdG4ueSkpO1xyXG4gICAgfVxyXG5cclxuICAgIFNob3dMZXZlbHMoYjpib29sZWFuKXtcclxuICAgICAgICB0aGlzLm1faXNTaG93TXVsdGlCdG5zID0gIWI7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLm1faXNTaG93TXVsdGlCdG5zKXtcclxuICAgICAgICAgICAgdGhpcy5NdWx0aUJ0bi5sYWJlbCA9IFwi5bGV5byAXCI7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbEJ0bnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8oZWxlbWVudCx7eDp0aGlzLm1fbGV2ZWxCdG5PcmlQb3MueCx5OnRoaXMubV9sZXZlbEJ0bk9yaVBvcy55fSw1MCxMYXlhLkVhc2UubGluZWFySW4sTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52aXNpYmxlID0gdGhpcy5tX2lzU2hvd011bHRpQnRucztcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuTXVsdGlCdG4ubGFiZWwgPSBcIuaKmOWPoFwiO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnZpc2libGUgPSB0aGlzLm1faXNTaG93TXVsdGlCdG5zO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMubV9sZXZlbFBvcy5nZXQoZWxlbWVudCkgYXMgTGF5YS5WZWN0b3IyO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhlbGVtZW50LHt4OnBvcy54LHk6cG9zLnl9LDUwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF8yRDNEQnRuQ2xpY2tlZCgpe1xyXG4gICAgICAgIHRoaXMubV9pczJEID0gIXRoaXMubV9pczJEO1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQ2FtZXJhLlJlc2V0Q2FtZXJhKHRoaXMubV9pczJEKTtcclxuICAgICAgICBpZih0aGlzLm1faXMyRCl7XHJcbiAgICAgICAgICAgIHRoaXMuXzJEM0RCdG4ubGFiZWwgPSBcIjNEXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuXzJEM0RCdG4ubGFiZWwgPSBcIjJEXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBtX29yZ0xldmVsMTpMYXlhLldlYWtPYmplY3QgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICBtX29yZ0xldmVsMjpMYXlhLldlYWtPYmplY3QgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICBtX2xldmVsMWFycnM6QXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICBtX2xldmVsMmFycnM6QXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcblxyXG4gICAgdWl0cmVlOlVJVHJlZSA9IG5ldyBVSVRyZWUoKTtcclxuICAgIHRyZWVkYXRhOkFycmF5PFRyZWVJdGVtRGF0YT4gPSBuZXcgQXJyYXk8VHJlZUl0ZW1EYXRhPigpO1xyXG5cclxuICAgIENyZWF0ZVRyZWUob3JnczpBcnJheTxzdHJpbmc+KXtcclxuICAgICAgICAvL1RFTVA66buY6K6k5Li6M+e6p1xyXG5cclxuICAgICAgICB0aGlzLmNsZWFyZGljKCk7XHJcblxyXG4gICAgICAgIGxldCBsZXZlbDE6c3RyaW5nO1xyXG4gICAgICAgIGxldCBsZXZlbDI6c3RyaW5nO1xyXG4gICAgICAgIGxldCBsZXZlbDM6c3RyaW5nO1xyXG4gICAgICAgIG9yZ3MuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoKGVsZW1lbnQubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5tX29yZ0xldmVsMS5oYXMoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX29yZ0xldmVsMS5zZXQoZWxlbWVudCxuZXcgQXJyYXk8c3RyaW5nPigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsMWFycnMucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDEgPSBlbGVtZW50LnN1YnN0cigwLDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsMiA9IGVsZW1lbnQuc3Vic3RyKDAsNCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLm1fb3JnTGV2ZWwxLmhhcyhsZXZlbDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9vcmdMZXZlbDEuc2V0KGxldmVsMSxuZXcgQXJyYXk8c3RyaW5nPigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsMWFycnMucHVzaChsZXZlbDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMubV9vcmdMZXZlbDEuZ2V0KGxldmVsMSkuc29tZSgoY29kZSk6Ym9vbGVhbiA9PntyZXR1cm4gY29kZSA9PSBsZXZlbDJ9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYikgdGhpcy5tX29yZ0xldmVsMS5nZXQobGV2ZWwxKS5wdXNoKGxldmVsMik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDEgPSBlbGVtZW50LnN1YnN0cigwLDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsMiA9IGVsZW1lbnQuc3Vic3RyKDAsNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwzID0gZWxlbWVudC5zdWJzdHIoMCw2KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMubV9vcmdMZXZlbDEuaGFzKGxldmVsMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX29yZ0xldmVsMS5zZXQobGV2ZWwxLG5ldyBBcnJheTxzdHJpbmc+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWwxYXJycy5wdXNoKGxldmVsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiMiA9IHRoaXMubV9vcmdMZXZlbDEuZ2V0KGxldmVsMSkuc29tZSgoY29kZSk6Ym9vbGVhbiA9PntyZXR1cm4gY29kZSA9PSBsZXZlbDJ9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYjIpIHRoaXMubV9vcmdMZXZlbDEuZ2V0KGxldmVsMSkucHVzaChsZXZlbDIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMubV9vcmdMZXZlbDIuaGFzKGxldmVsMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX29yZ0xldmVsMi5zZXQobGV2ZWwyLG5ldyBBcnJheTxzdHJpbmc+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWwyYXJycy5wdXNoKGxldmVsMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiMyA9IHRoaXMubV9vcmdMZXZlbDIuZ2V0KGxldmVsMikuc29tZSgoY29kZSk6Ym9vbGVhbiA9PntyZXR1cm4gY29kZSA9PSBsZXZlbDN9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYjMpIHRoaXMubV9vcmdMZXZlbDIuZ2V0KGxldmVsMikucHVzaChsZXZlbDMpOyAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubV9sZXZlbDFhcnJzLmZvckVhY2gobHZsMSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByb290OlRyZWVJdGVtRGF0YSA9IHRoaXMuY3JlYXRlVHJlZUl0ZW0obHZsMSxHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uTmFtZShsdmwxKSwxLGZhbHNlLG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnRyZWVkYXRhLnB1c2gocm9vdCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1fb3JnTGV2ZWwxLmdldChsdmwxKS5mb3JFYWNoKGx2bDIgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzbGVhZiA9ICghdGhpcy5tX29yZ0xldmVsMi5oYXMobHZsMikgfHwgdGhpcy5tX29yZ0xldmVsMi5nZXQobHZsMikubGVuZ3RoID09IDApP3RydWU6ZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWwyOlRyZWVJdGVtRGF0YSA9IHRoaXMuY3JlYXRlVHJlZUl0ZW0obHZsMixHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uTmFtZShsdmwyKSwyLGlzbGVhZixsdmwxKTtcclxuICAgICAgICAgICAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaChsZXZlbDIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9vcmdMZXZlbDIuaGFzKGx2bDIpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fb3JnTGV2ZWwyLmdldChsdmwyKS5mb3JFYWNoKGx2bDM9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxldmVsMzpUcmVlSXRlbURhdGEgPSB0aGlzLmNyZWF0ZVRyZWVJdGVtKGx2bDMsR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZU9yZ2FuaXphdGlvbk5hbWUobHZsMyksMyx0cnVlLGx2bDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDIuY2hpbGRyZW4ucHVzaChsZXZlbDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfSk7ICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51aXRyZWUuSW5pdFRyZWUodGhpcy50cmVlZGF0YSxudWxsLG5ldyBMYXlhLlZlY3RvcjIoTGF5YS5Ccm93c2VyLndpZHRoIC0gNTAwLDEwKSxcIiNGRkQ3MDBcIik7XHJcbiAgICAgICAgdGhpcy51aXRyZWUuT25WYWx1ZUNoYW5nZWQgPShkYXRhLGIpPT57XHJcbiAgICAgICAgICAgIHRoaXMuT25WYWx1ZUNoYW5nZWQoZGF0YSxiKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVRyZWVJdGVtKGNvZGU6c3RyaW5nLG5hbWU6c3RyaW5nLGxldmVsOm51bWJlcixpc0xlYWY6Ym9vbGVhbixwYXJlbnRDb2RlOnN0cmluZyk6VHJlZUl0ZW1EYXRhe1xyXG4gICAgICAgIGxldCBpdGVtOlRyZWVJdGVtRGF0YSA9IG5ldyBUcmVlSXRlbURhdGEoKTtcclxuICAgICAgICBpdGVtLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIGl0ZW0ubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgaXRlbS5sZXZlbCA9IGxldmVsO1xyXG4gICAgICAgIGl0ZW0uaXNMZWFmID0gaXNMZWFmO1xyXG4gICAgICAgIGl0ZW0ucGFyZW50Q29kZSA9IHBhcmVudENvZGU7XHJcbiAgICAgICAgaXRlbS5jaGlsZHJlbiA9IG5ldyBBcnJheTxUcmVlSXRlbURhdGE+KCk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgT25WYWx1ZUNoYW5nZWQoYXJyOkFycmF5PGFueT4sYjpib29sZWFuKXtcclxuXHJcbiAgICAgICAgbGV0IHN0ciA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgYXJyLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHN0ci5wdXNoKGVsZW1lbnQuSXRlbURhdGEuY29kZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLlBvc3RFdmVudChFdmVudHMuT25EZXBUcmVlSXRlbUNsaWNrZWQudG9TdHJpbmcoKSxbc3RyLGJdKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcmRpYygpe1xyXG4gICAgICAgIHRoaXMubV9sZXZlbDFhcnJzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubV9vcmdMZXZlbDEuZGVsKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubV9sZXZlbDFhcnJzLnNwbGljZSgwKTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWwyYXJycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1fb3JnTGV2ZWwyLmRlbChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWwyYXJycy5zcGxpY2UoMCk7XHJcbiAgICAgICAgdGhpcy50cmVlZGF0YS5zcGxpY2UoMCk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IE10UHJvdG9jYWxDb21tb24gZnJvbSBcIi4vTXRQcm90b2NhbENvbW1vblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXRIdHRwe1xyXG5cclxuICAgIHByaXZhdGUgbV9pcDpzdHJpbmc7XHJcbiAgICBwcml2YXRlIG1fcG9ydDpzdHJpbmc7XHJcbiAgICBwdWJsaWMgVVJMOiBzdHJpbmdcclxuXHJcbiAgICBwdWJsaWMgbV90b2tlbjpzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2h0dHA6TGF5YS5IdHRwUmVxdWVzdDsgXHJcbiAgICBwcml2YXRlIG1fcHJvdG9jYWxDb21tb24gOiBNdFByb3RvY2FsQ29tbW9uO1xyXG4gICAgcHJpdmF0ZSBtX2NhbGxiYWNrOmFueTtcclxuICAgIHByaXZhdGUgbV9jYWxsZXI6YW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlwOnN0cmluZyxwb3J0OnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5tX2lwID0gaXA7XHJcbiAgICAgICAgdGhpcy5tX3BvcnQgPSBwb3J0O1xyXG4gICAgICAgIHRoaXMuVVJMID0gXCJodHRwOi8vXCIrdGhpcy5tX2lwICsgXCI6XCIgKyB0aGlzLm1fcG9ydDtcclxuXHJcbiAgICAgICAgdGhpcy5tX2h0dHAgID0gbmV3IExheWEuSHR0cFJlcXVlc3Q7XHJcbiAgICAgICAgdGhpcy5tX3Byb3RvY2FsQ29tbW9uID0gbmV3IE10UHJvdG9jYWxDb21tb24oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldCh1cmw6c3RyaW5nLGNhbGxlcjphbnksY2FsbGJhY2s6YW55KXtcclxuICAgICAgICB0aGlzLm1fY2FsbGVyID0gY2FsbGVyO1xyXG4gICAgICAgIHRoaXMubV9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMubV9odHRwLm9uY2UoTGF5YS5FdmVudC5DT01QTEVURSx0aGlzLHRoaXMub25IdHRwUmVxdWVzdENvbXBsZXRlKTtcclxuICAgICAgICB0aGlzLm1faHR0cC5vbmNlKExheWEuRXZlbnQuRVJST1IsdGhpcyx0aGlzLm9uSHR0cFJlcXVlc3RFcnJvcik7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAuc2VuZCh1cmwsbnVsbCwnZ2V0JywndGV4dCcpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb3N0KHVybDpzdHJpbmcsZGF0YTphbnksY2FsbGVyOmFueSxjYWxsYmFjazphbnkpe1xyXG4gICAgICAgIHRoaXMubV9jYWxsZXIgPSBjYWxsZXI7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLCB0aGlzLCB0aGlzLm9uSHR0cFJlcXVlc3RDb21wbGV0ZSk7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAub25jZShMYXlhLkV2ZW50LkVSUk9SLCB0aGlzLCB0aGlzLm9uSHR0cFJlcXVlc3RFcnJvcik7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAuc2VuZCh1cmwsIGRhdGEsICdwb3N0JywgJ2pzb24nLHRoaXMubV9wcm90b2NhbENvbW1vbi5Db21tb25IZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25IdHRwUmVxdWVzdEVycm9yKGU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9jYWxsYmFjay5hcHBseSh0aGlzLm1fY2FsbGVyLFt7c3RhdGU6XCJmYWlsZWRcIixtc2c6ZX1dKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBvbkh0dHBSZXF1ZXN0Q29tcGxldGUoZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxiYWNrLmFwcGx5KHRoaXMubV9jYWxsZXIsW3tzdGF0ZTpcInN1Y2NlZWRcIixkYXRhOnRoaXMubV9odHRwLmRhdGF9XSk7XHJcbiAgICB9XHJcbiAgICBcclxufSIsIi8v5Y2P6K6uLS3or7fmsYLlpLTmlofku7ZcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvdG9jb2xDb21tb257XHJcblxyXG4gICAgcHVibGljIENvbW1vbkhlYWRlciA6QXJyYXk8YW55PjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd09yaWdpbiA9IFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd09yaWdpblZhbHVlID0gXCIqXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd0hlYWRlcnMgPSBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93SGVhZGVyc1ZhbHVlID0gXCJDb250ZW50LVR5cGUsQ29udGVudC1MZW5ndGgsIEF1dGhvcml6YXRpb24sIEFjY2VwdCxYLVJlcXVlc3RlZC1XaXRoXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd01ldGhvZHMgPSBcIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHNcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93TWV0aG9kc1ZhbHVlID0gXCJQT1NULCBHRVQsIE9QVElPTlMsREVMRVRFLFBVVFwiO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFhBdXRoVG9rZW5GaWVsZDpzdHJpbmcgPSBcIlgtQXV0aC1Ub2tlblwiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBYQXV0aFRva2VuRmllbGRWYWx1ZTpzdHJpbmcgPSBcIm9wZW4tc2VzYW1lXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2VwdEZpZWxkOnN0cmluZyA9IFwiQWNjZXB0XCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IENvbnRlbnRUeXBlRmllbGRWYWx1ZTpzdHJpbmcgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQ29udGVudFR5cGVGaWVsZDpzdHJpbmcgPSBcIkNvbnRlbnQtVHlwZVwiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUb2tlbkZpZWxkOnN0cmluZyA9IFwiY29va2llXCI7XHJcbiBcclxuICAgIHByaXZhdGUgY29va2llOnN0cmluZztcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlciA9IG5ldyBBcnJheTxhbnk+KClcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luLHRoaXMuQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5BY2Nlc3NDb250cm9sQWxsb3dIZWFkZXJzLHRoaXMuQWNjZXNzQ29udHJvbEFsbG93SGVhZGVyc1ZhbHVlKTtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuQWNjZXNzQ29udHJvbEFsbG93TWV0aG9kcyx0aGlzLkFjY2Vzc0NvbnRyb2xBbGxvd01ldGhvZHNWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5Db21tb25IZWFkZXIucHVzaCh0aGlzLlhBdXRoVG9rZW5GaWVsZCx0aGlzLlhBdXRoVG9rZW5GaWVsZFZhbHVlKTtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuQWNjZXB0RmllbGQsdGhpcy5Db250ZW50VHlwZUZpZWxkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5Db250ZW50VHlwZUZpZWxkLHRoaXMuQ29udGVudFR5cGVGaWVsZFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU2V0Q29va2llcyhjb29raWU6c3RyaW5nKXtcclxuICAgICAgICBjb29raWUgPSBjb29raWU7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IExvYWRlciA9IExheWEubG9hZGVyO1xyXG5pbXBvcnQgSGFuZGxlciA9IGxheWEudXRpbHMuSGFuZGxlcjtcclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi4vR2FtZVVJXCI7XHJcbmltcG9ydCBDb21tb24gZnJvbSBcIi4uL0NvbW1vbi9Db21tb25cIjtcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNNYW5hZ2Vye1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOlJlc01hbmFnZXI7ICBcclxuXHJcbiAgICBzdGF0aWMgSW5zdGFuY2UoKTpSZXNNYW5hZ2Vye1xyXG4gICAgICAgIGlmKFJlc01hbmFnZXIuX2luc3RhbmNlID09IG51bGwpe1xyXG4gICAgICAgICAgICBSZXNNYW5hZ2VyLl9pbnN0YW5jZSA9IG5ldyBSZXNNYW5hZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZXNNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUmVzTmFtZXMgOiBBcnJheTxhbnk+O1xyXG4gICAgcHVibGljIFJlc0VuaXRpdHlEaWMgOiBMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLlJlc05hbWVzID0gbmV3IEFycmF5PGFueT4oKTtcclxuICAgICAgICB0aGlzLlJlc0VuaXRpdHlEaWMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDovb3lpJrkuKrotYTmupBcclxuICAgIHB1YmxpYyBMb2FkUHJlZmFiQXNzZXRzKHJlc05hbWVzOkFycmF5PGFueT4sZmluaXNoZWQ/OkhhbmRsZXIpe1xyXG4gICAgICAgIGlmKHJlc05hbWVzID09bnVsbCB8fHJlc05hbWVzLmxlbmd0aCA9PSAwKXJldHVybiA7XHJcblxyXG4gICAgICAgIHRoaXMuUmVzTmFtZXMgPSByZXNOYW1lcztcclxuXHJcbiAgICAgICAgTGF5YS5sb2FkZXIuY3JlYXRlKHJlc05hbWVzLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlc05hbWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXM6TGF5YS5TcHJpdGUzRCA9IExheWEubG9hZGVyLmdldFJlcyhlbGVtZW50LnVybCkgYXMgTGF5YS5TcHJpdGUzRDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuUmVzRW5pdGl0eURpYy5oYXMoZWxlbWVudC51cmwpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SZXNFbml0aXR5RGljLnNldChlbGVtZW50LnVybCxyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZpbmlzaGVkIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtczpBcnJheTxhbnk+ID0gW2VsZW1lbnQudXJsLHJlc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkLnJ1bldpdGgocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICBIYW5kbGVyLmNyZWF0ZSh0aGlzLChwKT0+e1xyXG4gICAgICAgICAgICAgICB0aGlzLlNldExvYWRQZXJjZW50KHApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7IFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRPbmVBc3NldCh1cmw6c3RyaW5nKTpMYXlhLlNwcml0ZTNEe1xyXG4gICAgICAgIGlmKHVybCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgaWYodGhpcy5SZXNFbml0aXR5RGljLmhhcyh1cmwpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVzRW5pdGl0eURpYy5nZXQodXJsKSBhcyBMYXlhLlNwcml0ZTNEO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFJlbGVhc2VPbmVBc3NldCh1cmw6c3RyaW5nKXtcclxuICAgICAgICBpZih1cmwgPT0gbnVsbCkgcmV0dXJuIDtcclxuICAgICAgICB2YXIgcmVzID0gdGhpcy5HZXRPbmVBc3NldCh1cmwpIGFzIExheWEuU3ByaXRlM0Q7XHJcblxyXG4gICAgICAgIGlmKHJlcyAhPSBudWxsKXtcclxuICAgICAgICAgICAgLy/lvoXmtYvor5XvvIzmmK/lkKbph4rmlL7kuoblhoXlrZhcclxuICAgICAgICAgICAgcmVzLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLy/lvoXmtYvor5VcclxuICAgIFJlbGVhc2VBbGxBc3NldHMoKXtcclxuICAgICAgICBpZih0aGlzLlJlc0VuaXRpdHlEaWMhPW51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLlJlc05hbWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLlJlc0VuaXRpdHlEaWMuaGFzKGVsZW1lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlc0VuaXRpdHlEaWMuZ2V0KGVsZW1lbnQpLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFNldExvYWRQZXJjZW50KHA6bnVtYmVyKXtcclxuICAgICAgICBHYW1lVUkuX2luc3RhbmNlLlNldExvYWRQZXJjZW50KHApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFVJVHJlZUl0ZW0sIHsgVHJlZUl0ZW1EYXRhLCBDaGVja1N0YXR1cywgVHJlZUl0ZW1TdHlsZSB9IGZyb20gXCIuL1VJVHJlZUl0ZW1cIjtcclxuaW1wb3J0IEhhbmRsZXIgPSBMYXlhLkhhbmRsZXI7XHJcbmltcG9ydCBWZWN0b3IyID0gTGF5YS5WZWN0b3IyO1xyXG5cclxuLyoqXHJcbiAqIOWIm+W7uueugOaYk+agkVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlUcmVle1xyXG5cclxuICAgIHByaXZhdGUgbV90cmVlOkxheWEuVkJveDtcclxuXHJcbiAgICBwcml2YXRlIG1fSXRlbUNvZGVzOkFycmF5PHN0cmluZz47XHJcbiAgICBwcml2YXRlIG1fdHJlZUl0ZW1zRGljOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBwcml2YXRlIG1fdmFsdWVDaGFuZ2VkSXRlbTpBcnJheTxVSVRyZWVJdGVtPjtcclxuICAgIHB1YmxpYyBPblZhbHVlQ2hhbmdlZDpGdW5jdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubV9JdGVtQ29kZXMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG4gICAgICAgIHRoaXMubV90cmVlSXRlbXNEaWMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5tX3ZhbHVlQ2hhbmdlZEl0ZW0gPSBuZXcgQXJyYXk8VUlUcmVlSXRlbT4oKTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0VHJlZShpdGVtczpBcnJheTxUcmVlSXRlbURhdGE+LHN0eWxlPzpUcmVlSXRlbVN0eWxlLHRyZWVQb3M/OkxheWEuVmVjdG9yMix0cmVlQmdDb2xvcj86c3RyaW5nLHVpdHJlZUF0bGFzPzpzdHJpbmcpe1xyXG4gICAgICAgIGlmKGl0ZW1zID09IG51bGx8fGl0ZW1zLmxlbmd0aCA9PSAwKXJldHVybiA7XHJcblxyXG4gICAgICAgIGxldCBkZWZhdWx0UGF0aCA9IFwicmVzL2F0bGFzL3RyZWUuYXRsYXNcIjtcclxuICAgICAgICBsZXQgX3VpdHJlZUF0bGFzID0gdWl0cmVlQXRsYXMgPT0gbnVsbD9kZWZhdWx0UGF0aDp1aXRyZWVBdGxhcztcclxuXHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChfdWl0cmVlQXRsYXMsSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG5cclxuICAgICAgICAgICAgdGhpcy5DbGVhclRyZWVJdGVtRGljKCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLm1fdHJlZSA9PW51bGwpe1xyXG4gICAgICAgICAgICAgICAgLy9UZW1w77yM55SoVkJveOWItuS9nOS4gOS4qlRyZWVcclxuICAgICAgICAgICAgICAgIHRoaXMubV90cmVlID0gbmV3IExheWEuVkJveCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX3RyZWUueCA9IHRyZWVQb3M9PW51bGw/MDp0cmVlUG9zLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fdHJlZS55ID0gdHJlZVBvcz09bnVsbD8wOnRyZWVQb3MueTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV90cmVlLmJnQ29sb3IgPSB0cmVlQmdDb2xvciA9PSBudWxsP1wiI2ZmZmZmZlwiOnRyZWVCZ0NvbG9yO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLm1fdHJlZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRyZWVCZ0NvbG9yICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgaWYoc3R5bGUgPT0gbnVsbCkgXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBuZXcgVHJlZUl0ZW1TdHlsZSgpOyAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHN0eWxlLkl0ZW1Db2xvciA9IHRyZWVCZ0NvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiBcclxuICAgICAgICAgICAgaXRlbXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQWRkSXRlbShlbGVtZW50LHN0eWxlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLlJlZnJlc2hJdGVtUG9zaXRpb24oKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgQWRkSXRlbShpdGVtOlRyZWVJdGVtRGF0YSxzdHlsZT86VHJlZUl0ZW1TdHlsZSl7XHJcbiAgICAgICAgaWYoaXRlbSA9PSBudWxsKSByZXR1cm4gO1xyXG4gICAgICAgIGxldCB0cmVlSXRlbTpVSVRyZWVJdGVtID0gbmV3IFVJVHJlZUl0ZW0oKTtcclxuICAgICAgICB0cmVlSXRlbS5Jbml0VHJlZUl0ZW0oaXRlbSxzdHlsZSk7XHJcbiAgICAgICAgdHJlZUl0ZW0uT25BcnJvd0NsaWNrID0oKGl0ZW0sYik9Pnt0aGlzLk9uQXJyb3dDbGlja2VkKGl0ZW0sYik7fSk7XHJcbiAgICAgICAgdHJlZUl0ZW0uT25DaGVja0JveENsaWNrID0oKGl0ZW0sYik9Pnt0aGlzLk9uQ2hlY2tCb3hDbGlja2VkKGl0ZW0sYik7fSk7XHJcblxyXG4gICAgICAgIHRoaXMubV9JdGVtQ29kZXMucHVzaChpdGVtLmNvZGUpO1xyXG4gICAgICAgIGlmKCF0aGlzLm1fdHJlZUl0ZW1zRGljLmhhcyhpdGVtLmNvZGUpKSBcclxuICAgICAgICAgICAgdGhpcy5tX3RyZWVJdGVtc0RpYy5zZXQoaXRlbS5jb2RlLHRyZWVJdGVtKTtcclxuXHJcbiAgICAgICAgdGhpcy5tX3RyZWUuYWRkQ2hpbGQodHJlZUl0ZW0uVHJlZUl0ZW0pO1xyXG5cclxuICAgICAgICBpZighaXRlbS5pc0xlYWYpe1xyXG4gICAgICAgICAgICBpdGVtLmNoaWxkcmVuLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkFkZEl0ZW0oZWxlbWVudCxzdHlsZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgT25BcnJvd0NsaWNrZWQoaXRlbTpVSVRyZWVJdGVtLCBiOmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKGl0ZW0gPT0gbnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdGhpcy5SZWZyZXNoQXJyb3dTdGF0dXMoaXRlbS5JdGVtRGF0YS5jb2RlLGIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuUmVmcmVzaEl0ZW1Qb3NpdGlvbigpO1xyXG4gICAgfVxyXG4gXHJcblxyXG4gICAgcHJpdmF0ZSBPbkNoZWNrQm94Q2xpY2tlZChpdGVtOlVJVHJlZUl0ZW0sYjpib29sZWFuKXtcclxuICAgICAgICBpZihpdGVtID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHRoaXMubV92YWx1ZUNoYW5nZWRJdGVtLnNwbGljZSgwKTtcclxuXHJcbiAgICAgICAgaWYoIWl0ZW0uSXRlbURhdGEuaXNMZWFmKVxyXG4gICAgICAgICAgICB0aGlzLlJlZnJlc2hDaGVja1N0YXR1c0J5UGFyZW50KGl0ZW0uSXRlbURhdGEsYik7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLm1fdmFsdWVDaGFuZ2VkSXRlbS5wdXNoKGl0ZW0pO1xyXG5cclxuICAgICAgICB0aGlzLlJlZnJlc2hDaGVja1N0YXR1c0J5Q2hpbGRyZW4oaXRlbS5JdGVtRGF0YSk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuT25WYWx1ZUNoYW5nZWQpIHRoaXMuT25WYWx1ZUNoYW5nZWQodGhpcy5tX3ZhbHVlQ2hhbmdlZEl0ZW0sYik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBSZWZyZXNoQ2hlY2tTdGF0dXNCeVBhcmVudChkYXRhOlRyZWVJdGVtRGF0YSxiOmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKGRhdGEgPT0gbnVsbCB8fCAhdGhpcy5tX3RyZWVJdGVtc0RpYy5oYXMoZGF0YS5jb2RlKSkgcmV0dXJuIDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdHJlZUl0ZW0gPSB0aGlzLm1fdHJlZUl0ZW1zRGljLmdldChkYXRhLmNvZGUpIGFzIFVJVHJlZUl0ZW07XHJcblxyXG4gICAgICAgIGlmKHRyZWVJdGVtLkl0ZW1EYXRhLmNoaWxkcmVuICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0cmVlSXRlbS5JdGVtRGF0YS5jaGlsZHJlbi5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tX3RyZWVJdGVtc0RpYy5oYXMoZWxlbWVudC5jb2RlKSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZDpVSVRyZWVJdGVtID0gdGhpcy5tX3RyZWVJdGVtc0RpYy5nZXQoZWxlbWVudC5jb2RlKTtcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLlNldENoZWNrYm94U3RhdHVzKGI/Q2hlY2tTdGF0dXMuY2hlY2s6Q2hlY2tTdGF0dXMudW5jaGVjayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNoaWxkLkl0ZW1EYXRhLmlzTGVhZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX3ZhbHVlQ2hhbmdlZEl0ZW0ucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5SZWZyZXNoQ2hlY2tTdGF0dXNCeVBhcmVudChjaGlsZC5JdGVtRGF0YSxiKTtcclxuICAgICAgICAgICAgICAgIH0gIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBSZWZyZXNoQ2hlY2tTdGF0dXNCeUNoaWxkcmVuKGRhdGE6VHJlZUl0ZW1EYXRhKXtcclxuICAgICAgICBpZihkYXRhLmxldmVsID09IDEpIHJldHVybiA7XHJcblxyXG4gICAgICAgIGxldCBjaGVjayA9IDA7XHJcbiAgICAgICAgbGV0IHBhcnRseSA9IDA7XHJcbiAgICAgICAgbGV0IHBhcmVudDpVSVRyZWVJdGVtID0gdGhpcy5tX3RyZWVJdGVtc0RpYy5oYXMoZGF0YS5wYXJlbnRDb2RlKT90aGlzLm1fdHJlZUl0ZW1zRGljLmdldChkYXRhLnBhcmVudENvZGUpOm51bGw7XHJcbiAgICAgICAgaWYocGFyZW50KXtcclxuICAgICAgICAgICAgcGFyZW50Lkl0ZW1EYXRhLmNoaWxkcmVuLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgIHN3aXRjaChlbGVtZW50LnN0YXR1cyl7XHJcbiAgICAgICAgICAgICAgICAgICBjYXNlIENoZWNrU3RhdHVzLmNoZWNrOmNoZWNrKys7YnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICBjYXNlIENoZWNrU3RhdHVzLnBhcnRseTpwYXJ0bHkrKzticmVhaztcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKHBhcnRseT4wKXtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5TZXRDaGVja2JveFN0YXR1cyhDaGVja1N0YXR1cy5wYXJ0bHkpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGlmKGNoZWNrID09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5TZXRDaGVja2JveFN0YXR1cyhDaGVja1N0YXR1cy51bmNoZWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZnJlc2hDaGVja1N0YXR1c0J5Q2hpbGRyZW4ocGFyZW50Lkl0ZW1EYXRhKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGNoZWNrID09IHBhcmVudC5JdGVtRGF0YS5jaGlsZHJlbi5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5TZXRDaGVja2JveFN0YXR1cyhDaGVja1N0YXR1cy5jaGVjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5SZWZyZXNoQ2hlY2tTdGF0dXNCeUNoaWxkcmVuKHBhcmVudC5JdGVtRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuU2V0Q2hlY2tib3hTdGF0dXMoQ2hlY2tTdGF0dXMucGFydGx5KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgUmVmcmVzaEFycm93U3RhdHVzKGNvZGU6c3RyaW5nLGI6Ym9vbGVhbil7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsIHx8ICF0aGlzLm1fdHJlZUl0ZW1zRGljLmhhcyhjb2RlKSkgcmV0dXJuIDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdHJlZUl0ZW0gPSB0aGlzLm1fdHJlZUl0ZW1zRGljLmdldChjb2RlKSBhcyBVSVRyZWVJdGVtO1xyXG4gICAgICAgIHRyZWVJdGVtLkl0ZW1EYXRhLmNoaWxkcmVuLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubV90cmVlSXRlbXNEaWMuaGFzKGVsZW1lbnQuY29kZSkpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkOlVJVHJlZUl0ZW0gPSB0aGlzLm1fdHJlZUl0ZW1zRGljLmdldChlbGVtZW50LmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuVHJlZUl0ZW0udmlzaWJsZSA9IGI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIWIgJiYgIWNoaWxkLkl0ZW1EYXRhLmlzTGVhZil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5SZWZyZXNoQXJyb3dTdGF0dXMoY2hpbGQuSXRlbURhdGEuY29kZSxiKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5TZXRBcnJvd1N0YXR1cyhiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBSZWZyZXNoSXRlbVBvc2l0aW9uKCl7XHJcbiAgICAgICAgbGV0IHRyZWVsaXN0ID0gbmV3IEFycmF5PFVJVHJlZUl0ZW0+KCk7XHJcbiAgICAgICAgdHJlZWxpc3Quc3BsaWNlKDApO1xyXG4gICAgICAgIHRoaXMubV9JdGVtQ29kZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLm1fdHJlZUl0ZW1zRGljLmdldChlbGVtZW50KSBhcyBVSVRyZWVJdGVtO1xyXG4gICAgICAgICAgICBpZihpdGVtLlRyZWVJdGVtLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgdHJlZWxpc3QucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwO2k8dHJlZWxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIHRyZWVsaXN0W2ldLlRyZWVJdGVtLnkgPSBpICogNTA7XHJcbiAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMubV90cmVlLmhlaWdodCA9IHRyZWVsaXN0Lmxlbmd0aCAqIDUwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ2xlYXJUcmVlSXRlbURpYygpe1xyXG4gICAgICAgIHRoaXMubV9JdGVtQ29kZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5tX3RyZWVJdGVtc0RpYy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW06VUlUcmVlSXRlbSA9IHRoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5UcmVlSXRlbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fdHJlZUl0ZW1zRGljLmRlbChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1fSXRlbUNvZGVzLnNwbGljZSgwKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBUcmVlSXRlbURhdGF7XHJcbiAgICBwdWJsaWMgY29kZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbmFtZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWw6bnVtYmVyO1xyXG4gICAgcHVibGljIGlzTGVhZjpib29sZWFuO1xyXG4gICAgcHVibGljIHBhcmVudENvZGU6c3RyaW5nO1xyXG4gICAgcHVibGljIGNoaWxkcmVuOkFycmF5PFRyZWVJdGVtRGF0YT47XHJcblxyXG4gICAgcHVibGljIGFycm93U3RhdHVzOmJvb2xlYW47XHJcbiAgICBwdWJsaWMgc3RhdHVzOkNoZWNrU3RhdHVzO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBUcmVlSXRlbVN0eWxle1xyXG4gICAgcHVibGljIEl0ZW1XaWR0aDpudW1iZXI7XHJcbiAgICBwdWJsaWMgSXRlbUhlaWd0aDpudW1iZXI7XHJcbiAgICBwdWJsaWMgSXRlbUludGVudExldmVsOm51bWJlcjtcclxuICAgIHB1YmxpYyBJdGVtSW5uZXJTcGFjZTpudW1iZXI7XHJcbiAgICBwdWJsaWMgSXRlbUNvbG9yOnN0cmluZztcclxuICAgIHB1YmxpYyBMYWJlbENvbG9yOnN0cmluZztcclxuICAgIHB1YmxpYyBMYWJlbEZvbnRzaXplOm51bWJlcjtcclxuICAgIHB1YmxpYyBMYWJlbEFsaWduOnN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGVudW0gVHJlZVN0eWxle1xyXG4gICAgTm9ybWFsLFxyXG4gICAgTGVnZW5kXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIENoZWNrU3RhdHVze1xyXG4gICAgY2hlY2ssXHJcbiAgICBwYXJ0bHksXHJcbiAgICB1bmNoZWNrLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVRyZWVJdGVte1xyXG5cclxuICAgIHB1YmxpYyBUcmVlSXRlbTpMYXlhLkhCb3g7XHJcbiAgICBwdWJsaWMgSXRlbURhdGE6VHJlZUl0ZW1EYXRhOyAgICBcclxuXHJcbiAgICBwdWJsaWMgT25BcnJvd0NsaWNrOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uQ2hlY2tCb3hDbGljazpGdW5jdGlvbjtcclxuICAgIHB1YmxpYyBPblRyZWVJdGVtQ2xpY2s6RnVuY3Rpb247XHJcblxyXG4gICAgcHJpdmF0ZSBBcnJvdzpMYXlhLkNsaXA7XHJcbiAgICBwcml2YXRlIENoZWNrQm94OkxheWEuQ2xpcDtcclxuICAgIHByaXZhdGUgTGFiZWw6TGF5YS5MYWJlbDtcclxuXHJcbiAgICBwcml2YXRlIG1fdHJlZUl0ZW1XaWR0aCA9IDMwMDtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbUhlaWdodCA9IDUwO1xyXG4gICAgcHJpdmF0ZSBtX3RyZWVJdGVtSW50ZW50TGV2ZWwgPSAzMDtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbUlubmVyU3BhY2UgPSAxMDtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbUJnQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuXHJcbiAgICBwcml2YXRlIG1fbGFiZWxDb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gICAgcHJpdmF0ZSBtX2ZvbnRzaXplID0gMzA7XHJcbiAgICBwcml2YXRlIG1fYWxpZ24gPSBcImxlZnRcIjtcclxuICAgXHJcbiAgICAvKiogKioqKioqKioqKioqKioqKioqKlB1YmxpYyBNZXRob2RzKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHB1YmxpYyBJbml0VHJlZUl0ZW0oZGF0YTpUcmVlSXRlbURhdGEsaXRlbVN0eWxlPzpUcmVlSXRlbVN0eWxlKXtcclxuICAgICAgICBpZihkYXRhID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5JdGVtRGF0YSA9IGRhdGEgYXMgVHJlZUl0ZW1EYXRhO1xyXG5cclxuICAgICAgICB0aGlzLlNldFRyZWVJdGVtU3R5bGUoaXRlbVN0eWxlKTtcclxuXHJcbiAgICAgICAgdGhpcy5DcmVhdGVBcnJvdygpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlQ2hlY2tCb3goKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUxhYmVsKCk7XHJcbiAgICAgICAgdGhpcy5DcmVhdGVIQm94KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldFRyZWVJdGVtU3R5bGUoc3R5bGU/OlRyZWVJdGVtU3R5bGUpe1xyXG4gICAgICAgIGlmKHN0eWxlID09IG51bGwpIHJldHVybjtcclxuICAgICAgICB0aGlzLm1fdHJlZUl0ZW1XaWR0aCA9IHN0eWxlLkl0ZW1XaWR0aCA9PSBudWxsP3RoaXMubV90cmVlSXRlbVdpZHRoOnN0eWxlLkl0ZW1XaWR0aDtcclxuICAgICAgICB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQgPSBzdHlsZS5JdGVtSGVpZ3RoID09IG51bGw/dGhpcy5tX3RyZWVJdGVtSGVpZ2h0OnN0eWxlLkl0ZW1IZWlndGg7XHJcbiAgICAgICAgdGhpcy5tX3RyZWVJdGVtSW50ZW50TGV2ZWwgPSBzdHlsZS5JdGVtSW50ZW50TGV2ZWwgPT0gbnVsbD90aGlzLm1fdHJlZUl0ZW1JbnRlbnRMZXZlbDpzdHlsZS5JdGVtSW50ZW50TGV2ZWw7XHJcbiAgICAgICAgdGhpcy5tX3RyZWVJdGVtSW5uZXJTcGFjZSA9IHN0eWxlLkl0ZW1Jbm5lclNwYWNlID09IG51bGw/dGhpcy5tX3RyZWVJdGVtSW5uZXJTcGFjZTpzdHlsZS5JdGVtSW5uZXJTcGFjZTtcclxuICAgICAgICB0aGlzLm1fdHJlZUl0ZW1CZ0NvbG9yID0gc3R5bGUuSXRlbUNvbG9yID09IG51bGw/dGhpcy5tX3RyZWVJdGVtQmdDb2xvcjpzdHlsZS5JdGVtQ29sb3I7IFxyXG4gICAgICAgIHRoaXMubV9sYWJlbENvbG9yID0gc3R5bGUuTGFiZWxDb2xvciA9PSBudWxsP3RoaXMubV9sYWJlbENvbG9yOnN0eWxlLkxhYmVsQ29sb3I7XHJcbiAgICAgICAgdGhpcy5tX2ZvbnRzaXplID0gc3R5bGUuTGFiZWxGb250c2l6ZSA9PSBudWxsP3RoaXMubV9mb250c2l6ZTogc3R5bGUuTGFiZWxGb250c2l6ZTtcclxuICAgICAgICB0aGlzLm1fYWxpZ24gPSBzdHlsZS5MYWJlbEFsaWduID09IG51bGw/dGhpcy5tX2FsaWduOnN0eWxlLkxhYmVsQWxpZ247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldEFycm93U3RhdHVzKGI6Ym9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5JdGVtRGF0YS5hcnJvd1N0YXR1cyA9IGI7XHJcbiAgICAgICAgaWYodGhpcy5JdGVtRGF0YS5hcnJvd1N0YXR1cykge1xyXG4gICAgICAgICAgICB0aGlzLkFycm93LmluZGV4ID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkFycm93LmluZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldENoZWNrYm94U3RhdHVzKHN0YXR1czpDaGVja1N0YXR1cyl7XHJcbiAgICAgICAgc3dpdGNoKHN0YXR1cyl7XHJcbiAgICAgICAgICAgIGNhc2UgQ2hlY2tTdGF0dXMuY2hlY2sgOiBcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tCb3guaW5kZXggPSAyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5JdGVtRGF0YS5zdGF0dXMgPSBDaGVja1N0YXR1cy5jaGVjaztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENoZWNrU3RhdHVzLnBhcnRseSA6IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5DaGVja0JveC5pbmRleCA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkl0ZW1EYXRhLnN0YXR1cyA9IENoZWNrU3RhdHVzLnBhcnRseTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENoZWNrU3RhdHVzLnVuY2hlY2sgOiBcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tCb3guaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5JdGVtRGF0YS5zdGF0dXMgPSBDaGVja1N0YXR1cy51bmNoZWNrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgU2V0Q29udGVudChjb250ZW50OnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5MYWJlbC50ZXh0ID0gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKlRyZWVJdGVtKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICBwcml2YXRlIENyZWF0ZUhCb3goaW50ZW50TGV2ZWw/Om51bWJlcil7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbSA9IG5ldyBMYXlhLkhCb3goKTtcclxuICAgICAgICB0aGlzLlRyZWVJdGVtLm5hbWUgPSBcInRyZWVJdGVtXCI7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS5zcGFjZSA9IHRoaXMubV90cmVlSXRlbUlubmVyU3BhY2U7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS53aWR0aCA9IHRoaXMubV90cmVlSXRlbVdpZHRoXHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS5oZWlnaHQgPSAgdGhpcy5tX3RyZWVJdGVtSGVpZ2h0XHJcbiAgICAgICAgaWYodGhpcy5tX3RyZWVJdGVtQmdDb2xvci5sZW5ndGg+Nyl7XHJcbiAgICAgICAgICAgIHRoaXMubV90cmVlSXRlbUJnQ29sb3IgPSB0aGlzLm1fdHJlZUl0ZW1CZ0NvbG9yLnN1YnN0cigwLDcpICsgXCIwMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLlRyZWVJdGVtLmJnQ29sb3IgPSB0aGlzLm1fdHJlZUl0ZW1CZ0NvbG9yO1xyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0ueCA9IHRoaXMubV90cmVlSXRlbUludGVudExldmVsICogKHRoaXMuSXRlbURhdGEubGV2ZWwgLSAxKTtcclxuXHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS5hZGRDaGlsZCh0aGlzLkFycm93KTtcclxuICAgICAgICB0aGlzLlRyZWVJdGVtLmFkZENoaWxkKHRoaXMuQ2hlY2tCb3gpO1xyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0uYWRkQ2hpbGQodGhpcy5MYWJlbCk7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5UcmVlSXRlbSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKiAqKioqKioqKioqKioqKioqKioqKioqKmFycm93KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHByaXZhdGUgQ3JlYXRlQXJyb3coKXtcclxuICAgICAgICBsZXQgYXJyb3dSZXMgPSBcInRyZWUvYXJyb3cucG5nXCI7XHJcbiAgICAgICAgdGhpcy5BcnJvdyA9IG5ldyBMYXlhLkNsaXAoYXJyb3dSZXMsMSwyKTtcclxuICAgICAgICB0aGlzLkFycm93LndpZHRoID0gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0IC0gMjA7XHJcbiAgICAgICAgdGhpcy5BcnJvdy5oZWlnaHQgPSB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQgLSAyMDtcclxuICAgICAgICB0aGlzLkFycm93LnkgPSAxMDtcclxuICAgICAgICB0aGlzLkFycm93LmNsaXBZID0gMjtcclxuICAgICAgICB0aGlzLkFycm93Lm5hbWUgPSBcImFycm93XCI7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuSXRlbURhdGEuaXNMZWFmKSB0aGlzLkFycm93LnZpc2libGUgPSBmYWxzZTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5TZXRBcnJvd1N0YXR1cyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5BcnJvdy5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGUpPT57XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSXRlbURhdGEuYXJyb3dTdGF0dXMgPSAhdGhpcy5JdGVtRGF0YS5hcnJvd1N0YXR1cztcclxuICAgICAgICAgICAgdGhpcy5TZXRBcnJvd1N0YXR1cyh0aGlzLkl0ZW1EYXRhLmFycm93U3RhdHVzKTtcclxuICAgICAgICAgICAgaWYodGhpcy5PbkFycm93Q2xpY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uQXJyb3dDbGljayh0aGlzLHRoaXMuSXRlbURhdGEuYXJyb3dTdGF0dXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5BcnJvdyk7ICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKkNoZWNrQm94KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgcHJpdmF0ZSBDcmVhdGVDaGVja0JveCgpe1xyXG4gICAgICAgIHRoaXMuQ2hlY2tCb3ggPSBuZXcgTGF5YS5DbGlwKFwidHJlZS9jaGVja2JveC5wbmdcIiwxLDIpO1xyXG4gICAgICAgIHRoaXMuQ2hlY2tCb3gud2lkdGggPSB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQgLSAyMDtcclxuICAgICAgICB0aGlzLkNoZWNrQm94LmhlaWdodCA9IHRoaXMubV90cmVlSXRlbUhlaWdodCAtIDIwO1xyXG4gICAgICAgIHRoaXMuQ2hlY2tCb3gueSA9IDEwXHJcbiAgICAgICAgdGhpcy5DaGVja0JveC5jbGlwWSA9IDM7XHJcbiAgICAgICAgdGhpcy5DaGVja0JveC5uYW1lID0gXCJjaGVja2JveFwiO1xyXG5cclxuICAgICAgICB0aGlzLlNldENoZWNrYm94U3RhdHVzKENoZWNrU3RhdHVzLmNoZWNrKTsgLy/pu5jorqTlhajpgIlcclxuXHJcbiAgICAgICAgdGhpcy5DaGVja0JveC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGUpPT57XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IFxyXG5cclxuICAgICAgICAgICAgbGV0IGI6Ym9vbGVhbiA9IHRoaXMuSXRlbURhdGEuc3RhdHVzID09IENoZWNrU3RhdHVzLnVuY2hlY2sgPyBmYWxzZTp0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLlNldENoZWNrYm94U3RhdHVzKCFiP0NoZWNrU3RhdHVzLmNoZWNrOkNoZWNrU3RhdHVzLnVuY2hlY2spXHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLk9uQ2hlY2tCb3hDbGljaylcclxuICAgICAgICAgICAgICAgIHRoaXMuT25DaGVja0JveENsaWNrKHRoaXMsIWIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5DaGVja0JveCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKipMYWJlbCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgcHJpdmF0ZSBDcmVhdGVMYWJlbCgpe1xyXG4gICAgICAgIHRoaXMuTGFiZWwgPSBuZXcgTGF5YS5MYWJlbCgpO1xyXG4gICAgICAgIHRoaXMuTGFiZWwubmFtZSA9IFwibGFiZWxcIlxyXG4gICAgICAgIHRoaXMuTGFiZWwuaGVpZ2h0ID0gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuTGFiZWwuYWxpZ24gPSB0aGlzLm1fYWxpZ247XHJcbiAgICAgICAgdGhpcy5MYWJlbC52YWxpZ24gPSBcIm1pZGRsZVwiO1xyXG4gICAgICAgIHRoaXMuTGFiZWwuZm9udFNpemUgPSB0aGlzLm1fZm9udHNpemU7XHJcbiAgICAgICAgdGhpcy5MYWJlbC5jb2xvciA9IHRoaXMubV9sYWJlbENvbG9yO1xyXG5cclxuICAgICAgICB0aGlzLlNldENvbnRlbnQodGhpcy5JdGVtRGF0YS5uYW1lKTtcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLkxhYmVsKTtcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aS5NYWluU2NlbmUge1xyXG4gICAgZXhwb3J0IGNsYXNzIE1haW5TY2VuZVVJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIERlcEJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgVXNhZ2VCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIEFyZWFCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIE11bHRpQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBfMkQzREJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgQWxsQnRuOkxheWEuQnV0dG9uO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJTY2VuZVwiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjYwMCxcImhlaWdodFwiOjkwMH0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjoyNzEsXCJ4XCI6MjMsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJEZXBCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxTaXplXCI6MzAsXCJsYWJlbFwiOlwi56eR5a6kXCIsXCJoZWlnaHRcIjo2MH0sXCJjb21wSWRcIjo3fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjM1NSxcInhcIjoyMyxcIndpZHRoXCI6ODAsXCJ2YXJcIjpcIlVzYWdlQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIueUqOmAlFwiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6OH0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo0MzcsXCJ4XCI6MjMsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJBcmVhQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIumdouenr1wiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6OX0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo2MDAsXCJ4XCI6NDc2LFwid2lkdGhcIjo4MCxcInZhclwiOlwiTXVsdGlCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxTaXplXCI6MzAsXCJsYWJlbFwiOlwi5oqY5Y+gXCIsXCJoZWlnaHRcIjo2MH0sXCJjb21wSWRcIjoxM30se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo2ODAsXCJ4XCI6MjMsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJfMkQzREJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFNpemVcIjozMCxcImxhYmVsXCI6XCIyRFwiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6MTR9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NjgwLFwieFwiOjQ3NixcIndpZHRoXCI6ODAsXCJ2YXJcIjpcIkFsbEJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFNpemVcIjozMCxcImxhYmVsXCI6XCLlhajpg6hcIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjI2fV0sXCJsb2FkTGlzdFwiOltcImNvbXAvYnV0dG9uLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoTWFpblNjZW5lVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5NYWluU2NlbmUuTWFpblNjZW5lVUlcIixNYWluU2NlbmVVSSk7XHJcbn1cclxuZXhwb3J0IG1vZHVsZSB1aS5wb3J0YWwge1xyXG4gICAgZXhwb3J0IGNsYXNzIExvYWRpbmdVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBCYWNrZ3JvdW5kOkxheWEuSW1hZ2U7XG5cdFx0cHVibGljIFRpdGxlOkxheWEuTGFiZWw7XG5cdFx0cHVibGljIExvZ2luQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBQcm9ncmVzc0JhcjpMYXlhLlByb2dyZXNzQmFyO1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwicG9ydGFsL0xvYWRpbmdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkucG9ydGFsLkxvYWRpbmdVSVwiLExvYWRpbmdVSSk7XHJcbn1cciJdfQ==
