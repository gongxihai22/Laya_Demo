var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtGameConfig_1 = require("./MtGameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(MtGameConfig_1.default.width, MtGameConfig_1.default.height);
        else
            Laya.init(MtGameConfig_1.default.width, MtGameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = MtGameConfig_1.default.scaleMode;
        Laya.stage.screenMode = MtGameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = MtGameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (MtGameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (MtGameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (MtGameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        MtGameConfig_1.default.startScene && Laya.Scene.open(MtGameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./MtGameConfig":2}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "portal/Loading.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":18}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ResManager_1 = require("../Resource/ResManager");
var GameManager_1 = require("../GameManager");
var LabelUpdate_1 = require("../Component/LabelUpdate");
var Common_1 = require("../Common/Common");
var NameConfig_1 = require("../Configure/NameConfig");
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
/**
 * BIM管理类，用于加载、初始化模型；模型打包格式为.lh文件，以层为单位
 *
 */
var BIMManager = /** @class */ (function () {
    function BIMManager() {
        this.m_3dlabelDisappearDistance = 80;
        this.m_3dlabelTotalDisappearDistance = 180;
        this.m_2dlabelDisappearDistance = 100;
        this.m_2dlabelTotalDisappearDistance = 180;
        /**
         * ************************************************暂时先将设置颜色的方法放到BIM内********************************
         */
        /**
        * 记录设置颜色后的材质球；
        */
        this.MaterialsDic = new Laya.WeakObject();
        this.m_spaceDic = new Laya.WeakObject();
        this.m_levelSpsceDic = new Laya.WeakObject();
        this.m_levelRes = new Laya.WeakObject();
        this.Levels = new Array();
        this.AddEvents();
    }
    BIMManager.prototype.AddEvents = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnCameraDistanceChanged.toString(), this, this.ShowHideTagsByDistance);
    };
    /**
     * 加载所有楼层资源，并初始化楼板，默认隐藏，GameManager中开启默认层
     * 回调函数若需要执行多次，则需要将once置为false
     * @param resUrl
     * @param onComplete
     */
    BIMManager.prototype.LoadRes = function (resUrl, onComplete) {
        var _this = this;
        if (resUrl == null || resUrl.length == 0)
            return;
        var index = 0;
        ResManager_1.default.Instance().LoadPrefabAssets(resUrl, Laya.Handler.create(this, function (url, res) {
            //初始化3D场景，初始化一次
            GameManager_1.default.Instance().Init3DScene();
            //将资源加入场景
            GameManager_1.default.Instance().MainScene.addChild(res);
            //遍历所有资源
            _this.TravelMeshSprite3D(res);
            //资源默认隐藏
            res.active = false;
            //获得所有楼层
            var level = Common_1.default.ParseLoadLevel(url);
            _this.Levels.push(level);
            //记录当前楼层资源
            if (!_this.m_levelRes.has(level)) {
                _this.m_levelRes.set(level, res);
            }
            index++;
            if (index == resUrl.length) {
                //设置默认的楼层为第一个
                _this.CurrenLevel = _this.Levels[0];
                onComplete.apply();
            }
        }, null, false));
    };
    /**
     * 刷新当前显示楼层Tags的内容，通过标签类型LabelType来改变;
     * @param type 标签类型
     */
    BIMManager.prototype.RefreshLabelContent = function (type) {
        var _this = this;
        if (this.CurrenLevel == null ||
            this.m_levelSpsceDic == null ||
            this.m_spaceDic == null)
            return;
        if (this.m_levelSpsceDic.has(this.CurrenLevel)) {
            this.m_levelSpsceDic.get(this.CurrenLevel).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floor = _this.m_spaceDic.get(element);
                    if (floor == null)
                        return;
                    switch (type) {
                        case LabelType.Depart:
                            floor.label.text = floor.Organiaztion;
                            _this.SetHexColor(floor.Object, floor.organizationColor);
                            break;
                        case LabelType.Area:
                            floor.label.text = floor.area;
                            break;
                        case LabelType.Usage:
                            floor.label.text = floor.usage;
                            _this.SetHexColor(floor.Object, floor.usageColor);
                            break;
                    }
                }
            });
        }
    };
    /**
     *
     * @param b 显示或隐藏全部楼层，显示全部楼层时，要关掉tags
     */
    BIMManager.prototype.ShowAllLevels = function (b) {
        var _this = this;
        if (this.Levels == null || this.Levels.length == 0)
            return;
        this.Levels.forEach(function (element) {
            if (b) {
                _this.ShowOneLevelFloors(element, true);
            }
            else {
                _this.HideOneLevelFloors(element);
            }
        });
    };
    /**
     * 显示隐藏楼层及楼层Tag
     * @param level 楼层
     * @param b 显/隐
     */
    BIMManager.prototype.ShowOneLevelFloors = function (level, isShowAll) {
        var _this = this;
        if (level == null)
            return;
        //开启levelRoot
        if (this.m_levelRes.has(level)) {
            var res = this.m_levelRes.get(level);
            res.active = true;
        }
        if (this.m_levelSpsceDic.has(level)) {
            this.m_levelSpsceDic.get(level).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floorItem = _this.m_spaceDic.get(element);
                    if (floorItem != null && floorItem.label != null) {
                        if (isShowAll) {
                            floorItem.label.visible = false;
                        }
                        else {
                            floorItem.label.visible = true;
                        }
                    }
                }
            });
        }
        this.CurrenLevel = level;
    };
    BIMManager.prototype.HideOneLevelFloors = function (level) {
        var _this = this;
        if (level == null)
            return;
        //开启levelRoot
        if (this.m_levelRes.has(level)) {
            var res = this.m_levelRes.get(level);
            res.active = false;
        }
        if (this.m_levelSpsceDic.has(level)) {
            this.m_levelSpsceDic.get(level).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floorItem = _this.m_spaceDic.get(element);
                    if (floorItem != null) {
                        if (floorItem.label != null) {
                            floorItem.label.visible = false;
                        }
                    }
                }
            });
        }
    };
    /**
     * 通过Code获取一个FloorItem
     * @param code
     */
    BIMManager.prototype.GetOneFloorItem = function (code) {
        if (code == null)
            return null;
        if (this.m_spaceDic.has(code)) {
            return this.m_spaceDic.get(code);
        }
        else {
            return null;
        }
    };
    BIMManager.prototype.GetOneFloorSprite3D = function (code) {
        if (code == null)
            return null;
        if (this.m_spaceDic.has(code)) {
            var floor = this.m_spaceDic.get(code);
            return floor.Object;
        }
        else {
            return null;
        }
    };
    BIMManager.prototype.TravelMeshSprite3D = function (parent) {
        if (parent == null)
            return;
        for (var i = 0; i < parent._children.length; i++) {
            var meshSprite3D = parent.getChildAt(i);
            if (meshSprite3D != null) {
                if (meshSprite3D.meshFilter != null
                    && meshSprite3D.parent.name == NameConfig_1.default.floor) {
                    this.InstantiateFloorItem(meshSprite3D);
                }
                else {
                    this.TravelMeshSprite3D(meshSprite3D);
                }
            }
        }
    };
    /**
     * 对象化Floor
     * @param floor
     */
    BIMManager.prototype.InstantiateFloorItem = function (floor) {
        if (floor == null)
            return;
        var meshName = floor.name;
        var data = GameManager_1.default.Instance().Data.GetOneSpaceData(meshName);
        if (data != null) {
            var floorItem = this.CreateFloorItem(floor, data);
            if (!this.m_spaceDic.has(meshName)) {
                this.m_spaceDic.set(meshName, floorItem);
            }
            //记录当前层所有的楼板
            if (!this.m_levelSpsceDic.has(data.levelCode)) {
                this.m_levelSpsceDic.set(data.levelCode, new Array());
            }
            var arr = this.m_levelSpsceDic.get(data.levelCode);
            arr.push(meshName);
        }
        else {
            console.log("DB not contain this {0} floor", meshName);
        }
    };
    BIMManager.prototype.CreateFloorItem = function (floor, data) {
        if (floor == null || data == null)
            return;
        var item = new FloorItem();
        item.Object = floor;
        item.Transform = floor.transform;
        item.Organiaztion = GameManager_1.default.Instance().Data.GetOneOrganizationName(data.organizationCode);
        item.organizationColor = GameManager_1.default.Instance().Data.GetOneOrganizationColor(data.organizationCode);
        item.usage = GameManager_1.default.Instance().Data.GetOneUsageName(data.usageTypeCode);
        item.usageColor = GameManager_1.default.Instance().Data.GetOneUsageColor(data.usageTypeCode);
        item.area = data.useArea;
        //TEMP:默认显示用途
        item.label = this.CreateOneFloorTag(GameManager_1.default.Instance().Camera.Camera, floor, item.usage);
        this.SetHexColor(floor, item.usageColor);
        //默认Tag隐藏
        item.label.visible = false;
        return item;
    };
    BIMManager.prototype.CreateOneFloorTag = function (camera, floor, content) {
        var label = new Laya.Label();
        label.addComponent(LabelUpdate_1.default);
        Laya.stage.addChild(label);
        var component = label.getComponent(LabelUpdate_1.default);
        component.Init(floor, camera, content);
        return label;
    };
    /**
     * 根据摄像机的到原点的距离显示或隐藏Label
     */
    BIMManager.prototype.ShowHideTagsByDistance = function (distance) {
        var _this = this;
        var startdisappeardis = 0;
        var totaldisappeardis = 0;
        if (GameManager_1.default.Instance().Camera.Is2D) {
            startdisappeardis = this.m_2dlabelDisappearDistance;
            totaldisappeardis = this.m_2dlabelTotalDisappearDistance;
        }
        else {
            startdisappeardis = this.m_3dlabelDisappearDistance;
            totaldisappeardis = this.m_3dlabelTotalDisappearDistance;
        }
        if (distance > startdisappeardis) {
            var floors_1 = this.m_levelSpsceDic.get(this.CurrenLevel);
            var count = floors_1.length;
            var interval = (totaldisappeardis - startdisappeardis) / count;
            var pointer_1 = (distance - startdisappeardis) / interval;
            floors_1.forEach(function (element) {
                var index = floors_1.indexOf(element);
                var floor = _this.m_spaceDic.get(element);
                if (floor != null) {
                    if (index <= pointer_1) {
                        floor.label.visible = false;
                    }
                    else {
                        floor.label.visible = true;
                    }
                }
            });
        }
    };
    /**
     * 设置对象颜色
     * @param target
     * @param color Laya内部的Color
     */
    BIMManager.prototype.SetLayaColor = function (target, color) {
        var _this = this;
        if (target == null || color == null)
            return;
        var mats = target.meshRenderer.materials;
        if (mats == null)
            return;
        mats.forEach(function (element) {
            _this.SetColor(element, new Laya.Vector4(color.r, color.g, color.b, color.a));
        });
    };
    /**
     * 设置对象的颜色
     * @param target 对象
     * @param hexColor 十六进制颜色
     */
    BIMManager.prototype.SetHexColor = function (target, hexColor) {
        var _this = this;
        if (target == null || hexColor == null)
            return;
        var mats = target.meshRenderer.materials;
        if (mats == null)
            return;
        var color = this.ConvertColor(hexColor);
        mats.forEach(function (element) {
            _this.SetColor(element, color);
        });
    };
    BIMManager.prototype.SetColor = function (mat, color) {
        if (mat == null || color == null)
            return;
        mat.albedoColor = color;
        if (!this.MaterialsDic.has(mat)) {
            this.MaterialsDic.set(mat, color);
        }
    };
    /**
     * 颜色转换，将hexColor转换成Vector4
     * @param hexColor
     */
    BIMManager.prototype.ConvertColor = function (hexColor) {
        try {
            var count = hexColor.length;
            var r = parseInt(hexColor.substr(0, 2), 16);
            var g = parseInt(hexColor.substr(2, 2), 16);
            var b = parseInt(hexColor.substr(4, 2), 16);
            var a = 255;
            if (count == 8)
                a = parseInt(hexColor.substr(6, 2), 16);
            return this.Convert(r, g, b, a);
        }
        catch (error) {
            console.debug("<color=yellow>{0}</color>", "十六进制颜色值格式错误,需输入6位或8位(带alpha)16进制值,如:0091EAFF,不加#或0x");
        }
        return new Laya.Vector4(1, 1, 1, 1);
    };
    BIMManager.prototype.Convert = function (r, g, b, a) {
        return new Laya.Vector4(r / 255, g / 255, b / 255, a / 255);
    };
    BIMManager.prototype.ResetColor = function (floor) {
        var _this = this;
        if (floor == null || floor.meshRenderer == null)
            return;
        var mats = floor.meshRenderer.materials;
        if (mats != null) {
            mats.forEach(function (element) {
                if (_this.MaterialsDic.has(element)) {
                    var mat = element;
                    mat.albedoColor = _this.MaterialsDic.get(element);
                }
            });
        }
    };
    return BIMManager;
}());
exports.default = BIMManager;
var LabelType;
(function (LabelType) {
    LabelType[LabelType["Depart"] = 0] = "Depart";
    LabelType[LabelType["Usage"] = 1] = "Usage";
    LabelType[LabelType["Area"] = 2] = "Area";
})(LabelType = exports.LabelType || (exports.LabelType = {}));
var FloorItem = /** @class */ (function () {
    function FloorItem() {
    }
    return FloorItem;
}());
},{"../Common/Common":5,"../Component/LabelUpdate":7,"../Configure/NameConfig":10,"../Events/EventManager":15,"../Events/Events":16,"../GameManager":17,"../Resource/ResManager":22}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CameraMoveScript_1 = require("../Component/CameraMoveScript");
var GameManager_1 = require("../GameManager");
var Vector3 = Laya.Vector3;
var RaySelector_1 = require("../Component/RaySelector");
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var LightControl_1 = require("../Component/LightControl");
var CameraManager = /** @class */ (function () {
    function CameraManager() {
        this._3dPos = new Vector3(-6, 45, 17);
        this._3dRot = new Vector3(-78, 0, 0);
        this._2dPos = new Vector3(-5, 50, 17);
        this._2dRot = new Vector3(-90, 0, 0);
        this._oriOrthSize = 70;
    }
    CameraManager.prototype.InitCamera = function () {
        var camera = new Laya.Camera();
        camera.transform.position = this._3dPos;
        camera.transform.localRotationEuler = this._3dRot;
        camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
        this.Camera = camera;
        //摄像机控制
        camera.addComponent(CameraMoveScript_1.default);
        var camctrl = camera.getComponent(CameraMoveScript_1.default);
        camctrl.m_scene3d = GameManager_1.default.Instance().MainScene;
        //射线检测
        camera.addComponent(RaySelector_1.default);
        var rayselector = camera.getComponent(RaySelector_1.default);
        rayselector.Scene3D = GameManager_1.default.Instance().MainScene;
        GameManager_1.default.Instance().MainScene.addChild(camera);
        this.InitLight();
    };
    CameraManager.prototype.InitLight = function () {
        var directionLight = new Laya.DirectionLight();
        GameManager_1.default.Instance().MainScene.addChild(directionLight);
        directionLight.color = new Laya.Vector3(0.2, 0.2, 0.2);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        directionLight.transform.position = this.Camera.transform.position;
        directionLight.transform.rotation = this.Camera.transform.rotation;
        directionLight.addComponent(LightControl_1.default);
        var lightcontrl = directionLight.getComponent(LightControl_1.default);
        lightcontrl.Camera = this.Camera;
    };
    CameraManager.prototype.ResetCamera = function (is2D) {
        this.Is2D = is2D;
        var component = this.Camera.getComponent(CameraMoveScript_1.default);
        if (is2D) {
            this.Camera.orthographic = true;
            this.Camera.orthographicVerticalSize = 60;
            this.Camera.transform.position = this._2dPos;
            this.Camera.transform.localRotationEuler = this._2dRot;
            component.Is2D = true;
            // Laya.Tween.to(this.Camera,{position:this._2dPos,rotation:this._2dRot},1000,null,Handler.create(this,()=>{
            //     this.Camera.orthographic = true;
            //     this.Camera.orthographicVerticalSize = 60;
            //     component.Is2D = true;
            // }));
        }
        else {
            this.Camera.orthographic = false;
            this.Camera.transform.position = this._3dPos;
            this.Camera.transform.localRotationEuler = this._3dRot;
            component.Is2D = false;
            // Laya.Tween.to(this.Camera,{position:this._3dPos,rotation:this._3dRot},1000,null,Handler.create(this,()=>{
            //     this.Camera.orthographic = false;
            //     component.Is2D = false;
            // }));
        }
    };
    CameraManager.prototype.CameraMove = function (object, fromPos, toPos) {
    };
    CameraManager.prototype.CameraRotate = function (fromRotate, toRotate) {
    };
    CameraManager.prototype.AddEvent = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), this, this.CameraMoveInLevel);
    };
    CameraManager.prototype.CameraMoveInLevel = function (levelName) {
    };
    return CameraManager;
}());
exports.default = CameraManager;
},{"../Component/CameraMoveScript":6,"../Component/LightControl":8,"../Component/RaySelector":9,"../Events/EventManager":15,"../Events/Events":16,"../GameManager":17}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Common = /** @class */ (function () {
    function Common() {
    }
    /**
     * 通过楼板Code获得LevelCode
     * @param code
     */
    Common.GetLevelByFloorCode = function (code) {
        if (code == null)
            return null;
        var names = code.split("-");
        if (names.length < 3) {
            return null;
        }
        else {
            return code.substring(0, 15);
        }
    };
    /**
     * 通过楼板Code获得BuildingCode
     * @param code
     */
    Common.GetBuildingByFloorCode = function (code) {
        if (code == null)
            return null;
        var names = code.split("-");
        if (names.length < 3) {
            return null;
        }
        else {
            return code.substring(0, 10);
        }
    };
    /**
     * 通过加载的资源，获取当前资源的所在的楼层
     * @param url .lh资源的url路径，.lh文件的命名规则必须为楼层的Code
     */
    Common.ParseLoadLevel = function (url) {
        if (url == null)
            return null;
        var temp = url.substr(url.lastIndexOf("/") + 1);
        var level = temp.substr(0, temp.indexOf("."));
        return level;
    };
    /**
     * 返回前端显示的LevelCode;例如F1
     * @param levelCode 楼层编码：BDHCMU-A02-F001
     */
    Common.GetPurLevel = function (levelCode) {
        if (levelCode == null || levelCode.match("-") == null)
            return null;
        var eles = levelCode.split("-");
        if (eles.length < 3)
            return null;
        return eles[2];
    };
    return Common;
}());
exports.default = Common;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector3 = Laya.Vector3;
var Vector2 = Laya.Vector2;
var Label = Laya.Label;
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var CameraMoveScript = /** @class */ (function (_super) {
    __extends(CameraMoveScript, _super);
    function CameraMoveScript() {
        var _this = _super.call(this) || this;
        _this.m_lastDistance = 0;
        _this.m_preRadian = 0;
        _this.m_forwardLength = 3;
        _this.m_lookAtPoint = new Vector3();
        _this.m_isTwoFingersTouch = false;
        _this.m_twoFingersDistance = 0;
        _this.IsShowLable = true;
        _this.Is2D = false;
        return _this;
    }
    CameraMoveScript.prototype.onAwake = function () {
        this.Init();
        this.AddEvenets();
        this.RefreshPitchRadian();
        this.RefreshLookAtPoint();
    };
    CameraMoveScript.prototype.onUpdate = function () {
        if (this.IsShowLable)
            this.ShowInfo();
        this.RayCastHit();
        this.CameraToZeroDistance();
    };
    CameraMoveScript.prototype.onDestroy = function () {
        this.RemoveEvents();
    };
    CameraMoveScript.prototype.Init = function () {
        this.m_camera = this.owner;
        this.m_tempVector3 = new Vector3();
        this.m_mousePoint = new Vector2();
        this.m_lastTouchFinger0 = new Vector2();
        this.m_lastTouchFinger1 = new Vector2();
        this.yawPitchRoll = new Laya.Vector3();
        this.resultRotation = new Laya.Quaternion();
        this.tempRotationZ = new Laya.Quaternion();
        this.tempRotationX = new Laya.Quaternion();
        this.tempRotationY = new Laya.Quaternion();
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        if (this.IsShowLable)
            this.m_label = this.createLabel(new Vector2(10, 10));
        this.InitDiffPlatform();
    };
    /**
     * 不同平台不同配置，从json文件中读取
     */
    CameraMoveScript.prototype.InitDiffPlatform = function () {
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_3dMoveSpeed = 0.02;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -30;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_3dMoveSpeed = 0.04;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -30;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
    };
    CameraMoveScript.prototype.AddEvenets = function () {
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.RemoveEvents = function () {
        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.off(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.mouseDown = function (e) {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        // //Two fingers operation
        var touches = e.touches;
        if (touches && touches.length == 2) {
            this.m_lastTouchFinger0.x = touches[0].stageX;
            this.m_lastTouchFinger0.y = touches[0].stageY;
            this.m_lastTouchFinger1.x = touches[1].stageX;
            this.m_lastTouchFinger1.y = touches[1].stageY;
            this.m_lastDistance = this.getDistance(touches);
            this.m_preRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
            this.m_isTwoFingersTouch = true;
        }
    };
    CameraMoveScript.prototype.mouseUp = function (e) {
        this.m_isMouseDown = false;
        var touches = e.touches;
        if (touches && touches.length == 0) {
            this.m_isTwoFingersTouch = false;
        }
    };
    CameraMoveScript.prototype.rightMouseDown = function (e) {
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        this.m_isRightMouseButtonDown = true;
    };
    CameraMoveScript.prototype.rightMouseUp = function (e) {
        this.m_isMouseDown = false;
        this.m_isRightMouseButtonDown = false;
    };
    CameraMoveScript.prototype.mouseWheel = function (e) {
        if (e == null)
            return;
        var zoomDelta = e.delta;
        if (this.Is2D) {
            this.m_camera.orthographicVerticalSize += -zoomDelta * this.m_2dWheelSpeed;
            if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
            }
        }
        else {
            this.cameraZoom(zoomDelta);
        }
        if (this.OnMouseWheel)
            this.OnMouseWheel(zoomDelta);
    };
    CameraMoveScript.prototype.mouseMove = function (e) {
        var touches = e.touches;
        if (!touches) {
            this.moveControlByMouse();
        }
        else {
            this.moveCtrlByTouch(touches);
        }
    };
    /**
    *  鼠标模式
    */
    CameraMoveScript.prototype.moveControlByMouse = function () {
        if (this.m_isMouseDown) {
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (!this.m_isRightMouseButtonDown) {
                if (this.m_isLastTouchDoubleFingers) {
                    deltaX = 0;
                    deltaY = 0;
                    this.m_isLastTouchDoubleFingers = false;
                }
                this.moveRight(-this.m_3dMoveSpeed * deltaX);
                this.moveUp(this.m_3dMoveSpeed * deltaY);
                this.RefreshLookAtPoint();
            }
            else {
                if (this.Is2D)
                    return;
                var deltaX_1 = Laya.stage.mouseX - this.m_lastMouseX;
                var deltaY_1 = Laya.stage.mouseY - this.m_lastMouseY;
                this.rotateAround(-deltaY_1 * this.m_3dRotateSpeed, -deltaX_1 * this.m_3dRotateSpeed);
            }
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
        }
    };
    /**
     * 触控模式
     */
    CameraMoveScript.prototype.moveCtrlByTouch = function (touches) {
        if (touches.length == 1 && !this.m_isTwoFingersTouch) {
            //单指触控
            // this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (this.m_isLastTouchDoubleFingers) {
                //如果上一次操作是双指,如双指操作时,抬起一指变单指操作,要做个清零,防止摄像机跳跃
                deltaX = 0;
                deltaY = 0;
                this.m_isLastTouchDoubleFingers = false;
            }
            //let speed: number = 0.06;
            this.moveRight(-this.m_3dMoveSpeed * deltaX);
            this.moveUp(this.m_3dMoveSpeed * deltaY);
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
            this.RefreshLookAtPoint();
        }
        else if (touches.length == 2) {
            if (this.Is2D) {
                var distance2 = this.getDistance(touches);
                var factor2 = 0.1;
                var pinchValue2 = 0;
                pinchValue2 = (distance2 - this.m_lastDistance) * factor2;
                this.m_lastDistance = distance2;
                this.m_camera.orthographicVerticalSize -= pinchValue2;
                if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                    this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
                }
            }
            else {
                //双指触控
                this.m_isTwoFingersTouch = true;
                this.m_isLastTouchDoubleFingers = true;
                var twoFingersDistance = this.getTwoFingersDistance(touches);
                var deltaDistance = Math.abs(twoFingersDistance - this.m_twoFingersDistance);
                this.m_twoFingersDistance = twoFingersDistance;
                //Two fingers drag
                var deltaX0 = touches[0].stageX - this.m_lastTouchFinger0.x;
                var deltaY0 = touches[0].stageY - this.m_lastTouchFinger0.y;
                var deltaX1 = touches[1].stageX - this.m_lastTouchFinger1.x;
                var deltaY1 = touches[1].stageY - this.m_lastTouchFinger1.y;
                var deltaY = (deltaY0 + deltaY1) * 0.5;
                var deltaX = (deltaX0 + deltaX1) * 0.5;
                this.rotateAround(-deltaY * this.m_3dRotateSpeed, 0);
                this.m_lastTouchFinger0.x = touches[0].stageX;
                this.m_lastTouchFinger0.y = touches[0].stageY;
                this.m_lastTouchFinger1.x = touches[1].stageX;
                this.m_lastTouchFinger1.y = touches[1].stageY;
                //Two fingers pinch
                var distance = this.getDistance(touches);
                var factor = 0.01;
                var pinchValue = 0;
                pinchValue += (distance - this.m_lastDistance) * factor;
                this.m_lastDistance = distance;
                var fingerPinchSpeed = 10;
                this.cameraZoom(pinchValue * fingerPinchSpeed);
                if (this.OnDoubleFingersPinch)
                    this.OnDoubleFingersPinch(pinchValue);
                //Two fingers twist
                var nowRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
                var deltaRadian = nowRadian - this.m_preRadian;
                if (deltaRadian != 0) {
                    var twistValue = 180 / Math.PI * deltaRadian;
                    this.rotateAround(0, twistValue * 0.1);
                    this.m_preRadian = nowRadian;
                    if (this.OnDoubleFingersTwist)
                        this.OnDoubleFingersTwist(twistValue);
                }
            }
        }
    };
    /**
     * 向前移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveForward = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.y = 0;
        this.m_tempVector3.z = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向右移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveRight = function (distance) {
        this.m_tempVector3.y = this.m_tempVector3.z = 0;
        this.m_tempVector3.x = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向上移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveUp = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.z = 0;
        this.m_tempVector3.y = distance;
        this.m_camera.transform.translate(this.m_tempVector3, true);
    };
    /**
     * 缩放
     * @param delta
     */
    CameraMoveScript.prototype.cameraZoom = function (delta) {
        // if(this.m_hitObject!=null && !this.m_isRightMouseDown){
        //     this.m_forwardLength = this.getTwoPointsDistance(
        //         this.m_camera.transform.position,this.m_hitPoint);        
        // }
        var currentForwardLength = this.m_forwardLength;
        var distance = -delta * this.m_3dWheelSpeed;
        currentForwardLength += distance;
        if (delta > 0) {
            //拉近
            if (currentForwardLength < this.m_3dMinZoomDistance)
                distance += (this.m_3dMinZoomDistance - currentForwardLength);
        }
        else {
            //拉远
            if (currentForwardLength > this.m_3dMaxZoomDistance)
                distance -= (currentForwardLength - this.m_3dMaxZoomDistance);
        }
        this.moveForward(distance);
        this.m_forwardLength += distance;
    };
    /**
     * 旋转
     * @param angleX
     * @param angleY
     */
    CameraMoveScript.prototype.rotateAround = function (angleX, angleY) {
        var currentRadian = this.m_currentPitchRadian;
        currentRadian -= angleX;
        if (angleX < 0) {
            //下拖动,往上转
            if (currentRadian > this.m_3dMaxCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMaxCameraPitchRadian);
        }
        else {
            //上拖动,往下转
            if (currentRadian < this.m_3dMinCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMinCameraPitchRadian);
        }
        this.m_camera.transform.rotate(new Vector3(angleX, 0, 0));
        this.m_camera.transform.rotate(new Vector3(0, angleY, 0), false);
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var newPosition = new Vector3();
        Vector3.scale(forward, -1, forward);
        newPosition = this.Forward(this.m_lookAtPoint, forward, this.m_forwardLength);
        this.m_camera.transform.position = newPosition;
        this.RefreshPitchRadian();
    };
    CameraMoveScript.prototype._updateRotation = function () {
        if (Math.abs(this.yawPitchRoll.y) < 1.50) {
            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);
            this.tempRotationZ.cloneTo(this.m_camera.transform.localRotation);
            this.m_camera.transform.localRotation = this.m_camera.transform.localRotation;
        }
    };
    //把Math.atan2值域映射到[0, 2pi]
    CameraMoveScript.prototype.atan2Ext = function (y, x) {
        var radian = Math.atan2(y, x);
        if (radian >= 0)
            return radian;
        else
            return radian + 2 * Math.PI;
    };
    CameraMoveScript.prototype.getTwoFingersDistance = function (touches) {
        var fingersDistance = 0;
        var dx = touches[0].stageX - touches[1].stageX;
        var dy = touches[0].stageY - touches[1].stageY;
        fingersDistance = Math.sqrt(dx * dx + dy * dy);
        return fingersDistance;
    };
    CameraMoveScript.prototype.rotateAroundY = function (ponit, radius, angle) {
        var posX = Math.cos(angle) * radius;
        var posY = Math.sin(angle) * radius;
        this.m_camera.transform.position = new Vector3(posX, this.m_camera.transform.position.y, posY);
        this.m_camera.transform.lookAt(ponit, new Vector3(0, 1, 0), false);
    };
    CameraMoveScript.prototype.rotateAroundX = function (ponit, radius, angle) {
        this.m_camera.transform.rotate(new Vector3(angle, 0, 0));
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var position = new Vector3();
        var deltaPosition = new Vector3();
        Vector3.scale(forward, -radius, deltaPosition);
        Vector3.add(ponit, deltaPosition, position);
        this.m_camera.transform.position = position;
    };
    //计算两个触摸点之间的距离
    CameraMoveScript.prototype.getDistance = function (points) {
        var distance = 0;
        if (points && points.length == 2) {
            var dx = points[0].stageX - points[1].stageX;
            var dy = points[0].stageY - points[1].stageY;
            distance = Math.sqrt(dx * dx + dy * dy);
        }
        return distance;
    };
    CameraMoveScript.prototype.getTwoPointsDistance = function (pointA, pointB) {
        var distance = 0;
        var dx = pointA.x - pointB.x;
        var dy = pointA.y - pointB.y;
        var dz = pointA.z - pointB.z;
        distance = Math.sqrt(dx * dx + dy * dy + dz * dz);
        return distance;
    };
    CameraMoveScript.prototype.Forward = function (position, direction, distance) {
        var deltaPosition = new Vector3();
        var newPosition = new Vector3();
        Vector3.scale(direction, distance, deltaPosition);
        Vector3.add(position, deltaPosition, newPosition);
        return newPosition;
    };
    CameraMoveScript.prototype.RefreshLookAtPoint = function () {
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        this.m_lookAtPoint = this.Forward(this.m_camera.transform.position, forward, this.m_forwardLength);
    };
    CameraMoveScript.prototype.RefreshPitchRadian = function () {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_currentPitchRadian = Math.abs(this.yawPitchRoll.y);
    };
    //temp
    CameraMoveScript.prototype.CameraToZeroDistance = function () {
        var dis = 0;
        if (this.Is2D) {
            dis = this.m_camera.orthographicVerticalSize;
        }
        else {
            var camPos = this.m_camera.transform.position;
            dis = Vector3.distance(camPos, Vector3._ZERO);
            this.m_label.text += "摄像机到原点的距离：" + dis;
        }
        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnCameraDistanceChanged.toString(), dis);
    };
    /**
     * 绕给定点和轴旋转
     * @param target 旋转对象
     * @param rotatePos 给定点位置
     * @param dir 给定方向
     * @param angle 旋转角度，弧度
     */
    CameraMoveScript.prototype.RotateAround = function (target, rotatePos, dir, angle) {
        //创建一个四元数
        var quaternion = new Laya.Quaternion();
        Laya.Quaternion.createFromAxisAngle(dir, angle, quaternion);
        //计算旋转后的Position
        var deltapos = new Laya.Vector3();
        Laya.Vector3.subtract(target.transform.position, rotatePos, deltapos);
        var changeVector3 = new Laya.Vector3();
        Laya.Vector3.transformQuat(deltapos, quaternion, changeVector3);
        var resultPos = new Laya.Vector3();
        Laya.Vector3.add(changeVector3, rotatePos, resultPos);
        target.transform.position = resultPos;
        //计算旋转后的Rotation
        var newRotation = new Laya.Quaternion();
        Laya.Quaternion.multiply(target.transform.rotation, quaternion, newRotation);
        target.transform.rotation = newRotation;
    };
    /**
    * 根据碰撞对象的位置，设置摄像机的缩放和旋转轴等；
    * 旋转操作，以屏幕中心点发出射线，如果有碰撞对象，则将碰撞点作为旋转中心，如果没有则将（0,0,0）设为旋转中心；
    * 缩放操作，以鼠标位置发出射线，若有碰撞对象，则根据碰撞点与摄像机的距离限制摄像机的最小距离；
    */
    CameraMoveScript.prototype.RayCastHit = function () {
        if (this.m_camera != null && this.m_scene3d != null) {
            this.m_mousePoint.x = Laya.stage.mouseX;
            this.m_mousePoint.y = Laya.stage.mouseY;
            this.m_camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.m_scene3d.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                this.m_hitObject = this.m_hitResult.collider.owner;
                this.m_hitPoint = this.m_hitResult.point;
            }
            else {
                this.m_hitObject = null;
            }
        }
    };
    /**
     * 创建一个Lable
     * @param color
     * @param strokeColor
     */
    CameraMoveScript.prototype.createLabel = function (pos, color, strokeColor) {
        var _color = "#ffffff";
        var _strokeColor = "#000000";
        var _strokeWidth = 1;
        var label = new Label();
        label.font = "Microsoft YaHei";
        label.text = "SAMPLE DEMO";
        label.fontSize = 20;
        if (color) {
            label.color = color;
        }
        else {
            label.color = _color;
        }
        if (strokeColor) {
            label.stroke = _strokeWidth;
            label.strokeColor = _strokeColor;
        }
        label.pos(pos.x, pos.y);
        Laya.stage.addChild(label);
        return label;
    };
    CameraMoveScript.prototype.ShowInfo = function () {
        var pos = this.m_camera.transform.position;
        var rot = this.m_camera.transform.rotationEuler;
        this.m_label.text = "Camera Pos : (" + pos.x.toFixed(2) + "," + pos.y.toFixed(2) + "," + pos.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera Rot : (" + rot.x.toFixed(2) + "," + rot.y.toFixed(2) + "," + rot.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera orthographicVerticalSize : " + this.m_camera.orthographicVerticalSize + "\n";
        this.m_label.text += "Mouse PosX : " + Laya.stage.mouseX + "\n";
        this.m_label.text += "Mouse PosY : " + Laya.stage.mouseY + "\n";
        this.m_label.text += "是否在2D: " + this.Is2D + "\n";
        this.m_label.text += "this forwardlength: " + this.m_forwardLength + "\n";
        this.m_label.text += "3dMoveSpeed : " + this.m_3dMoveSpeed + "\n";
        this.m_label.text += "2dMoveSpeed : " + this.m_2dMoveSpeed + "\n";
    };
    return CameraMoveScript;
}(Laya.Script3D));
exports.default = CameraMoveScript;
},{"../Events/EventManager":15,"../Events/Events":16}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LabelUpdatPos = /** @class */ (function (_super) {
    __extends(LabelUpdatPos, _super);
    function LabelUpdatPos() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LabelUpdatPos.prototype.onAwake = function () {
        this.m_label = this.owner;
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_fontsize = 25;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_fontsize = 14;
        }
    };
    LabelUpdatPos.prototype.onStart = function () {
        this.SetLabelPos();
    };
    LabelUpdatPos.prototype.onUpdate = function () {
        this.SetLabelPos();
    };
    LabelUpdatPos.prototype.Init = function (parent, camera, content) {
        this.m_parent = parent;
        this.m_camera = camera;
        this.InitLabel();
        this.SetLabelContent(content);
    };
    LabelUpdatPos.prototype.SetLabelContent = function (content) {
        if (this.m_label == null)
            return;
        this.m_label.text = content;
    };
    LabelUpdatPos.prototype.InitLabel = function () {
        if (this.m_label == null)
            return;
        this.m_label.width = 300;
        this.m_label.height = 50;
        this.m_label.pivotX = 150;
        this.m_label.pivotY = 25;
        this.m_label.font = "Microsoft YaHei";
        this.m_label.text = "SAMPLE DEMO";
        this.m_label.fontSize = this.m_fontsize;
        this.m_label.color = "#ffffff";
        this.m_label.stroke = 0.05;
        this.m_label.strokeColor = "#000000";
        this.m_label.align = "center";
    };
    LabelUpdatPos.prototype.SetLabelPos = function () {
        if (this.m_parent == null || this.m_camera == null)
            return;
        var floorPos = this.m_parent.transform.position;
        var newPos = new Laya.Vector3(floorPos.x, floorPos.y + 3, floorPos.z);
        var screenPos = new Laya.Vector3();
        this.m_camera.worldToViewportPoint(newPos, screenPos);
        this.m_label.pos(screenPos.x, screenPos.y + 15);
    };
    return LabelUpdatPos;
}(Laya.Script));
exports.default = LabelUpdatPos;
},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LightControl = /** @class */ (function (_super) {
    __extends(LightControl, _super);
    function LightControl() {
        return _super.call(this) || this;
    }
    LightControl.prototype.onAwake = function () {
        this.Light = this.owner;
    };
    LightControl.prototype.onUpdate = function () {
        this.Light.transform.position = this.Camera.transform.position;
        this.Light.transform.rotationEuler = this.Camera.transform.rotationEuler;
    };
    return LightControl;
}(Laya.Script3D));
exports.default = LightControl;
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var Vector3 = Laya.Vector3;
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var RaySelector = /** @class */ (function (_super) {
    __extends(RaySelector, _super);
    function RaySelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.m_mousePoint = new Laya.Vector2();
        return _this;
    }
    RaySelector.prototype.onAwake = function () {
        if (this.owner != null) {
            var cam = this.owner;
            if (cam != null) {
                this.Camera = cam;
            }
        }
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        this.AddMouseEvent();
    };
    RaySelector.prototype.onUpdate = function () {
        this.RayCastHit();
    };
    RaySelector.prototype.AddMouseEvent = function () {
        Laya.stage.on(Laya.Event.CLICK, this, this.OnRayCastClicked);
    };
    RaySelector.prototype.RemoveMouseEvent = function () {
        Laya.stage.off(Laya.Event.CLICK, this, this.OnRayCastClicked);
    };
    RaySelector.prototype.onDisable = function () {
        this.RemoveMouseEvent();
    };
    RaySelector.prototype.RayCastHit = function () {
        this.m_mousePoint.x = Laya.stage.mouseX;
        this.m_mousePoint.y = Laya.stage.mouseY;
        if (this.Camera != null && this.Scene3D != null) {
            this.Camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.Scene3D.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                var collider = this.m_hitResult.collider.owner;
                //this.m_deltaClickTime +=Laya.timer.delta;
                if (this.m_isClicked) {
                    EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceClicked.toString(), collider);
                    GameManager_1.default.Instance().BIM.SetLayaColor(collider, Laya.Color.RED);
                }
                if (this.m_selected != collider) {
                    this.m_isClicked = false;
                    if (this.m_selected != null) {
                        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceExit.toString(), this.m_selected);
                        GameManager_1.default.Instance().BIM.ResetColor(this.m_selected);
                        this.m_selected = null;
                    }
                    this.m_selected = collider;
                    EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceExit.toString(), this.m_selected);
                    GameManager_1.default.Instance().BIM.SetLayaColor(collider, Laya.Color.YELLOW);
                }
            }
        }
    };
    RaySelector.prototype.OnRayCastClicked = function () {
        this.m_isClicked = true;
        // this.m_mousePoint.x = Laya.stage.mouseX;
        // this.m_mousePoint.y = Laya.stage.mouseY;
        // this.Camera.viewportPointToRay(this.m_mousePoint,this.m_ray);
        // if(this.Scene3D!=null){
        //     this.Scene3D.physicsSimulation.rayCast(this.m_ray,this.m_hitResult);
        //     if(this.m_hitResult.succeeded){
        //         var colliderName = this.m_hitResult.collider.owner.name;
        //         //console.debug("碰撞的对象为："+ colliderName);
        //         var floor:Laya.MeshSprite3D = GameManager.Instance().BIM.GetOneFloorSprite3D(colliderName);
        //         if(floor==null)return ;
        //         var mats = floor.meshRenderer.materials;
        //         mats.forEach(element => {
        //             var mat:Laya.BlinnPhongMaterial = element as Laya.BlinnPhongMaterial;
        //             mat.albedoColor = new Laya.Vector4(1,0,0,1);
        //         });
        //     }
        // }
    };
    RaySelector.prototype.DrawLine = function () {
        // this.m_mousePoint.x = Laya.MouseManager.instance.mouseX;
        // this.m_mousePoint.y = Laya.MouseManager.instance.mouseY;
        // this.m_camera.worldToViewportPoint(this.m_camera.transform.position,this.camPos);
        // this.sp.graphics.clear();
        // this.sp.graphics.drawLine(this.camPos.x,this.camPos.y,this.m_mousePoint.x,this.m_mousePoint.y,"#ff0000",1); 
    };
    return RaySelector;
}(Laya.Script3D));
exports.default = RaySelector;
},{"../Events/EventManager":15,"../Events/Events":16,"../GameManager":17}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var NameConfig = /** @class */ (function () {
    function NameConfig() {
    }
    NameConfig.ip = "meetoo.cn";
    NameConfig.port = "1986";
    NameConfig.userName = "yangxin";
    NameConfig.userPassprot = "81DC9BDB52D04DC20036DBD8313ED055";
    NameConfig.screenWidth = Laya.Browser.width;
    NameConfig.screenHegiht = Laya.Browser.height;
    NameConfig.floorLayer = "buildingLevels";
    NameConfig.floor = "Floor";
    NameConfig.campusCode = "PUMCHW";
    return NameConfig;
}());
exports.default = NameConfig;
},{}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableOrgnization_1 = require("./TableOrgnization");
var TableBIMUsageType_1 = require("./TableBIMUsageType");
var TableBIMSpace_1 = require("./TableBIMSpace");
var DataManager = /** @class */ (function () {
    function DataManager() {
    }
    DataManager.prototype.Init = function () {
        this.RegisterTables();
    };
    DataManager.prototype.RegisterTables = function () {
        var _this = this;
        this.tableBimSpace = new TableBIMSpace_1.default();
        this.tableBimSpace.Init(GameManager_1.default.Instance().Http.URL, function () {
            _this.tableOrganization = new TableOrgnization_1.default();
            _this.tableOrganization.Init(GameManager_1.default.Instance().Http.URL, function () {
                _this.tableUsageType = new TableBIMUsageType_1.default();
                _this.tableUsageType.Init(GameManager_1.default.Instance().Http.URL, function () {
                    GameManager_1.default.Instance().LoadRes();
                });
            });
        });
    };
    DataManager.prototype.GetOneOrganizationName = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableOrganization.GetOneOrganizationName(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneOrganizationColor = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableOrganization.GetOneOrganizationColor(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneUsageName = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableUsageType.GetOneUsageName(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneUsageColor = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableUsageType.GetOneUsageColor(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneSpaceData = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableBimSpace.GetOneSpaceData(code);
        }
        else
            return null;
    };
    return DataManager;
}());
exports.default = DataManager;
},{"../GameManager":17,"./TableBIMSpace":12,"./TableBIMUsageType":13,"./TableOrgnization":14}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableBIMSpace = /** @class */ (function () {
    function TableBIMSpace() {
        this.TabelName = "BIMSpace";
    }
    TableBIMSpace.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/BIMSpace/dynamicQuery");
        var postBody = JSON.stringify({ "levelCodeList": ["PUMCHW-D03-F001", "PUMCHW-D03-F002", "PUMCHW-D03-F003"] });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableBIMSpace.prototype.GetOneSpaceData = function (code) {
        if (code == null)
            return null;
        if (this.SpaceDataDic.has(code)) {
            return this.SpaceDataDic.get(code);
        }
        else
            return null;
    };
    TableBIMSpace.prototype.InitContainer = function () {
        this.SpaceDataDic = new Laya.WeakObject();
    };
    TableBIMSpace.prototype.AsynLoadData = function (url, postBody, finished) {
        var _this = this;
        if (url == null || postBody == null)
            return;
        GameManager_1.default.Instance().Http.post(url, postBody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateSpaceData(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.SpaceDataDic.has(ele.code)) {
                            _this.SpaceDataDic.set(ele.code, ele);
                        }
                    }
                });
                finished.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableBIMSpace.prototype.CreateSpaceData = function (element) {
        var data = new SpaceData();
        data.code = element.code;
        data.usageName = element.usageName;
        data.buildingCode = element.buildingCode;
        data.campusCode = element.campusCode;
        data.levelCode = element.levelCode;
        data.organizationCode = element.organizationCode;
        data.usageTypeCode = element.usageTypeCode;
        data.useArea = element.useArea.toFixed(2).toString() + "m²";
        data.perimeter = element.perimeter;
        return data;
    };
    return TableBIMSpace;
}());
exports.default = TableBIMSpace;
var SpaceData = /** @class */ (function () {
    function SpaceData() {
    }
    return SpaceData;
}());
exports.SpaceData = SpaceData;
},{"../GameManager":17}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableUsageType = /** @class */ (function () {
    function TableUsageType() {
        this.TabelName = "BIMUsageType";
    }
    TableUsageType.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/Common/retrieveAllByTableName");
        var postBody = JSON.stringify({ "tableName": this.TabelName });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableUsageType.prototype.GetOneUsageName = function (code) {
        if (code == null)
            return null;
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.name;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.GetOneUsageColor = function (code) {
        if (code == null)
            return null;
        var level = this.GetUsageLevelLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.color;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.GetUsageLevelLevel = function (code) {
        if (code == null)
            return null;
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.level;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.InitContainer = function () {
        this.UsageTypeDic = new Laya.WeakObject();
    };
    TableUsageType.prototype.AsynLoadData = function (url, postbody, fininshed) {
        var _this = this;
        GameManager_1.default.Instance().Http.post(url, postbody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateUsageType(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.UsageTypeDic.has(ele.code)) {
                            _this.UsageTypeDic.set(ele.code, ele);
                        }
                    }
                });
                fininshed.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableUsageType.prototype.CreateUsageType = function (element) {
        var data = new UsageType();
        data.code = element.code;
        data.name = element.name;
        data.level = element.level;
        data.color = element.color;
        return data;
    };
    return TableUsageType;
}());
exports.default = TableUsageType;
var UsageType = /** @class */ (function () {
    function UsageType() {
    }
    return UsageType;
}());
exports.UsageType = UsageType;
},{"../GameManager":17}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableOrgnization = /** @class */ (function () {
    function TableOrgnization() {
        this.TabelName = "Organization";
    }
    TableOrgnization.prototype.Init = function (url, finished) {
        this.InitContainer();
        //var postUrl = url.concat("/IVS/Common/retriByTableNameCampusCode");
        //var postBody = JSON.stringify({"tableName":this.TabelName,"campusCode": NameConfig.campusCode});
        var postUrl = url.concat("/IVS/Common/retrieveAllByTableName");
        var postBody = JSON.stringify({ "tableName": this.TabelName });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableOrgnization.prototype.GetOneOrganizationName = function (code) {
        if (code == null)
            return null;
        var level = this.GetOrganizationLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.name;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.GetOneOrganizationColor = function (code) {
        if (code == null)
            return null;
        var level = this.GetOrganizationLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.color;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.GetOrganizationLevel = function (code) {
        if (code == null)
            return null;
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.level;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.InitContainer = function () {
        this.orgnizationDic = new Laya.WeakObject();
    };
    TableOrgnization.prototype.AsynLoadData = function (url, postbody, fininshed) {
        var _this = this;
        GameManager_1.default.Instance().Http.post(url, postbody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateOrganization(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.orgnizationDic.has(ele.code)) {
                            _this.orgnizationDic.set(ele.code, ele);
                        }
                    }
                });
                fininshed.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableOrgnization.prototype.CreateOrganization = function (element) {
        var data = new Orgnization();
        data.code = element.code;
        data.name = element.name;
        data.level = element.level;
        data.color = element.color;
        return data;
    };
    return TableOrgnization;
}());
exports.default = TableOrgnization;
var Orgnization = /** @class */ (function () {
    function Orgnization() {
    }
    return Orgnization;
}());
exports.Orgnization = Orgnization;
},{"../GameManager":17}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispatcher = laya.events.EventDispatcher;
var EventManager = /** @class */ (function (_super) {
    __extends(EventManager, _super);
    function EventManager() {
        return _super.call(this) || this;
    }
    EventManager.Instance = function () {
        if (EventManager._instance == null) {
            EventManager._instance = new EventManager();
        }
        return EventManager._instance;
    };
    EventManager.prototype.PostEvent = function (eName, args) {
        //onsole.debug("分发事件");
        EventManager.eventDispatcher.event(eName, args);
    };
    EventManager.prototype.AddEventListener = function (eName, caller, listener, args) {
        //console.log("侦听事件",eName);
        EventManager.eventDispatcher.on(eName, caller, listener, args);
    };
    EventManager.prototype.RemoveEventListener = function (eName, caller, listener, once) {
        //console.log("移除事件",eName);
        EventManager.eventDispatcher.off(eName, caller, listener, once);
    };
    EventManager.eventDispatcher = new EventDispatcher();
    return EventManager;
}(EventDispatcher));
exports.default = EventManager;
},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Events;
(function (Events) {
    Events[Events["OnUI_LevelBtn_Clicked"] = 0] = "OnUI_LevelBtn_Clicked";
    Events[Events["OnSpaceEnter"] = 1] = "OnSpaceEnter";
    Events[Events["OnSpaceClicked"] = 2] = "OnSpaceClicked";
    Events[Events["OnSpaceExit"] = 3] = "OnSpaceExit";
    Events[Events["OnCameraDistanceChanged"] = 4] = "OnCameraDistanceChanged";
})(Events = exports.Events || (exports.Events = {}));
},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtHttp_1 = require("./Network/MtHttp");
var NameConfig_1 = require("./Configure/NameConfig");
var DataManager_1 = require("./Data/DataManager");
var Handler = Laya.Handler;
var MainUI_1 = require("./MainUI");
var BIMManager_1 = require("./BIM/BIMManager");
var CameraManager_1 = require("./Camera/CameraManager");
var EventManager_1 = require("./Events/EventManager");
var Events_1 = require("./Events/Events");
var GameManager = /** @class */ (function () {
    function GameManager() {
        this.LoginLock = false;
        this.Http = new MtHttp_1.default(NameConfig_1.default.ip, NameConfig_1.default.port);
        this.BIM = new BIMManager_1.default();
        this.Data = new DataManager_1.default();
        this.Camera = new CameraManager_1.default();
        this.AddEvents();
    }
    GameManager.Instance = function () {
        if (GameManager._instance == null) {
            GameManager._instance = new GameManager();
        }
        return GameManager._instance;
    };
    GameManager.prototype.AddEvents = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), this, this.OnLevelBtnClicked);
    };
    GameManager.prototype.OnLevelBtnClicked = function (levelName) {
        this.BIM.HideOneLevelFloors(this.BIM.CurrenLevel);
        this.BIM.ShowOneLevelFloors(levelName);
    };
    GameManager.prototype.Login = function () {
        if (this.LoginLock)
            return;
        var longinUrl = this.Http.URL.concat("/IVS/login");
        var postBody = JSON.stringify({ "name": NameConfig_1.default.userName,
            "pwd": NameConfig_1.default.userPassprot,
            "thirdPartyCode": "0" });
        this.Http.post(longinUrl, postBody, this, this.LoginSucceed);
        this.LoginLock = true;
    };
    GameManager.prototype.LoginSucceed = function (e) {
        if (e.state == "succeed") {
            console.debug("Login succeed!");
            this.LoadData();
            //test
            //this.LoadRes();
        }
        else {
            alert(e.msg);
        }
    };
    GameManager.prototype.LoadData = function () {
        // var url = this.Http.URL.concat("/IVS/BIMSpace/dynamicQuery");
        // //var posBody = JSON.stringify({"levelCodeList":["BDHCMU-A02-B001","BDHCMU-A02-F003"]});
        // var posBody = JSON.stringify({"levelCodeList":["PUMCHW-D03-F001","PUMCHW-D03-F002","PUMCHW-D03-F003"]});
        // this.Data.LoadSpaceData(url,posBody,()=>{
        //     this.LoadRes();
        // });
        this.Data.Init();
    };
    GameManager.prototype.LoadRes = function () {
        var _this = this;
        Laya.loader.load("res/JsonFile/res_pumchw.json", Handler.create(this, function (data) {
            var resUrl = new Array();
            data.url.forEach(function (element) {
                resUrl.push(_this.Http.URL.concat("/Patch/res/", element));
            });
            _this.BIM.LoadRes(resUrl, function () {
                _this.InitMainUI();
                _this.BIM.ShowOneLevelFloors(_this.BIM.CurrenLevel);
            });
        }));
    };
    GameManager.prototype.Init3DScene = function () {
        if (this.IsInitScene)
            return;
        Laya3D.init(0, 0, true);
        Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;
        Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;
        //Laya.Stat.show();
        this.MainScene = new Laya.Scene3D();
        Laya.stage.addChild(this.MainScene);
        this.Camera.InitCamera();
        this.IsInitScene = true;
    };
    GameManager.prototype.InitMainUI = function () {
        this.MainUI = new MainUI_1.default();
        Laya.stage.addChild(this.MainUI);
        this.MainUI.CreateLevels(this.BIM.Levels);
    };
    return GameManager;
}());
exports.default = GameManager;
},{"./BIM/BIMManager":3,"./Camera/CameraManager":4,"./Configure/NameConfig":10,"./Data/DataManager":11,"./Events/EventManager":15,"./Events/Events":16,"./MainUI":19,"./Network/MtHttp":20}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameManager_1 = require("./GameManager");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI._instance = _this;
        _this.GameManager = GameManager_1.default.Instance();
        _this.UIAdapter();
        _this.LoginBtn.on(Laya.Event.CLICK, _this, _this.OnLoginBtnClicked);
        Laya.stage.on(Laya.Event.RESIZE, Laya.stage, function () {
            _this.UIAdapter();
        });
        return _this;
    }
    //Enable初始化
    GameUI.prototype.onEnable = function () {
    };
    //登陆
    GameUI.prototype.OnLoginBtnClicked = function (e) {
        //GameManager.Instance().Login();
        this.GameManager.Login();
    };
    //设置资源加载进度
    GameUI.prototype.SetLoadPercent = function (percent) {
        this.ProgressBar.visible = true;
        this.ProgressBar.value = percent;
        if (percent == 1) {
            this.DestroyScene();
        }
    };
    GameUI.prototype.DestroyScene = function () {
        //this.destroy();
        Laya.Scene.close(this.scene);
    };
    //UI适配
    GameUI.prototype.UIAdapter = function () {
        var width = Laya.Browser.width;
        var height = Laya.Browser.height;
        this.width = width;
        this.height = height;
        this.Background.width = width;
        this.Background.height = height;
        this.Title.pos(width / 2, height / 4);
        this.LoginBtn.pos(width / 2, height / 3 + 100);
        this.ProgressBar.pos(width / 2, height * 3 / 4);
        this.ProgressBar.visible = false;
    };
    return GameUI;
}(layaMaxUI_1.ui.portal.LoadingUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":23,"./GameManager":17}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameManager_1 = require("./GameManager");
var BIMManager_1 = require("./BIM/BIMManager");
var Button = Laya.Button;
var Common_1 = require("./Common/Common");
var EventManager_1 = require("./Events/EventManager");
var Events_1 = require("./Events/Events");
var MainUI = /** @class */ (function (_super) {
    __extends(MainUI, _super);
    function MainUI() {
        var _this = _super.call(this) || this;
        _this.m_isShowMultiBtns = true;
        _this.m_isShowAllLevels = false;
        return _this;
    }
    MainUI.prototype.onEnable = function () {
        var _this = this;
        MainUI._instance = this;
        this.UIAdapter();
        this.AddEvent();
        this.m_is2D = false;
        this.m_levelBtns = new Array();
        this.m_levelPos = new Laya.WeakObject();
        Laya.stage.on(Laya.Event.RESIZE, Laya.stage, function () {
            _this.UIAdapter();
        });
    };
    MainUI.prototype.UIAdapter = function () {
        var _this = this;
        var width = Laya.stage.width;
        var height = Laya.stage.height;
        this.width = width;
        this.height = height;
        this._2D3DBtn.pos(100, height - 100);
        this.DepBtn.pos(100, height / 3);
        this.UsageBtn.pos(100, height / 3 + 150);
        this.AreaBtn.pos(100, height / 3 + 300);
        this.MultiBtn.pos(width - 150, height - 180);
        this.AllBtn.pos(width - 150, height - 100);
        //重新刷新levelbtn
        if (this.m_levelBtns && this.m_levelBtns.length != 0) {
            var index_1 = 0;
            this.m_levelBtns.forEach(function (element) {
                _this.m_levelBtnOriPos = new Laya.Vector2(_this.MultiBtn.x, _this.MultiBtn.y);
                element.pos(_this.MultiBtn.x, _this.MultiBtn.y - ++index_1 * 80);
                if (_this.m_levelPos.has(element)) {
                    _this.m_levelPos.del(element);
                    _this.m_levelPos.set(element, new Laya.Vector2(element.x, element.y));
                }
            });
        }
    };
    //应该有RemoveEvenet
    MainUI.prototype.AddEvent = function () {
        var _this = this;
        this._2D3DBtn.on(Laya.Event.CLICK, null, function (e) {
            _this._2D3DBtnClicked();
            e.stopPropagation();
        });
        this.DepBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Depart);
            e.stopPropagation();
        });
        this.UsageBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Usage);
            e.stopPropagation();
        });
        this.AreaBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Area);
            e.stopPropagation();
        });
        this.MultiBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.ShowLevels(_this.m_isShowMultiBtns);
            e.stopPropagation();
        });
        this.AllBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.m_isShowAllLevels = !_this.m_isShowAllLevels;
            GameManager_1.default.Instance().BIM.ShowAllLevels(_this.m_isShowAllLevels);
            e.stopPropagation();
        });
    };
    MainUI.prototype.CreateLevels = function (levels) {
        var _this = this;
        if (levels == null || levels.length == 0)
            return;
        this.m_levelBtns.splice(0);
        var underGroundLevel = new Array();
        var upGroundLevel = new Array();
        levels.forEach(function (element) {
            if (element.length != 15) {
                console.debug("level name is not legal!");
                return;
            }
            if (Common_1.default.GetPurLevel(element).match("B") != null) {
                underGroundLevel.push(element);
            }
            else {
                upGroundLevel.push(element);
            }
        });
        underGroundLevel.sort(function (a, b) {
            return a.charAt(14) > b.charAt(14) ? -1 : 1;
        });
        upGroundLevel.sort(function (a, b) {
            return a.charAt(14) > b.charAt(14) ? 1 : -1;
        });
        var realLevels = underGroundLevel.concat(upGroundLevel);
        //temp
        var index = 0;
        this.m_levelBtnOriPos = new Laya.Vector2(this.MultiBtn.x, this.MultiBtn.y);
        realLevels.forEach(function (element) {
            _this.CreateOneButton(element, new Laya.Vector2(_this.m_levelBtnOriPos.x, _this.m_levelBtnOriPos.y - ++index * 80));
        });
    };
    MainUI.prototype.CreateOneButton = function (levelCode, pos) {
        if (levelCode == null)
            return;
        var purLevel = Common_1.default.GetPurLevel(levelCode);
        var lvlBtn = new Button("comp/button.png");
        lvlBtn.name = levelCode;
        lvlBtn.width = 80;
        lvlBtn.height = 60;
        lvlBtn.pos(pos.x, pos.y);
        lvlBtn.labelSize = 30;
        lvlBtn.label = purLevel.charAt(0) + purLevel.charAt(3);
        lvlBtn.on(Laya.Event.CLICK, null, function (e, lvlName) {
            e.stopPropagation();
            EventManager_1.default.Instance().PostEvent(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), lvlBtn.name);
        });
        Laya.stage.addChild(lvlBtn);
        this.m_levelBtns.push(lvlBtn);
        this.m_levelPos.set(lvlBtn, new Laya.Vector2(lvlBtn.x, lvlBtn.y));
    };
    MainUI.prototype.ShowLevels = function (b) {
        var _this = this;
        this.m_isShowMultiBtns = !b;
        if (!this.m_isShowMultiBtns) {
            this.MultiBtn.label = "展开";
            this.m_levelBtns.forEach(function (element) {
                Laya.Tween.to(element, { x: _this.m_levelBtnOriPos.x, y: _this.m_levelBtnOriPos.y }, 50, Laya.Ease.linearIn, Laya.Handler.create(_this, function () {
                    element.visible = _this.m_isShowMultiBtns;
                }));
            });
        }
        else {
            this.MultiBtn.label = "折叠";
            this.m_levelBtns.forEach(function (element) {
                element.visible = _this.m_isShowMultiBtns;
                var pos = _this.m_levelPos.get(element);
                Laya.Tween.to(element, { x: pos.x, y: pos.y }, 50);
            });
        }
    };
    MainUI.prototype._2D3DBtnClicked = function () {
        this.m_is2D = !this.m_is2D;
        GameManager_1.default.Instance().Camera.ResetCamera(this.m_is2D);
        if (this.m_is2D) {
            this._2D3DBtn.label = "3D";
        }
        else {
            this._2D3DBtn.label = "2D";
        }
    };
    MainUI._instance = null;
    return MainUI;
}(layaMaxUI_1.ui.MainScene.MainSceneUI));
exports.default = MainUI;
},{"./../ui/layaMaxUI":23,"./BIM/BIMManager":3,"./Common/Common":5,"./Events/EventManager":15,"./Events/Events":16,"./GameManager":17}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtProtocalCommon_1 = require("./MtProtocalCommon");
var MtHttp = /** @class */ (function () {
    function MtHttp(ip, port) {
        this.m_ip = ip;
        this.m_port = port;
        this.URL = "http://" + this.m_ip + ":" + this.m_port;
        this.m_http = new Laya.HttpRequest;
        this.m_protocalCommon = new MtProtocalCommon_1.default();
    }
    MtHttp.prototype.get = function (url, caller, callback) {
        this.m_caller = caller;
        this.m_callback = callback;
        this.m_http.once(Laya.Event.COMPLETE, this, this.onHttpRequestComplete);
        this.m_http.once(Laya.Event.ERROR, this, this.onHttpRequestError);
        this.m_http.send(url, null, 'get', 'text');
        return this;
    };
    MtHttp.prototype.post = function (url, data, caller, callback) {
        this.m_caller = caller;
        this.m_callback = callback;
        this.m_http.once(Laya.Event.COMPLETE, this, this.onHttpRequestComplete);
        this.m_http.once(Laya.Event.ERROR, this, this.onHttpRequestError);
        this.m_http.send(url, data, 'post', 'json', this.m_protocalCommon.CommonHeader);
        return this;
    };
    MtHttp.prototype.onHttpRequestError = function (e) {
        this.m_callback.apply(this.m_caller, [{ state: "failed", msg: e }]);
    };
    MtHttp.prototype.onHttpRequestComplete = function (e) {
        this.m_callback.apply(this.m_caller, [{ state: "succeed", data: this.m_http.data }]);
    };
    return MtHttp;
}());
exports.default = MtHttp;
},{"./MtProtocalCommon":21}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//协议--请求头文件
var ProtocolCommon = /** @class */ (function () {
    function ProtocolCommon() {
        this.AccessControlAllowOrigin = "Access-Control-Allow-Origin";
        this.AccessControlAllowOriginValue = "*";
        this.AccessControlAllowHeaders = "Access-Control-Allow-Headers";
        this.AccessControlAllowHeadersValue = "Content-Type,Content-Length, Authorization, Accept,X-Requested-With";
        this.AccessControlAllowMethods = "Access-Control-Allow-Methods";
        this.AccessControlAllowMethodsValue = "POST, GET, OPTIONS,DELETE,PUT";
        this.XAuthTokenField = "X-Auth-Token";
        this.XAuthTokenFieldValue = "open-sesame";
        this.AcceptField = "Accept";
        this.ContentTypeFieldValue = "application/json";
        this.ContentTypeField = "Content-Type";
        this.TokenField = "cookie";
        this.CommonHeader = new Array();
        this.CommonHeader.push(this.AccessControlAllowOrigin, this.AccessControlAllowOriginValue);
        this.CommonHeader.push(this.AccessControlAllowHeaders, this.AccessControlAllowHeadersValue);
        this.CommonHeader.push(this.AccessControlAllowMethods, this.AccessControlAllowMethodsValue);
        this.CommonHeader.push(this.XAuthTokenField, this.XAuthTokenFieldValue);
        this.CommonHeader.push(this.AcceptField, this.ContentTypeFieldValue);
        this.CommonHeader.push(this.ContentTypeField, this.ContentTypeFieldValue);
    }
    ProtocolCommon.prototype.SetCookies = function (cookie) {
        cookie = cookie;
    };
    return ProtocolCommon;
}());
exports.default = ProtocolCommon;
},{}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Handler = laya.utils.Handler;
var GameUI_1 = require("../GameUI");
var ResManager = /** @class */ (function () {
    function ResManager() {
        this.ResNames = new Array();
        this.ResEnitityDic = new Laya.WeakObject();
    }
    ResManager.Instance = function () {
        if (ResManager._instance == null) {
            ResManager._instance = new ResManager();
        }
        return ResManager._instance;
    };
    //加载多个资源
    ResManager.prototype.LoadPrefabAssets = function (resNames, finished) {
        var _this = this;
        if (resNames == null || resNames.length == 0)
            return;
        this.ResNames = resNames;
        Laya.loader.create(resNames, Handler.create(this, function () {
            _this.ResNames.forEach(function (element) {
                var res = Laya.loader.getRes(element.url);
                if (!_this.ResEnitityDic.has(element.url)) {
                    _this.ResEnitityDic.set(element.url, res);
                }
                if (finished != null) {
                    var params = [element.url, res];
                    finished.runWith(params);
                }
            });
        }), Handler.create(this, function (p) {
            _this.SetLoadPercent(p);
        }));
    };
    ResManager.prototype.GetOneAsset = function (url) {
        if (url == null)
            return null;
        if (this.ResEnitityDic.has(url)) {
            return this.ResEnitityDic.get(url);
        }
        else {
            return null;
        }
    };
    ResManager.prototype.ReleaseOneAsset = function (url) {
        if (url == null)
            return;
        var res = this.GetOneAsset(url);
        if (res != null) {
            //待测试，是否释放了内存
            res.destroy(true);
        }
    };
    //待测试
    ResManager.prototype.ReleaseAllAssets = function () {
        var _this = this;
        if (this.ResEnitityDic != null) {
            this.ResNames.forEach(function (element) {
                if (_this.ResEnitityDic.has(element)) {
                    _this.ResEnitityDic.get(element).destroy(true);
                }
            });
        }
    };
    ResManager.prototype.SetLoadPercent = function (p) {
        GameUI_1.default._instance.SetLoadPercent(p);
    };
    return ResManager;
}());
exports.default = ResManager;
},{"../GameUI":18}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var MainScene;
    (function (MainScene) {
        var MainSceneUI = /** @class */ (function (_super) {
            __extends(MainSceneUI, _super);
            function MainSceneUI() {
                return _super.call(this) || this;
            }
            MainSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(MainSceneUI.uiView);
            };
            MainSceneUI.uiView = { "type": "Scene", "props": { "width": 600, "height": 900 }, "compId": 2, "child": [{ "type": "Button", "props": { "y": 271, "x": 23, "width": 80, "var": "DepBtn", "skin": "comp/button.png", "labelSize": 30, "label": "科室", "height": 60 }, "compId": 7 }, { "type": "Button", "props": { "y": 355, "x": 23, "width": 80, "var": "UsageBtn", "skin": "comp/button.png", "labelSize": 30, "label": "用途", "height": 60 }, "compId": 8 }, { "type": "Button", "props": { "y": 437, "x": 23, "width": 80, "var": "AreaBtn", "skin": "comp/button.png", "labelSize": 30, "label": "面积", "height": 60 }, "compId": 9 }, { "type": "Button", "props": { "y": 600, "x": 476, "width": 80, "var": "MultiBtn", "skin": "comp/button.png", "labelSize": 30, "label": "折叠", "height": 60 }, "compId": 13 }, { "type": "Button", "props": { "y": 680, "x": 23, "width": 80, "var": "_2D3DBtn", "skin": "comp/button.png", "labelSize": 30, "label": "2D", "height": 60 }, "compId": 14 }, { "type": "Button", "props": { "y": 680, "x": 476, "width": 80, "var": "AllBtn", "skin": "comp/button.png", "labelSize": 30, "label": "全部", "height": 60 }, "compId": 26 }], "loadList": ["comp/button.png"], "loadList3D": [] };
            return MainSceneUI;
        }(Scene));
        MainScene.MainSceneUI = MainSceneUI;
        REG("ui.MainScene.MainSceneUI", MainSceneUI);
    })(MainScene = ui.MainScene || (ui.MainScene = {}));
})(ui = exports.ui || (exports.ui = {}));
(function (ui) {
    var portal;
    (function (portal) {
        var LoadingUI = /** @class */ (function (_super) {
            __extends(LoadingUI, _super);
            function LoadingUI() {
                return _super.call(this) || this;
            }
            LoadingUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("portal/Loading");
            };
            return LoadingUI;
        }(Scene));
        portal.LoadingUI = LoadingUI;
        REG("ui.portal.LoadingUI", LoadingUI);
    })(portal = ui.portal || (ui.portal = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2lkZS9MYXlhQWlySURFX2JldGEgKDEpL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9NYWluLnRzIiwic3JjL010R2FtZUNvbmZpZy50cyIsInNyYy9zY3JpcHQvQklNL0JJTU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0NhbWVyYS9DYW1lcmFNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9Db21tb24vQ29tbW9uLnRzIiwic3JjL3NjcmlwdC9Db21wb25lbnQvQ2FtZXJhTW92ZVNjcmlwdC50cyIsInNyYy9zY3JpcHQvQ29tcG9uZW50L0xhYmVsVXBkYXRlLnRzIiwic3JjL3NjcmlwdC9Db21wb25lbnQvTGlnaHRDb250cm9sLnRzIiwic3JjL3NjcmlwdC9Db21wb25lbnQvUmF5U2VsZWN0b3IudHMiLCJzcmMvc2NyaXB0L0NvbmZpZ3VyZS9OYW1lQ29uZmlnLnRzIiwic3JjL3NjcmlwdC9EYXRhL0RhdGFNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9EYXRhL1RhYmxlQklNU3BhY2UudHMiLCJzcmMvc2NyaXB0L0RhdGEvVGFibGVCSU1Vc2FnZVR5cGUudHMiLCJzcmMvc2NyaXB0L0RhdGEvVGFibGVPcmduaXphdGlvbi50cyIsInNyYy9zY3JpcHQvRXZlbnRzL0V2ZW50TWFuYWdlci50cyIsInNyYy9zY3JpcHQvRXZlbnRzL0V2ZW50cy50cyIsInNyYy9zY3JpcHQvR2FtZU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0dhbWVVSS50cyIsInNyYy9zY3JpcHQvTWFpblVJLnRzIiwic3JjL3NjcmlwdC9OZXR3b3JrL010SHR0cC50cyIsInNyYy9zY3JpcHQvTmV0d29yay9NdFByb3RvY2FsQ29tbW9uLnRzIiwic3JjL3NjcmlwdC9SZXNvdXJjZS9SZXNNYW5hZ2VyLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LE9BQU8sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFDLEdBQUcsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsT0FBTyxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLENBQUMsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxDQUFDLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFNBQVMsRUFBQyxNQUFNLEVBQUMsaUJBQWlCLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsQ0FBQyxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxVQUFVLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsaUJBQWlCLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLENBQUMsRUFBQyxVQUFVLEVBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFDLFlBQVksRUFBQyxFQUFFLEVBQUMsQ0FBQztZQU16Z0Msa0JBQUM7U0FiRCxBQWFDLENBYmdDLEtBQUssR0FhckM7UUFiWSxxQkFBVyxjQWF2QixDQUFBO1FBQ0QsR0FBRyxDQUFDLDBCQUEwQixFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ2hELENBQUMsRUFoQmdCLFNBQVMsR0FBVCxZQUFTLEtBQVQsWUFBUyxRQWdCekI7QUFBRCxDQUFDLEVBaEJhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQWdCZjtBQUNELFdBQWMsRUFBRTtJQUFDLElBQUEsTUFBTSxDQWF0QjtJQWJnQixXQUFBLE1BQU07UUFDbkI7WUFBK0IsNkJBQUs7WUFLaEM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLGtDQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyQyxDQUFDO1lBQ0wsZ0JBQUM7UUFBRCxDQVZBLEFBVUMsQ0FWOEIsS0FBSyxHQVVuQztRQVZZLGdCQUFTLFlBVXJCLENBQUE7UUFDRCxHQUFHLENBQUMscUJBQXFCLEVBQUMsU0FBUyxDQUFDLENBQUM7SUFDekMsQ0FBQyxFQWJnQixNQUFNLEdBQU4sU0FBTSxLQUFOLFNBQU0sUUFhdEI7QUFBRCxDQUFDLEVBYmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBYWYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vTXRHYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcclxuaW1wb3J0IE1haW5VSSBmcm9tIFwiLi9zY3JpcHQvTWFpblVJXCI7XHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmdWxsXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJwb3J0YWwvTG9hZGluZy5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVVSS50c1wiLEdhbWVVSSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IFJlc01hbmFnZXIgZnJvbSBcIi4uL1Jlc291cmNlL1Jlc01hbmFnZXJcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgTGFiZWxVcGRhdFBvcyBmcm9tIFwiLi4vQ29tcG9uZW50L0xhYmVsVXBkYXRlXCI7XHJcbmltcG9ydCBDb21tb24gZnJvbSBcIi4uL0NvbW1vbi9Db21tb25cIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCB7IFNwYWNlRGF0YSB9IGZyb20gXCIuLi9EYXRhL1RhYmxlQklNU3BhY2VcIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50c1wiO1xyXG5cclxuLyoqXHJcbiAqIEJJTeeuoeeQhuexu++8jOeUqOS6juWKoOi9veOAgeWIneWni+WMluaooeWei++8m+aooeWei+aJk+WMheagvOW8j+S4ui5saOaWh+S7tu+8jOS7peWxguS4uuWNleS9jVxyXG4gKiBcclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCSU1NYW5hZ2Vye1xyXG5cclxuICAgIHB1YmxpYyBMZXZlbHM6QXJyYXk8c3RyaW5nPjtcclxuICAgIHB1YmxpYyBDdXJyZW5MZXZlbDpzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3NwYWNlRGljOkxheWEuV2Vha09iamVjdDtcclxuICAgIHByaXZhdGUgbV9sZXZlbFNwc2NlRGljOkxheWEuV2Vha09iamVjdDtcclxuICAgIHByaXZhdGUgbV9sZXZlbFJlczpMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgcHJpdmF0ZSBtXzNkbGFiZWxEaXNhcHBlYXJEaXN0YW5jZTpudW1iZXIgPSA4MDtcclxuICAgIHByaXZhdGUgbV8zZGxhYmVsVG90YWxEaXNhcHBlYXJEaXN0YW5jZTpudW1iZXIgPSAxODA7XHJcbiAgICBwcml2YXRlIG1fMmRsYWJlbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDEwMDtcclxuICAgIHByaXZhdGUgbV8yZGxhYmVsVG90YWxEaXNhcHBlYXJEaXN0YW5jZTpudW1iZXIgPSAxODA7XHJcbiAgXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMubV9zcGFjZURpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxTcHNjZURpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxSZXMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5MZXZlbHMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG5cclxuICAgICAgICB0aGlzLkFkZEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIEFkZEV2ZW50cygpe1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLkFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLlNob3dIaWRlVGFnc0J5RGlzdGFuY2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBcclxuICAgICAqIOWKoOi9veaJgOaciealvOWxgui1hOa6kO+8jOW5tuWIneWni+WMlualvOadv++8jOm7mOiupOmakOiXj++8jEdhbWVNYW5hZ2Vy5Lit5byA5ZCv6buY6K6k5bGCXHJcbiAgICAgKiDlm57osIPlh73mlbDoi6XpnIDopoHmiafooYzlpJrmrKHvvIzliJnpnIDopoHlsIZvbmNl572u5Li6ZmFsc2VcclxuICAgICAqIEBwYXJhbSByZXNVcmxcclxuICAgICAqIEBwYXJhbSBvbkNvbXBsZXRlXHJcbiAgICAgKi9cclxuICAgIExvYWRSZXMocmVzVXJsOkFycmF5PGFueT4sb25Db21wbGV0ZT86YW55KXtcclxuICAgICAgICBpZihyZXNVcmw9PW51bGwgfHwgcmVzVXJsLmxlbmd0aCA9PSAwKSBcclxuICAgICAgICAgICAgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdmFyIGluZGV4Om51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIFJlc01hbmFnZXIuSW5zdGFuY2UoKS5Mb2FkUHJlZmFiQXNzZXRzKHJlc1VybCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKHVybCxyZXMpPT57XHJcblxyXG4gICAgICAgICAgICAvL+WIneWni+WMljNE5Zy65pmv77yM5Yid5aeL5YyW5LiA5qyhXHJcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuSW5pdDNEU2NlbmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8v5bCG6LWE5rqQ5Yqg5YWl5Zy65pmvXHJcbiAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTWFpblNjZW5lLmFkZENoaWxkKHJlcyk7XHJcblxyXG4gICAgICAgICAgICAvL+mBjeWOhuaJgOaciei1hOa6kFxyXG4gICAgICAgICAgICB0aGlzLlRyYXZlbE1lc2hTcHJpdGUzRChyZXMpO1xyXG5cclxuICAgICAgICAgICAgLy/otYTmupDpu5jorqTpmpDol49cclxuICAgICAgICAgICAgcmVzLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy/ojrflvpfmiYDmnInmpbzlsYJcclxuICAgICAgICAgICAgdmFyIGxldmVsID0gQ29tbW9uLlBhcnNlTG9hZExldmVsKHVybCk7XHJcbiAgICAgICAgICAgIHRoaXMuTGV2ZWxzLnB1c2gobGV2ZWwpO1xyXG5cclxuICAgICAgICAgICAgLy/orrDlvZXlvZPliY3mpbzlsYLotYTmupBcclxuICAgICAgICAgICAgaWYoIXRoaXMubV9sZXZlbFJlcy5oYXMobGV2ZWwpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sZXZlbFJlcy5zZXQobGV2ZWwscmVzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW5kZXgrKztcclxuXHJcbiAgICAgICAgICAgIGlmKGluZGV4ID09IHJlc1VybC5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgLy/orr7nva7pu5jorqTnmoTmpbzlsYLkuLrnrKzkuIDkuKpcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3VycmVuTGV2ZWwgPSB0aGlzLkxldmVsc1swXTtcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGUuYXBwbHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sbnVsbCxmYWxzZSkpOyBcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDliLfmlrDlvZPliY3mmL7npLrmpbzlsYJUYWdz55qE5YaF5a6577yM6YCa6L+H5qCH562+57G75Z6LTGFiZWxUeXBl5p2l5pS55Y+YO1xyXG4gICAgICogQHBhcmFtIHR5cGUg5qCH562+57G75Z6LXHJcbiAgICAgKi9cclxuICAgIFJlZnJlc2hMYWJlbENvbnRlbnQodHlwZTogTGFiZWxUeXBlKXtcclxuICAgICAgICBpZih0aGlzLkN1cnJlbkxldmVsID09bnVsbHx8XHJcbiAgICAgICAgICAgdGhpcy5tX2xldmVsU3BzY2VEaWMgPT0gbnVsbHx8XHJcbiAgICAgICAgICAgdGhpcy5tX3NwYWNlRGljID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKHRoaXMuQ3VycmVuTGV2ZWwpKXtcclxuICAgICAgICAgICAgdGhpcy5tX2xldmVsU3BzY2VEaWMuZ2V0KHRoaXMuQ3VycmVuTGV2ZWwpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fc3BhY2VEaWMuaGFzKGVsZW1lbnQpKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZsb29yOkZsb29ySXRlbSA9IHRoaXMubV9zcGFjZURpYy5nZXQoZWxlbWVudCkgYXMgRmxvb3JJdGVtO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihmbG9vciA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2godHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFiZWxUeXBlLkRlcGFydDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLmxhYmVsLnRleHQgPSBmbG9vci5PcmdhbmlhenRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNldEhleENvbG9yKGZsb29yLk9iamVjdCwgZmxvb3Iub3JnYW5pemF0aW9uQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYWJlbFR5cGUuQXJlYTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLmxhYmVsLnRleHQgPSBmbG9vci5hcmVhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFiZWxUeXBlLlVzYWdlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3IubGFiZWwudGV4dCA9IGZsb29yLnVzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXRIZXhDb2xvcihmbG9vci5PYmplY3QsIGZsb29yLnVzYWdlQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gYiDmmL7npLrmiJbpmpDol4/lhajpg6jmpbzlsYLvvIzmmL7npLrlhajpg6jmpbzlsYLml7bvvIzopoHlhbPmjol0YWdzXHJcbiAgICAgKi9cclxuICAgIFNob3dBbGxMZXZlbHMoYjpib29sZWFuKXtcclxuICAgICAgICBpZih0aGlzLkxldmVscyA9PSBudWxsfHx0aGlzLkxldmVscy5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLkxldmVscy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBpZihiKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuU2hvd09uZUxldmVsRmxvb3JzKGVsZW1lbnQsdHJ1ZSlcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkhpZGVPbmVMZXZlbEZsb29ycyhlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaYvuekuumakOiXj+alvOWxguWPiualvOWxglRhZ1xyXG4gICAgICogQHBhcmFtIGxldmVsIOalvOWxglxyXG4gICAgICogQHBhcmFtIGIg5pi+L+makFxyXG4gICAgICovXHJcbiAgICBTaG93T25lTGV2ZWxGbG9vcnMobGV2ZWw6c3RyaW5nLGlzU2hvd0FsbD86Ym9vbGVhbil7XHJcbiAgICAgICAgaWYobGV2ZWwgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAvL+W8gOWQr2xldmVsUm9vdFxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFJlcy5oYXMobGV2ZWwpKXtcclxuICAgICAgICAgICAgdmFyIHJlczpMYXlhLlNwcml0ZTNEID0gdGhpcy5tX2xldmVsUmVzLmdldChsZXZlbCk7XHJcbiAgICAgICAgICAgIHJlcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljLmdldChsZXZlbCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoZWxlbWVudCkpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmxvb3JJdGVtOkZsb29ySXRlbSA9IHRoaXMubV9zcGFjZURpYy5nZXQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZsb29ySXRlbSE9bnVsbCAmJiBmbG9vckl0ZW0ubGFiZWwhPW51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc1Nob3dBbGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JJdGVtLmxhYmVsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vckl0ZW0ubGFiZWwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkN1cnJlbkxldmVsID0gbGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgSGlkZU9uZUxldmVsRmxvb3JzKGxldmVsOnN0cmluZyl7XHJcbiAgICAgICAgaWYobGV2ZWwgPT0gbnVsbClcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIC8v5byA5ZCvbGV2ZWxSb290XHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsUmVzLmhhcyhsZXZlbCkpe1xyXG4gICAgICAgICAgICB2YXIgcmVzOkxheWEuU3ByaXRlM0QgPSB0aGlzLm1fbGV2ZWxSZXMuZ2V0KGxldmVsKTtcclxuICAgICAgICAgICAgcmVzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljLmdldChsZXZlbCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbG9vckl0ZW06Rmxvb3JJdGVtID0gdGhpcy5tX3NwYWNlRGljLmdldChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZihmbG9vckl0ZW0hPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihmbG9vckl0ZW0ubGFiZWwhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JJdGVtLmxhYmVsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+HQ29kZeiOt+WPluS4gOS4qkZsb29ySXRlbVxyXG4gICAgICogQHBhcmFtIGNvZGUgXHJcbiAgICAgKi9cclxuICAgIEdldE9uZUZsb29ySXRlbShjb2RlOnN0cmluZyk6Rmxvb3JJdGVte1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tX3NwYWNlRGljLmdldChjb2RlKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHZXRPbmVGbG9vclNwcml0ZTNEKGNvZGU6c3RyaW5nKTpMYXlhLk1lc2hTcHJpdGUzRHtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICB2YXIgZmxvb3IgPSB0aGlzLm1fc3BhY2VEaWMuZ2V0KGNvZGUpIGFzIEZsb29ySXRlbTtcclxuICAgICAgICAgICAgcmV0dXJuIGZsb29yLk9iamVjdDtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBUcmF2ZWxNZXNoU3ByaXRlM0QocGFyZW50OkxheWEuU3ByaXRlM0Qpe1xyXG4gICAgICAgIGlmKHBhcmVudD09IG51bGwpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBmb3IodmFyIGkgPSAwO2k8cGFyZW50Ll9jaGlsZHJlbi5sZW5ndGg7aSsrKXtcclxuXHJcbiAgICAgICAgICAgIHZhciBtZXNoU3ByaXRlM0QgOiBMYXlhLk1lc2hTcHJpdGUzRCA9IHBhcmVudC5nZXRDaGlsZEF0KGkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgICAgICAgICAgaWYobWVzaFNwcml0ZTNEICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgaWYobWVzaFNwcml0ZTNELm1lc2hGaWx0ZXIhPW51bGwgXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgbWVzaFNwcml0ZTNELnBhcmVudC5uYW1lID09IE5hbWVDb25maWcuZmxvb3Ipe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkluc3RhbnRpYXRlRmxvb3JJdGVtKG1lc2hTcHJpdGUzRCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5UcmF2ZWxNZXNoU3ByaXRlM0QobWVzaFNwcml0ZTNEKTtcclxuICAgICAgICAgICAgICAgIH0gICAgIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWvueixoeWMlkZsb29yXHJcbiAgICAgKiBAcGFyYW0gZmxvb3IgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgSW5zdGFudGlhdGVGbG9vckl0ZW0oZmxvb3I6TGF5YS5NZXNoU3ByaXRlM0Qpe1xyXG4gICAgICAgIGlmKGZsb29yID09bnVsbClyZXR1cm47XHJcbiAgICAgICAgIHZhciBtZXNoTmFtZSA9IGZsb29yLm5hbWU7XHJcbiAgICAgICAgIHZhciBkYXRhOlNwYWNlRGF0YSA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuRGF0YS5HZXRPbmVTcGFjZURhdGEobWVzaE5hbWUpO1xyXG5cclxuICAgICAgICAgaWYoZGF0YSE9bnVsbCl7XHJcbiAgICAgICAgICAgIHZhciBmbG9vckl0ZW0gPSB0aGlzLkNyZWF0ZUZsb29ySXRlbShmbG9vcixkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCF0aGlzLm1fc3BhY2VEaWMuaGFzKG1lc2hOYW1lKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3BhY2VEaWMuc2V0KG1lc2hOYW1lLGZsb29ySXRlbSk7ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvL+iusOW9leW9k+WJjeWxguaJgOacieeahOalvOadv1xyXG4gICAgICAgICAgICBpZighdGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKGRhdGEubGV2ZWxDb2RlKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxTcHNjZURpYy5zZXQoZGF0YS5sZXZlbENvZGUsbmV3IEFycmF5PGFueT4oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFycjpBcnJheTxhbnk+ID0gdGhpcy5tX2xldmVsU3BzY2VEaWMuZ2V0KGRhdGEubGV2ZWxDb2RlKTtcclxuICAgICAgICAgICAgYXJyLnB1c2gobWVzaE5hbWUpO1xyXG5cclxuICAgICAgICAgfWVsc2VcclxuICAgICAgICAge1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coXCJEQiBub3QgY29udGFpbiB0aGlzIHswfSBmbG9vclwiLG1lc2hOYW1lKTtcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ3JlYXRlRmxvb3JJdGVtKGZsb29yOkxheWEuTWVzaFNwcml0ZTNELCBkYXRhOlNwYWNlRGF0YSk6Rmxvb3JJdGVte1xyXG4gICAgICAgIGlmKGZsb29yID09IG51bGwgfHwgZGF0YSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47ICAgICAgIFxyXG4gICAgICAgIHZhciBpdGVtID0gbmV3IEZsb29ySXRlbSgpO1xyXG4gICAgICAgIGl0ZW0uT2JqZWN0ID0gZmxvb3I7XHJcbiAgICAgICAgaXRlbS5UcmFuc2Zvcm0gPSBmbG9vci50cmFuc2Zvcm07XHJcbiAgICAgICAgaXRlbS5PcmdhbmlhenRpb24gPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uTmFtZShkYXRhLm9yZ2FuaXphdGlvbkNvZGUpO1xyXG4gICAgICAgIGl0ZW0ub3JnYW5pemF0aW9uQ29sb3IgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uQ29sb3IoZGF0YS5vcmdhbml6YXRpb25Db2RlKTtcclxuICAgICAgICBpdGVtLnVzYWdlID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZVVzYWdlTmFtZShkYXRhLnVzYWdlVHlwZUNvZGUpXHJcbiAgICAgICAgaXRlbS51c2FnZUNvbG9yID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZVVzYWdlQ29sb3IoZGF0YS51c2FnZVR5cGVDb2RlKTtcclxuICAgICAgICBpdGVtLmFyZWEgPSBkYXRhLnVzZUFyZWE7ICBcclxuXHJcbiAgICAgICAgLy9URU1QOum7mOiupOaYvuekuueUqOmAlFxyXG4gICAgICAgIGl0ZW0ubGFiZWwgPSB0aGlzLkNyZWF0ZU9uZUZsb29yVGFnKEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQ2FtZXJhLkNhbWVyYSxmbG9vcixpdGVtLnVzYWdlKTtcclxuICAgICAgICB0aGlzLlNldEhleENvbG9yKGZsb29yLGl0ZW0udXNhZ2VDb2xvcik7XHJcblxyXG4gICAgICAgIC8v6buY6K6kVGFn6ZqQ6JePXHJcbiAgICAgICAgaXRlbS5sYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVPbmVGbG9vclRhZyhjYW1lcmE6TGF5YS5DYW1lcmEsIGZsb29yOkxheWEuTWVzaFNwcml0ZTNEICwgY29udGVudDpzdHJpbmcpIDpMYXlhLkxhYmVse1xyXG4gICAgICAgIHZhciBsYWJlbCA6TGF5YS5MYWJlbCA9IG5ldyBMYXlhLkxhYmVsKCk7XHJcbiAgICAgICAgbGFiZWwuYWRkQ29tcG9uZW50KExhYmVsVXBkYXRQb3MpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICB2YXIgY29tcG9uZW50ID0gbGFiZWwuZ2V0Q29tcG9uZW50KExhYmVsVXBkYXRQb3MpIGFzIExhYmVsVXBkYXRQb3M7XHJcbiAgICAgICAgY29tcG9uZW50LkluaXQoZmxvb3IsY2FtZXJhLGNvbnRlbnQpO1xyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOagueaNruaRhOWDj+acuueahOWIsOWOn+eCueeahOi3neemu+aYvuekuuaIlumakOiXj0xhYmVsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgU2hvd0hpZGVUYWdzQnlEaXN0YW5jZShkaXN0YW5jZTpudW1iZXIpe1xyXG4gICAgICAgIGxldCBzdGFydGRpc2FwcGVhcmRpcyA9IDA7XHJcbiAgICAgICAgbGV0IHRvdGFsZGlzYXBwZWFyZGlzID0gMDtcclxuXHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5DYW1lcmEuSXMyRCl7XHJcbiAgICAgICAgICAgIHN0YXJ0ZGlzYXBwZWFyZGlzID0gdGhpcy5tXzJkbGFiZWxEaXNhcHBlYXJEaXN0YW5jZTtcclxuICAgICAgICAgICAgdG90YWxkaXNhcHBlYXJkaXMgPSB0aGlzLm1fMmRsYWJlbFRvdGFsRGlzYXBwZWFyRGlzdGFuY2VcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc3RhcnRkaXNhcHBlYXJkaXMgPSB0aGlzLm1fM2RsYWJlbERpc2FwcGVhckRpc3RhbmNlO1xyXG4gICAgICAgICAgICB0b3RhbGRpc2FwcGVhcmRpcyA9IHRoaXMubV8zZGxhYmVsVG90YWxEaXNhcHBlYXJEaXN0YW5jZVxyXG4gICAgICAgIH0gIFxyXG5cclxuICAgICAgICBpZihkaXN0YW5jZSA+IHN0YXJ0ZGlzYXBwZWFyZGlzKXtcclxuICAgICAgICAgICAgbGV0IGZsb29yczpBcnJheTxhbnk+ID0gdGhpcy5tX2xldmVsU3BzY2VEaWMuZ2V0KHRoaXMuQ3VycmVuTGV2ZWwpO1xyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBmbG9vcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSAodG90YWxkaXNhcHBlYXJkaXMgLSBzdGFydGRpc2FwcGVhcmRpcykgLyBjb3VudDtcclxuICAgICAgICAgICAgbGV0IHBvaW50ZXIgPSAoZGlzdGFuY2UgLSBzdGFydGRpc2FwcGVhcmRpcykgLyBpbnRlcnZhbDtcclxuXHJcbiAgICAgICAgICAgIGZsb29ycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmxvb3JzLmluZGV4T2YoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxvb3I6Rmxvb3JJdGVtID0gdGhpcy5tX3NwYWNlRGljLmdldChlbGVtZW50KTsgXHJcbiAgICAgICAgICAgICAgICBpZihmbG9vciE9bnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGluZGV4IDw9IHBvaW50ZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLmxhYmVsLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKirmmoLml7blhYjlsIborr7nva7popzoibLnmoTmlrnms5XmlL7liLBCSU3lhoUqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAqIOiusOW9leiuvue9ruminOiJsuWQjueahOadkOi0qOeQg++8m1xyXG4gICAgKi9cclxuICAgIHByaXZhdGUgTWF0ZXJpYWxzRGljOkxheWEuV2Vha09iamVjdCA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7lr7nosaHpopzoibJcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgXHJcbiAgICAgKiBAcGFyYW0gY29sb3IgTGF5YeWGhemDqOeahENvbG9yXHJcbiAgICAgKi9cclxuICAgIFNldExheWFDb2xvcih0YXJnZXQ6TGF5YS5NZXNoU3ByaXRlM0QsY29sb3I6TGF5YS5Db2xvcil7XHJcbiAgICAgICAgaWYodGFyZ2V0ID09IG51bGx8fGNvbG9yID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIG1hdHMgPSB0YXJnZXQubWVzaFJlbmRlcmVyLm1hdGVyaWFscztcclxuXHJcbiAgICAgICAgaWYobWF0cyA9PSBudWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICBtYXRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0Q29sb3IoZWxlbWVudCxuZXcgTGF5YS5WZWN0b3I0KGNvbG9yLnIsY29sb3IuZyxjb2xvci5iLGNvbG9yLmEpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDorr7nva7lr7nosaHnmoTpopzoibJcclxuICAgICAqIEBwYXJhbSB0YXJnZXQg5a+56LGhXHJcbiAgICAgKiBAcGFyYW0gaGV4Q29sb3Ig5Y2B5YWt6L+b5Yi26aKc6ImyXHJcbiAgICAgKi9cclxuICAgIFNldEhleENvbG9yKHRhcmdldDpMYXlhLk1lc2hTcHJpdGUzRCxoZXhDb2xvcjpzdHJpbmcpe1xyXG4gICAgICAgIGlmKHRhcmdldCA9PSBudWxsfHxoZXhDb2xvciA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBtYXRzID0gdGFyZ2V0Lm1lc2hSZW5kZXJlci5tYXRlcmlhbHM7XHJcblxyXG4gICAgICAgIGlmKG1hdHMgPT0gbnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdmFyIGNvbG9yOkxheWEuVmVjdG9yNCA9IHRoaXMuQ29udmVydENvbG9yKGhleENvbG9yKTtcclxuXHJcbiAgICAgICAgbWF0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLlNldENvbG9yKGVsZW1lbnQsY29sb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFNldENvbG9yKG1hdDpMYXlhLkJhc2VNYXRlcmlhbCxjb2xvcjpMYXlhLlZlY3RvcjQpe1xyXG4gICAgICAgIGlmKG1hdCA9PSBudWxsIHx8IGNvbG9yID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAobWF0IGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKS5hbGJlZG9Db2xvciA9IGNvbG9yO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKCF0aGlzLk1hdGVyaWFsc0RpYy5oYXMobWF0KSkge1xyXG4gICAgICAgICAgICB0aGlzLk1hdGVyaWFsc0RpYy5zZXQobWF0LGNvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpopzoibLovazmjaLvvIzlsIZoZXhDb2xvcui9rOaNouaIkFZlY3RvcjRcclxuICAgICAqIEBwYXJhbSBoZXhDb2xvciBcclxuICAgICAqL1xyXG4gICAgQ29udmVydENvbG9yKGhleENvbG9yOnN0cmluZyk6TGF5YS5WZWN0b3I0e1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudDpudW1iZXIgPSBoZXhDb2xvci5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciByID0gcGFyc2VJbnQoaGV4Q29sb3Iuc3Vic3RyKDAsIDIpLCAxNik7XHJcbiAgICAgICAgICAgIHZhciBnID0gcGFyc2VJbnQoaGV4Q29sb3Iuc3Vic3RyKDIsIDIpLCAxNik7XHJcbiAgICAgICAgICAgIHZhciBiID0gcGFyc2VJbnQoaGV4Q29sb3Iuc3Vic3RyKDQsIDIpLCAxNik7XHJcbiAgICAgICAgICAgIHZhciBhID0gMjU1O1xyXG4gICAgICAgICAgICBpZiAoY291bnQgPT0gOClcclxuICAgICAgICAgICAgICAgIGEgPSBwYXJzZUludChoZXhDb2xvci5zdWJzdHIoNiwgMiksIDE2KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29udmVydChyLCBnLCBiLCBhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiPGNvbG9yPXllbGxvdz57MH08L2NvbG9yPlwiLCBcIuWNgeWFrei/m+WItuminOiJsuWAvOagvOW8j+mUmeivryzpnIDovpPlhaU25L2N5oiWOOS9jSjluKZhbHBoYSkxNui/m+WItuWAvCzlpoI6MDA5MUVBRkYs5LiN5YqgI+aIljB4XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IExheWEuVmVjdG9yNCgxLDEsMSwxKTtcclxuICAgIH1cclxuXHJcbiAgICBDb252ZXJ0KHI6bnVtYmVyLGc6bnVtYmVyLCBiOm51bWJlciwgYTpudW1iZXIpIDpMYXlhLlZlY3RvcjR7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMYXlhLlZlY3RvcjQoci8yNTUsZy8yNTUsIGIvMjU1LCBhLzI1NSk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVzZXRDb2xvcihmbG9vcjpMYXlhLk1lc2hTcHJpdGUzRCl7XHJcbiAgICAgICAgaWYoZmxvb3IgPT0gbnVsbHx8Zmxvb3IubWVzaFJlbmRlcmVyID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHZhciBtYXRzID0gZmxvb3IubWVzaFJlbmRlcmVyLm1hdGVyaWFscztcclxuICAgICAgICBpZihtYXRzIT1udWxsKXtcclxuICAgICAgICAgICAgbWF0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5NYXRlcmlhbHNEaWMuaGFzKGVsZW1lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0OkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gZWxlbWVudCBhcyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcclxuICAgICAgICAgICAgICAgICAgICBtYXQuYWxiZWRvQ29sb3IgPSB0aGlzLk1hdGVyaWFsc0RpYy5nZXQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGVudW0gTGFiZWxUeXBle1xyXG4gICAgRGVwYXJ0LFxyXG4gICAgVXNhZ2UsXHJcbiAgICBBcmVhLFxyXG59XHJcblxyXG5jbGFzcyBGbG9vckl0ZW17XHJcbiAgICBwdWJsaWMgT2JqZWN0OkxheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHVibGljIFRyYW5zZm9ybTpMYXlhLlRyYW5zZm9ybTNEO1xyXG4gICAgcHVibGljIE9yZ2FuaWF6dGlvbjpzdHJpbmc7XHJcbiAgICBwdWJsaWMgb3JnYW5pemF0aW9uQ29sb3I6c3RyaW5nO1xyXG4gICAgcHVibGljIHVzYWdlOnN0cmluZztcclxuICAgIHB1YmxpYyB1c2FnZUNvbG9yOnN0cmluZztcclxuICAgIHB1YmxpYyBhcmVhOnN0cmluZztcclxuICAgIHB1YmxpYyBsYWJlbDpMYXlhLkxhYmVsO1xyXG59IiwiaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4uL0NvbXBvbmVudC9DYW1lcmFNb3ZlU2NyaXB0XCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuXHJcbmltcG9ydCBWZWN0b3IzID0gTGF5YS5WZWN0b3IzO1xyXG5pbXBvcnQgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuaW1wb3J0IFJheVNlbGVjdG9yIGZyb20gXCIuLi9Db21wb25lbnQvUmF5U2VsZWN0b3JcIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgTGlnaHRDb250cm9sIGZyb20gXCIuLi9Db21wb25lbnQvTGlnaHRDb250cm9sXCI7XHJcbmltcG9ydCBDYW1lcmFDb250cm9sIGZyb20gXCIuLi9Db21wb25lbnQvQ2FtZXJhQ29udHJvbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhTWFuYWdlcntcclxuXHJcbiAgICBDYW1lcmE6TGF5YS5DYW1lcmE7XHJcblxyXG4gICAgcHVibGljIElzMkQ6Qm9vbGVhbjtcclxuXHJcbiAgICBwcml2YXRlIF8zZFBvczpWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBfM2RSb3Q6VmVjdG9yMztcclxuICAgIHByaXZhdGUgXzJkUG9zOlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIF8yZFJvdDpWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBfb3JpT3J0aFNpemU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLl8zZFBvcyA9IG5ldyBWZWN0b3IzKC02LDQ1LDE3KTtcclxuICAgICAgICB0aGlzLl8zZFJvdCA9IG5ldyBWZWN0b3IzKC03OCwwLDApO1xyXG4gICAgICAgIHRoaXMuXzJkUG9zID0gbmV3IFZlY3RvcjMoLTUsNTAsMTcpO1xyXG4gICAgICAgIHRoaXMuXzJkUm90ID0gbmV3IFZlY3RvcjMoLTkwLDAsMCk7XHJcbiAgICAgICAgdGhpcy5fb3JpT3J0aFNpemUgPSA3MDtcclxuICAgIH1cclxuXHJcbiAgICBJbml0Q2FtZXJhKCl7XHJcbiAgICAgICAgdmFyIGNhbWVyYTpMYXlhLkNhbWVyYSA9IG5ldyBMYXlhLkNhbWVyYSgpOyBcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy5fM2RQb3M7XHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSB0aGlzLl8zZFJvdDtcclxuICAgICAgICBjYW1lcmEuY2xlYXJDb2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMCwwLDAsMCk7XHJcbiAgICAgICAgdGhpcy5DYW1lcmEgPSBjYW1lcmE7XHJcblxyXG4gICAgICAgIC8v5pGE5YOP5py65o6n5Yi2XHJcbiAgICAgICAgY2FtZXJhLmFkZENvbXBvbmVudChDYW1lcmFNb3ZlU2NyaXB0KTtcclxuICAgICAgICBsZXQgY2FtY3RybCA9IGNhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhTW92ZVNjcmlwdCkgYXMgQ2FtZXJhTW92ZVNjcmlwdDtcclxuICAgICAgICBjYW1jdHJsLm1fc2NlbmUzZCA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTWFpblNjZW5lO1xyXG5cclxuICAgICAgICAvL+WwhOe6v+ajgOa1i1xyXG4gICAgICAgIGNhbWVyYS5hZGRDb21wb25lbnQoUmF5U2VsZWN0b3IpO1xyXG4gICAgICAgIHZhciByYXlzZWxlY3RvciA9IGNhbWVyYS5nZXRDb21wb25lbnQoUmF5U2VsZWN0b3IpIGFzIFJheVNlbGVjdG9yO1xyXG4gICAgICAgIHJheXNlbGVjdG9yLlNjZW5lM0QgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZTtcclxuXHJcbiAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5NYWluU2NlbmUuYWRkQ2hpbGQoY2FtZXJhKTtcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0TGlnaHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBJbml0TGlnaHQoKXtcclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQgPSBuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpO1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTWFpblNjZW5lLmFkZENoaWxkKGRpcmVjdGlvbkxpZ2h0KTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC4yLCAwLjIsIDAuMik7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLndvcmxkTWF0cml4LnNldEZvcndhcmQobmV3IExheWEuVmVjdG9yMygxLCAtMSwgMCkpO1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ucm90YXRpb24gPSB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ucm90YXRpb247XHJcblxyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmFkZENvbXBvbmVudChMaWdodENvbnRyb2wpO1xyXG4gICAgICAgIHZhciBsaWdodGNvbnRybCA9IGRpcmVjdGlvbkxpZ2h0LmdldENvbXBvbmVudChMaWdodENvbnRyb2wpIGFzIExpZ2h0Q29udHJvbDtcclxuICAgICAgICBsaWdodGNvbnRybC5DYW1lcmEgPSB0aGlzLkNhbWVyYTtcclxuICAgIH1cclxuXHJcbiAgICBSZXNldENhbWVyYShpczJEOkJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuSXMyRCA9IGlzMkQ7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuQ2FtZXJhLmdldENvbXBvbmVudChDYW1lcmFNb3ZlU2NyaXB0KSBhcyBDYW1lcmFNb3ZlU2NyaXB0O1xyXG4gICAgICAgIGlmKGlzMkQpe1xyXG4gICAgICAgICAgICB0aGlzLkNhbWVyYS5vcnRob2dyYXBoaWMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLkNhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgPSA2MDtcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gdGhpcy5fMmRQb3M7XHJcbiAgICAgICAgICAgIHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSB0aGlzLl8yZFJvdDtcclxuICAgICAgICAgICAgY29tcG9uZW50LklzMkQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gTGF5YS5Ud2Vlbi50byh0aGlzLkNhbWVyYSx7cG9zaXRpb246dGhpcy5fMmRQb3Mscm90YXRpb246dGhpcy5fMmRSb3R9LDEwMDAsbnVsbCxIYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLkNhbWVyYS5vcnRob2dyYXBoaWMgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyAgICAgdGhpcy5DYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplID0gNjA7XHJcbiAgICAgICAgICAgIC8vICAgICBjb21wb25lbnQuSXMyRCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIH0pKTtcclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuQ2FtZXJhLm9ydGhvZ3JhcGhpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLl8zZFBvcztcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlciA9IHRoaXMuXzNkUm90O1xyXG4gICAgICAgICAgICBjb21wb25lbnQuSXMyRCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gTGF5YS5Ud2Vlbi50byh0aGlzLkNhbWVyYSx7cG9zaXRpb246dGhpcy5fM2RQb3Mscm90YXRpb246dGhpcy5fM2RSb3R9LDEwMDAsbnVsbCxIYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLkNhbWVyYS5vcnRob2dyYXBoaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gICAgIGNvbXBvbmVudC5JczJEID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ2FtZXJhTW92ZShvYmplY3Q6T2JqZWN0LCBmcm9tUG9zOlZlY3RvcjMsdG9Qb3M6VmVjdG9yMyl7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgQ2FtZXJhUm90YXRlKGZyb21Sb3RhdGU6VmVjdG9yMyx0b1JvdGF0ZTpWZWN0b3IzKXtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgQWRkRXZlbnQoKXtcclxuICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5BZGRFdmVudExpc3RlbmVyKEV2ZW50cy5PblVJX0xldmVsQnRuX0NsaWNrZWQudG9TdHJpbmcoKSx0aGlzLHRoaXMuQ2FtZXJhTW92ZUluTGV2ZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIENhbWVyYU1vdmVJbkxldmVsKGxldmVsTmFtZTpzdHJpbmcpe1xyXG5cclxuICAgIH1cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21tb257XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+H5qW85p2/Q29kZeiOt+W+l0xldmVsQ29kZVxyXG4gICAgICogQHBhcmFtIGNvZGUgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBHZXRMZXZlbEJ5Rmxvb3JDb2RlKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIG5hbWVzID0gY29kZS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgaWYobmFtZXMubGVuZ3RoIDwgMyl7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gY29kZS5zdWJzdHJpbmcoMCwxNSk7XHJcbiAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4fmpbzmnb9Db2Rl6I635b6XQnVpbGRpbmdDb2RlXHJcbiAgICAgKiBAcGFyYW0gY29kZSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIEdldEJ1aWxkaW5nQnlGbG9vckNvZGUoY29kZTpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbmFtZXMgPSBjb2RlLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICBpZihuYW1lcy5sZW5ndGggPCAzKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2RlLnN1YnN0cmluZygwLDEwKTtcclxuICAgICAgICB9ICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4fliqDovb3nmoTotYTmupDvvIzojrflj5blvZPliY3otYTmupDnmoTmiYDlnKjnmoTmpbzlsYJcclxuICAgICAqIEBwYXJhbSB1cmwgLmxo6LWE5rqQ55qEdXJs6Lev5b6E77yMLmxo5paH5Lu255qE5ZG95ZCN6KeE5YiZ5b+F6aG75Li65qW85bGC55qEQ29kZVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgUGFyc2VMb2FkTGV2ZWwodXJsOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHVybCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIHRlbXAgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi9cIikgKyAxKTtcclxuICAgICAgICB2YXIgbGV2ZWwgPSB0ZW1wLnN1YnN0cigwLHRlbXAuaW5kZXhPZihcIi5cIikpO1xyXG5cclxuICAgICAgICByZXR1cm4gbGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDov5Tlm57liY3nq6/mmL7npLrnmoRMZXZlbENvZGU75L6L5aaCRjFcclxuICAgICAqIEBwYXJhbSBsZXZlbENvZGUg5qW85bGC57yW56CB77yaQkRIQ01VLUEwMi1GMDAxXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBHZXRQdXJMZXZlbChsZXZlbENvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYobGV2ZWxDb2RlID09IG51bGwgfHwgbGV2ZWxDb2RlLm1hdGNoKFwiLVwiKSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGVsZXMgPSBsZXZlbENvZGUuc3BsaXQoXCItXCIpO1xyXG5cclxuICAgICAgICBpZihlbGVzLmxlbmd0aDwzKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZXNbMl07XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IFZlY3RvcjMgPSBMYXlhLlZlY3RvcjM7XHJcbmltcG9ydCBWZWN0b3IyID0gTGF5YS5WZWN0b3IyO1xyXG5pbXBvcnQgTGFiZWwgPSBMYXlhLkxhYmVsO1xyXG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gXCIuLi9FdmVudHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuLi9FdmVudHMvRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmFNb3ZlU2NyaXB0IGV4dGVuZHMgTGF5YS5TY3JpcHQzRCB7XHJcblx0XHRcclxuICAgIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpO31cclxuXHJcbiAgICBwcml2YXRlIG1fY2FtZXJhOkxheWEuQ2FtZXJhO1xyXG4gICAgcHVibGljICBtX3NjZW5lM2Q6TGF5YS5TY2VuZTNEO1xyXG5cclxuICAgIHByaXZhdGUgbV90ZW1wVmVjdG9yMzpWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBtX2xhc3RNb3VzZVg6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtX2xhc3RNb3VzZVk6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgbV9pc01vdXNlRG93bjpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2lzUmlnaHRNb3VzZURvd246Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9pc01vdXNlV2hlZWw6Ym9vbGVhbjtcclxuXHJcbiAgICBwcml2YXRlIG1fM2RNb3ZlU3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkUm90YXRlU3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkV2hlZWxTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fMmRNb3ZlU3BlZWQ6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzJkV2hlZWxTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RNaW5ab29tRGlzdGFuY2U6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkTWF4Wm9vbURpc3RhbmNlOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZE1pbkNhbWVyYVBpdGNoUmFkaWFuOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZE1heENhbWVyYVBpdGNoUmFkaWFuOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8yZE1pbk9ydGhvZ3JhcGhpY1NpemU6bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgbV9jdXJyZW50UGl0Y2hSYWRpYW46bnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgbV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnM6Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9pc1JpZ2h0TW91c2VCdXR0b25Eb3duOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIG1fbGFzdFRvdWNoRmluZ2VyMDpWZWN0b3IyO1xyXG4gICAgcHJpdmF0ZSBtX2xhc3RUb3VjaEZpbmdlcjE6VmVjdG9yMjtcclxuXHJcbiAgICBwcml2YXRlIG1fbGFzdERpc3RhbmNlOiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBtX3ByZVJhZGlhbjogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwdWJsaWMgT25Nb3VzZVdoZWVsOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uU2luZ2xlRmluZ2VyRHJhZzpGdW5jdGlvbjtcclxuICAgIHB1YmxpYyBPbkRvdWJsZUZpbmdlcnNQaW5jaDpGdW5jdGlvbjtcclxuICAgIHB1YmxpYyBPbkRvdWJsZUZpbmdlcnNUd2lzdDpGdW5jdGlvbjtcclxuICAgIHB1YmxpYyBPblxyXG4gICBcclxuICAgIHByaXZhdGUgbV9mb3J3YXJkTGVuZ3RoOiBudW1iZXIgPSAzO1xyXG4gICAgcHJpdmF0ZSBtX2xvb2tBdFBvaW50OiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIHByaXZhdGUgbV9pc1R3b0ZpbmdlcnNUb3VjaDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtX3R3b0ZpbmdlcnNEaXN0YW5jZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIG1fbGFzdFRvdWNoZXM6YW55W107XHJcblxyXG4gICAgcHJvdGVjdGVkIHlhd1BpdGNoUm9sbDpMYXlhLlZlY3RvcjM7XHJcbiAgICBwcm90ZWN0ZWQgcmVzdWx0Um90YXRpb246TGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHJvdGVjdGVkIHRlbXBSb3RhdGlvblo6TGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHJvdGVjdGVkIHRlbXBSb3RhdGlvblg6TGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHJvdGVjdGVkIHRlbXBSb3RhdGlvblk6TGF5YS5RdWF0ZXJuaW9uO1xyXG5cclxuICAgIHByaXZhdGUgbV9yYXk6TGF5YS5SYXk7XHJcbiAgICBwcml2YXRlIG1faGl0UmVzdWx0OkxheWEuSGl0UmVzdWx0O1xyXG4gICAgcHJpdmF0ZSBtX2hpdE9iamVjdDpMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgbV9oaXRQb2ludDpMYXlhLlZlY3RvcjM7XHJcbiAgICBcclxuICAgIHB1YmxpYyBJc1Nob3dMYWJsZTpib29sZWFuID0gdHJ1ZTtcclxuICAgIHByb3RlY3RlZCBtX2xhYmVsOiBMYWJlbDtcclxuXHJcbiAgICBwdWJsaWMgSXMyRDpCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJvdGVjdGVkIG1fbW91c2VQb2ludDpWZWN0b3IyO1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICB0aGlzLkluaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5BZGRFdmVuZXRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVmcmVzaFBpdGNoUmFkaWFuKCk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVmcmVzaExvb2tBdFBvaW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLklzU2hvd0xhYmxlKVxyXG4gICAgICAgICAgICB0aGlzLlNob3dJbmZvKCk7XHJcblxyXG4gICAgICAgIHRoaXMuUmF5Q2FzdEhpdCgpO1xyXG5cclxuICAgICAgICB0aGlzLkNhbWVyYVRvWmVyb0Rpc3RhbmNlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIHRoaXMuUmVtb3ZlRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEluaXQoKXtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhID0gdGhpcy5vd25lciBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9tb3VzZVBvaW50ID0gbmV3IFZlY3RvcjIoKTtcclxuICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMCA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEgPSBuZXcgVmVjdG9yMigpO1xyXG5cclxuICAgICAgICB0aGlzLnlhd1BpdGNoUm9sbCA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnJlc3VsdFJvdGF0aW9uID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMudGVtcFJvdGF0aW9uWiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnRlbXBSb3RhdGlvblggPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy50ZW1wUm90YXRpb25ZID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG5cclxuICAgICAgICB0aGlzLm1fcmF5ID0gbmV3IExheWEuUmF5KG5ldyBWZWN0b3IzKCksbmV3IFZlY3RvcjMoKSk7XHJcbiAgICAgICAgdGhpcy5tX2hpdFJlc3VsdCA9IG5ldyBMYXlhLkhpdFJlc3VsdCgpO1xyXG5cclxuICAgICAgICBpZih0aGlzLklzU2hvd0xhYmxlKVxyXG4gICAgICAgICAgICB0aGlzLm1fbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKG5ldyBWZWN0b3IyKDEwLDEwKSlcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0RGlmZlBsYXRmb3JtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuI3lkIzlubPlj7DkuI3lkIzphY3nva7vvIzku45qc29u5paH5Lu25Lit6K+75Y+WXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBJbml0RGlmZlBsYXRmb3JtKCl7XHJcbiAgICAgICAgaWYoTGF5YS5Ccm93c2VyLm9uQW5kcm9pZHx8TGF5YS5Ccm93c2VyLm9uSVBob25lfHxMYXlhLkJyb3dzZXIub25Nb2JpbGUpe1xyXG4gICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNb3ZlU3BlZWQgPSAwLjAyO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RSb3RhdGVTcGVlZCA9IDAuMDA0O1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RXaGVlbFNwZWVkID0gMjtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fMmRNb3ZlU3BlZWQgPSAwLjAyO1xyXG4gICAgICAgICAgICB0aGlzLm1fMmRXaGVlbFNwZWVkID0gMjtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNaW5ab29tRGlzdGFuY2UgPSAtMzA7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1heFpvb21EaXN0YW5jZSA9IDEwMDA7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1pbkNhbWVyYVBpdGNoUmFkaWFuID0gMTAgKiBNYXRoLlBJIC8gMTgwOyBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW4gPSA5MCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemUgPSAxMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihMYXlhLkJyb3dzZXIub25QQ3x8TGF5YS5Ccm93c2VyLm9uTWFjKXtcclxuICAgICAgICAgICAgdGhpcy5tXzNkTW92ZVNwZWVkID0gMC4wNDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkUm90YXRlU3BlZWQgPSAwLjAwNDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkV2hlZWxTcGVlZCA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzJkTW92ZVNwZWVkID0gMC4wMjtcclxuICAgICAgICAgICAgdGhpcy5tXzJkV2hlZWxTcGVlZCA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWluWm9vbURpc3RhbmNlID0gLTMwO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNYXhab29tRGlzdGFuY2UgPSAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbiA9IDEwICogTWF0aC5QSSAvIDE4MDsgXHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1heENhbWVyYVBpdGNoUmFkaWFuID0gOTAgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBBZGRFdmVuZXRzKCl7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfVVAsIHRoaXMsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX1dIRUVMLCB0aGlzLCB0aGlzLm1vdXNlV2hlZWwpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9NT1ZFLCB0aGlzLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJJR0hUX01PVVNFX0RPV04sIHRoaXMsIHRoaXMucmlnaHRNb3VzZURvd24pO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9VUCwgdGhpcywgdGhpcy5yaWdodE1vdXNlVXApOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgUmVtb3ZlRXZlbnRzKCl7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX1dIRUVMLCB0aGlzLCB0aGlzLm1vdXNlV2hlZWwpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuUklHSFRfTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5yaWdodE1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9VUCwgdGhpcywgdGhpcy5yaWdodE1vdXNlVXApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VEb3duKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uLmdldFlhd1BpdGNoUm9sbCh0aGlzLnlhd1BpdGNoUm9sbCk7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG4gICAgICAgIHRoaXMubV9pc01vdXNlRG93biA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIC8vVHdvIGZpbmdlcnMgb3BlcmF0aW9uXHJcbiAgICAgICAgdmFyIHRvdWNoZXM6IEFycmF5PGFueT4gPSBlLnRvdWNoZXM7XHJcbiAgICAgICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC54ID0gdG91Y2hlc1swXS5zdGFnZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnkgPSB0b3VjaGVzWzBdLnN0YWdlWTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueCA9IHRvdWNoZXNbMV0uc3RhZ2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS55ID0gdG91Y2hlc1sxXS5zdGFnZVk7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0RGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlKHRvdWNoZXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1fcHJlUmFkaWFuID0gdGhpcy5hdGFuMkV4dCh0b3VjaGVzWzBdLnN0YWdlWSAtIHRvdWNoZXNbMV0uc3RhZ2VZLCB0b3VjaGVzWzBdLnN0YWdlWCAtIHRvdWNoZXNbMV0uc3RhZ2VYKTtcclxuICAgICAgICAgICAgdGhpcy5tX2lzVHdvRmluZ2Vyc1RvdWNoID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBtb3VzZVVwKGU6TGF5YS5FdmVudCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHRvdWNoZXM6IEFycmF5PGFueT4gPSBlLnRvdWNoZXM7XHJcbiAgICAgICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm1faXNUd29GaW5nZXJzVG91Y2ggPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJpZ2h0TW91c2VEb3duKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubV9sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1faXNSaWdodE1vdXNlQnV0dG9uRG93biA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJpZ2h0TW91c2VVcChlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tX2lzUmlnaHRNb3VzZUJ1dHRvbkRvd24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VXaGVlbChlOkxheWEuRXZlbnQpOnZvaWQge1xyXG4gICAgICAgIGlmKGUgPT0gbnVsbCkgcmV0dXJuIDtcclxuICAgICAgICBsZXQgem9vbURlbHRhOiBudW1iZXIgPSBlLmRlbHRhO1xyXG4gICAgICAgIGlmKHRoaXMuSXMyRCl7ICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgKz0gLXpvb21EZWx0YSAqIHRoaXMubV8yZFdoZWVsU3BlZWQ7ICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplIDwgdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA9IHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemU7XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhWm9vbSh6b29tRGVsdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuT25Nb3VzZVdoZWVsKSBcclxuICAgICAgICAgICAgdGhpcy5Pbk1vdXNlV2hlZWwoem9vbURlbHRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VNb3ZlKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB2YXIgdG91Y2hlczogQXJyYXk8YW55PiA9IGUudG91Y2hlcztcclxuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ29udHJvbEJ5TW91c2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDdHJsQnlUb3VjaCh0b3VjaGVzKTsgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICogIOm8oOagh+aooeW8jyBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVDb250cm9sQnlNb3VzZSgpe1xyXG4gICAgICAgIGlmICh0aGlzLm1faXNNb3VzZURvd24pIHtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWDogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLm1fbGFzdE1vdXNlWDtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWTogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLm1fbGFzdE1vdXNlWTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1faXNSaWdodE1vdXNlQnV0dG9uRG93bikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWx0YVggPSAwOyBkZWx0YVkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVJpZ2h0KC10aGlzLm1fM2RNb3ZlU3BlZWQgKiBkZWx0YVgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVXAodGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFZKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVmcmVzaExvb2tBdFBvaW50KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLklzMkQpIHJldHVybiA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWDogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLm1fbGFzdE1vdXNlWDtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVk6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VZIC0gdGhpcy5tX2xhc3RNb3VzZVk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZCgtZGVsdGFZICogdGhpcy5tXzNkUm90YXRlU3BlZWQsIC1kZWx0YVggKiB0aGlzLm1fM2RSb3RhdGVTcGVlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6bmjqfmqKHlvI9cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVDdHJsQnlUb3VjaCh0b3VjaGVzOkFycmF5PGFueT4pe1xyXG4gICAgICAgIGlmICh0b3VjaGVzLmxlbmd0aCA9PSAxICYmICF0aGlzLm1faXNUd29GaW5nZXJzVG91Y2gpIHtcclxuICAgICAgICAgICAgLy/ljZXmjIfop6bmjqdcclxuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24uZ2V0WWF3UGl0Y2hSb2xsKHRoaXMueWF3UGl0Y2hSb2xsKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWDogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLm1fbGFzdE1vdXNlWDtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWTogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLm1fbGFzdE1vdXNlWTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOS4iuS4gOasoeaTjeS9nOaYr+WPjOaMhyzlpoLlj4zmjIfmk43kvZzml7Ys5oqs6LW35LiA5oyH5Y+Y5Y2V5oyH5pON5L2cLOimgeWBmuS4qua4hembtizpmLLmraLmkYTlg4/mnLrot7Pot4NcclxuICAgICAgICAgICAgICAgIGRlbHRhWCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkZWx0YVkgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2lzTGFzdFRvdWNoRG91YmxlRmluZ2VycyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbGV0IHNwZWVkOiBudW1iZXIgPSAwLjA2O1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVSaWdodCgtdGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFYKTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVXAodGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFZKTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuUmVmcmVzaExvb2tBdFBvaW50KCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b3VjaGVzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuSXMyRCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UyOiBudW1iZXIgPSB0aGlzLmdldERpc3RhbmNlKHRvdWNoZXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yMjogbnVtYmVyID0gMC4xO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwaW5jaFZhbHVlMjogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBwaW5jaFZhbHVlMiA9IChkaXN0YW5jZTIgLSB0aGlzLm1fbGFzdERpc3RhbmNlKSAqIGZhY3RvcjI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3REaXN0YW5jZSA9IGRpc3RhbmNlMjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSAtPSBwaW5jaFZhbHVlMjsgICBcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA8IHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplID0gdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/lj4zmjIfop6bmjqdcclxuICAgICAgICAgICAgICAgIHRoaXMubV9pc1R3b0ZpbmdlcnNUb3VjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdHdvRmluZ2Vyc0Rpc3RhbmNlOiBudW1iZXIgPSB0aGlzLmdldFR3b0ZpbmdlcnNEaXN0YW5jZSh0b3VjaGVzKTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YURpc3RhbmNlOiBudW1iZXIgPSBNYXRoLmFicyh0d29GaW5nZXJzRGlzdGFuY2UgLSB0aGlzLm1fdHdvRmluZ2Vyc0Rpc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV90d29GaW5nZXJzRGlzdGFuY2UgPSB0d29GaW5nZXJzRGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vVHdvIGZpbmdlcnMgZHJhZ1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWDA6IG51bWJlciA9IHRvdWNoZXNbMF0uc3RhZ2VYIC0gdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueDtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVkwOiBudW1iZXIgPSB0b3VjaGVzWzBdLnN0YWdlWSAtIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFYMTogbnVtYmVyID0gdG91Y2hlc1sxXS5zdGFnZVggLSB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS54O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWTE6IG51bWJlciA9IHRvdWNoZXNbMV0uc3RhZ2VZIC0gdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVkgPSAoZGVsdGFZMCArIGRlbHRhWTEpICogMC41O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWCA9IChkZWx0YVgwICsgZGVsdGFYMSkgKiAwLjU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZCgtZGVsdGFZICogdGhpcy5tXzNkUm90YXRlU3BlZWQsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnggPSB0b3VjaGVzWzBdLnN0YWdlWDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnkgPSB0b3VjaGVzWzBdLnN0YWdlWTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnggPSB0b3VjaGVzWzFdLnN0YWdlWDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnkgPSB0b3VjaGVzWzFdLnN0YWdlWTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1R3byBmaW5nZXJzIHBpbmNoXHJcbiAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2U6IG51bWJlciA9IHRoaXMuZ2V0RGlzdGFuY2UodG91Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3I6IG51bWJlciA9IDAuMDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGluY2hWYWx1ZTogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgICAgIHBpbmNoVmFsdWUgKz0gKGRpc3RhbmNlIC0gdGhpcy5tX2xhc3REaXN0YW5jZSkgKiBmYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5nZXJQaW5jaFNwZWVkOiBudW1iZXIgPSAxMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhWm9vbShwaW5jaFZhbHVlICogZmluZ2VyUGluY2hTcGVlZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5PbkRvdWJsZUZpbmdlcnNQaW5jaClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk9uRG91YmxlRmluZ2Vyc1BpbmNoKHBpbmNoVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL1R3byBmaW5nZXJzIHR3aXN0XHJcbiAgICAgICAgICAgICAgICBsZXQgbm93UmFkaWFuOiBudW1iZXIgPSB0aGlzLmF0YW4yRXh0KHRvdWNoZXNbMF0uc3RhZ2VZIC0gdG91Y2hlc1sxXS5zdGFnZVksIHRvdWNoZXNbMF0uc3RhZ2VYIC0gdG91Y2hlc1sxXS5zdGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhUmFkaWFuOiBudW1iZXIgPSBub3dSYWRpYW4gLSB0aGlzLm1fcHJlUmFkaWFuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhUmFkaWFuICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHdpc3RWYWx1ZTogbnVtYmVyID0gMTgwIC8gTWF0aC5QSSAqIGRlbHRhUmFkaWFuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXJvdW5kKDAsIHR3aXN0VmFsdWUgKiAwLjEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9wcmVSYWRpYW4gPSBub3dSYWRpYW47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuT25Eb3VibGVGaW5nZXJzVHdpc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuT25Eb3VibGVGaW5nZXJzVHdpc3QodHdpc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHliY3np7vliqjjgIJcclxuICAgICAqIEBwYXJhbSBkaXN0YW5jZSDnp7vliqjot53nprvjgIJcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVGb3J3YXJkKGRpc3RhbmNlOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnggPSB0aGlzLm1fdGVtcFZlY3RvcjMueSA9IDA7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnogPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUodGhpcy5tX3RlbXBWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHlj7Pnp7vliqjjgIJcclxuICAgICAqIEBwYXJhbSBkaXN0YW5jZSDnp7vliqjot53nprvjgIJcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVSaWdodChkaXN0YW5jZTpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy55ID0gdGhpcy5tX3RlbXBWZWN0b3IzLnogPSAwO1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy54ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKHRoaXMubV90ZW1wVmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICog5ZCR5LiK56e75Yqo44CCXHJcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2Ug56e75Yqo6Led56a744CCXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtb3ZlVXAoZGlzdGFuY2U6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueCA9IHRoaXMubV90ZW1wVmVjdG9yMy56ID0gMDtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueSA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZSh0aGlzLm1fdGVtcFZlY3RvcjMsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57yp5pS+XHJcbiAgICAgKiBAcGFyYW0gZGVsdGEgXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBjYW1lcmFab29tKGRlbHRhOiBudW1iZXIpOiB2b2lke1xyXG4gICAgICAgIC8vIGlmKHRoaXMubV9oaXRPYmplY3QhPW51bGwgJiYgIXRoaXMubV9pc1JpZ2h0TW91c2VEb3duKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5tX2ZvcndhcmRMZW5ndGggPSB0aGlzLmdldFR3b1BvaW50c0Rpc3RhbmNlKFxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24sdGhpcy5tX2hpdFBvaW50KTsgICAgICAgIFxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBsZXQgY3VycmVudEZvcndhcmRMZW5ndGg6IG51bWJlciA9IHRoaXMubV9mb3J3YXJkTGVuZ3RoO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZTogbnVtYmVyID0gLWRlbHRhICogdGhpcy5tXzNkV2hlZWxTcGVlZDtcclxuICAgICAgICBjdXJyZW50Rm9yd2FyZExlbmd0aCArPSBkaXN0YW5jZTtcclxuICAgICAgICBpZiAoZGVsdGEgPiAwKSB7XHJcbiAgICAgICAgICAgIC8v5ouJ6L+RXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9yd2FyZExlbmd0aCA8IHRoaXMubV8zZE1pblpvb21EaXN0YW5jZSkgIFxyXG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgKz0gKHRoaXMubV8zZE1pblpvb21EaXN0YW5jZSAtIGN1cnJlbnRGb3J3YXJkTGVuZ3RoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/mi4nov5xcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb3J3YXJkTGVuZ3RoID4gdGhpcy5tXzNkTWF4Wm9vbURpc3RhbmNlKSAgXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSAtPSAoY3VycmVudEZvcndhcmRMZW5ndGggLSB0aGlzLm1fM2RNYXhab29tRGlzdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vdmVGb3J3YXJkKGRpc3RhbmNlKTtcclxuICAgICAgICB0aGlzLm1fZm9yd2FyZExlbmd0aCArPSBkaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaXi+i9rFxyXG4gICAgICogQHBhcmFtIGFuZ2xlWCBcclxuICAgICAqIEBwYXJhbSBhbmdsZVkgXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCByb3RhdGVBcm91bmQoYW5nbGVYOiBudW1iZXIsIGFuZ2xlWTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRSYWRpYW46IG51bWJlciA9IHRoaXMubV9jdXJyZW50UGl0Y2hSYWRpYW47XHJcbiAgICAgICAgY3VycmVudFJhZGlhbiAtPSBhbmdsZVg7XHJcbiAgICAgICAgaWYgKGFuZ2xlWCA8IDApIHtcclxuICAgICAgICAgICAgLy/kuIvmi5bliqgs5b6A5LiK6L2sXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmFkaWFuID4gdGhpcy5tXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW4pICBcclxuICAgICAgICAgICAgICAgIGFuZ2xlWCArPSAoY3VycmVudFJhZGlhbiAtIHRoaXMubV8zZE1heENhbWVyYVBpdGNoUmFkaWFuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+S4iuaLluWKqCzlvoDkuIvovaxcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSYWRpYW4gPCB0aGlzLm1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbikgIFxyXG4gICAgICAgICAgICAgICAgYW5nbGVYICs9IChjdXJyZW50UmFkaWFuIC0gdGhpcy5tXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBWZWN0b3IzKGFuZ2xlWCwgMCwgMCkpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMygwLCBhbmdsZVksIDApLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGxldCBmb3J3YXJkOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5nZXRGb3J3YXJkKGZvcndhcmQpO1xyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgVmVjdG9yMy5zY2FsZShmb3J3YXJkLCAtMSwgZm9yd2FyZCk7XHJcbiAgICAgICAgbmV3UG9zaXRpb24gPSB0aGlzLkZvcndhcmQodGhpcy5tX2xvb2tBdFBvaW50LCBmb3J3YXJkLCB0aGlzLm1fZm9yd2FyZExlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcclxuXHJcbiAgICAgICAgdGhpcy5SZWZyZXNoUGl0Y2hSYWRpYW4oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIF91cGRhdGVSb3RhdGlvbigpOnZvaWQge1xyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnlhd1BpdGNoUm9sbC55KSA8IDEuNTApIHtcclxuICAgICAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21ZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwueCwgdGhpcy55YXdQaXRjaFJvbGwueSwgdGhpcy55YXdQaXRjaFJvbGwueiwgdGhpcy50ZW1wUm90YXRpb25aKTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wUm90YXRpb25aLmNsb25lVG8odGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24gPSB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aKik1hdGguYXRhbjLlgLzln5/mmKDlsITliLBbMCwgMnBpXVxyXG4gICAgcHJvdGVjdGVkIGF0YW4yRXh0KHk6IG51bWJlciwgeDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgcmFkaWFuOiBudW1iZXIgPSBNYXRoLmF0YW4yKHksIHgpO1xyXG4gICAgICAgIGlmIChyYWRpYW4gPj0gMClcclxuICAgICAgICAgICAgcmV0dXJuIHJhZGlhbjtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiByYWRpYW4gKyAyICogTWF0aC5QSTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0VHdvRmluZ2Vyc0Rpc3RhbmNlKHRvdWNoZXM6IEFycmF5PGFueT4pOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBmaW5nZXJzRGlzdGFuY2U6IG51bWJlciA9IDA7XHJcbiAgICAgICAgdmFyIGR4OiBudW1iZXIgPSB0b3VjaGVzWzBdLnN0YWdlWCAtIHRvdWNoZXNbMV0uc3RhZ2VYO1xyXG4gICAgICAgIHZhciBkeTogbnVtYmVyID0gdG91Y2hlc1swXS5zdGFnZVkgLSB0b3VjaGVzWzFdLnN0YWdlWTtcclxuICAgICAgICBmaW5nZXJzRGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgIHJldHVybiBmaW5nZXJzRGlzdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJvdGF0ZUFyb3VuZFkocG9uaXQ6IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyLCBhbmdsZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHBvc1g6IG51bWJlciA9IE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cztcclxuICAgICAgICBsZXQgcG9zWTogbnVtYmVyID0gTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3IFZlY3RvcjMocG9zWCwgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24ueSwgcG9zWSk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9va0F0KHBvbml0LCBuZXcgVmVjdG9yMygwLCAxLCAwKSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByb3RhdGVBcm91bmRYKHBvbml0OiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMyhhbmdsZSwgMCwgMCkpO1xyXG4gICAgICAgIGxldCBmb3J3YXJkOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5nZXRGb3J3YXJkKGZvcndhcmQpO1xyXG4gICAgICAgIGxldCBwb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7ICAgXHJcbiAgICAgICAgbGV0IGRlbHRhUG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpOyAgIFxyXG4gICAgICAgIFZlY3RvcjMuc2NhbGUoZm9yd2FyZCwgLXJhZGl1cywgZGVsdGFQb3NpdGlvbik7IFxyXG4gICAgICAgIFZlY3RvcjMuYWRkKHBvbml0LCBkZWx0YVBvc2l0aW9uLCBwb3NpdGlvbik7IFxyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy/orqHnrpfkuKTkuKrop6bmkbjngrnkuYvpl7TnmoTot53nprtcclxuICAgIHByb3RlY3RlZCBnZXREaXN0YW5jZShwb2ludHM6IEFycmF5PGFueT4pOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBkaXN0YW5jZTpudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmIChwb2ludHMgJiYgcG9pbnRzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHZhciBkeDogbnVtYmVyID0gcG9pbnRzWzBdLnN0YWdlWCAtIHBvaW50c1sxXS5zdGFnZVg7XHJcbiAgICAgICAgICAgIHZhciBkeTogbnVtYmVyID0gcG9pbnRzWzBdLnN0YWdlWSAtIHBvaW50c1sxXS5zdGFnZVk7XHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgZ2V0VHdvUG9pbnRzRGlzdGFuY2UocG9pbnRBOiBWZWN0b3IzLCBwb2ludEI6IFZlY3RvcjMpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciBkaXN0YW5jZTogbnVtYmVyID0gMDtcclxuICAgICAgICB2YXIgZHg6IG51bWJlciA9IHBvaW50QS54IC0gcG9pbnRCLng7XHJcbiAgICAgICAgdmFyIGR5OiBudW1iZXIgPSBwb2ludEEueSAtIHBvaW50Qi55O1xyXG4gICAgICAgIHZhciBkejogbnVtYmVyID0gcG9pbnRBLnogLSBwb2ludEIuejtcclxuICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHopO1xyXG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgRm9yd2FyZChwb3NpdGlvbjogVmVjdG9yMywgZGlyZWN0aW9uOiBWZWN0b3IzLCBkaXN0YW5jZTogbnVtYmVyKTogVmVjdG9yMyB7XHJcbiAgICAgICAgbGV0IGRlbHRhUG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpOyAgIFxyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7ICAgXHJcbiAgICAgICAgVmVjdG9yMy5zY2FsZShkaXJlY3Rpb24sIGRpc3RhbmNlLCBkZWx0YVBvc2l0aW9uKTsgXHJcbiAgICAgICAgVmVjdG9yMy5hZGQocG9zaXRpb24sIGRlbHRhUG9zaXRpb24sIG5ld1Bvc2l0aW9uKTsgXHJcbiAgICAgICAgcmV0dXJuIG5ld1Bvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBSZWZyZXNoTG9va0F0UG9pbnQoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGZvcndhcmQ6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmdldEZvcndhcmQoZm9yd2FyZCk7XHJcbiAgICAgICAgdGhpcy5tX2xvb2tBdFBvaW50ID0gdGhpcy5Gb3J3YXJkKHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLCBmb3J3YXJkLCB0aGlzLm1fZm9yd2FyZExlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIFJlZnJlc2hQaXRjaFJhZGlhbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uLmdldFlhd1BpdGNoUm9sbCh0aGlzLnlhd1BpdGNoUm9sbCk7XHJcbiAgICAgICAgdGhpcy5tX2N1cnJlbnRQaXRjaFJhZGlhbiA9IE1hdGguYWJzKHRoaXMueWF3UGl0Y2hSb2xsLnkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL3RlbXBcclxuICAgIHByb3RlY3RlZCBDYW1lcmFUb1plcm9EaXN0YW5jZSgpe1xyXG4gICAgICAgIHZhciBkaXM6bnVtYmVyID0gMDtcclxuICAgICAgICBpZih0aGlzLklzMkQpe1xyXG4gICAgICAgICAgICBkaXMgPSB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IGNhbVBvcyA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBkaXMgPSBWZWN0b3IzLmRpc3RhbmNlKGNhbVBvcyxWZWN0b3IzLl9aRVJPKTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCLmkYTlg4/mnLrliLDljp/ngrnnmoTot53nprvvvJpcIiArIGRpczsgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLnRvU3RyaW5nKCksZGlzKTsgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgXHJcbiAgICAvKipcclxuICAgICAqIOe7lee7meWumueCueWSjOi9tOaXi+i9rFxyXG4gICAgICogQHBhcmFtIHRhcmdldCDml4vovazlr7nosaFcclxuICAgICAqIEBwYXJhbSByb3RhdGVQb3Mg57uZ5a6a54K55L2N572uXHJcbiAgICAgKiBAcGFyYW0gZGlyIOe7meWumuaWueWQkVxyXG4gICAgICogQHBhcmFtIGFuZ2xlIOaXi+i9rOinkuW6pu+8jOW8p+W6plxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgUm90YXRlQXJvdW5kKHRhcmdldDpMYXlhLlNwcml0ZTNELHJvdGF0ZVBvczpMYXlhLlZlY3RvcjMsZGlyOkxheWEuVmVjdG9yMyxhbmdsZTpudW1iZXIpe1xyXG4gICAgICAgIC8v5Yib5bu65LiA5Liq5Zub5YWD5pWwXHJcbiAgICAgICAgbGV0IHF1YXRlcm5pb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21BeGlzQW5nbGUoZGlyLGFuZ2xlLHF1YXRlcm5pb24pO1xyXG5cclxuICAgICAgICAvL+iuoeeul+aXi+i9rOWQjueahFBvc2l0aW9uXHJcbiAgICAgICAgbGV0IGRlbHRhcG9zID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIExheWEuVmVjdG9yMy5zdWJ0cmFjdCh0YXJnZXQudHJhbnNmb3JtLnBvc2l0aW9uLHJvdGF0ZVBvcyxkZWx0YXBvcyk7XHJcbiAgICAgICAgbGV0IGNoYW5nZVZlY3RvcjMgOkxheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICBMYXlhLlZlY3RvcjMudHJhbnNmb3JtUXVhdChkZWx0YXBvcyxxdWF0ZXJuaW9uLGNoYW5nZVZlY3RvcjMpO1xyXG4gICAgICAgIGxldCByZXN1bHRQb3MgID0gbmV3IExheWEuVmVjdG9yMygpOyBcclxuICAgICAgICBMYXlhLlZlY3RvcjMuYWRkKGNoYW5nZVZlY3RvcjMscm90YXRlUG9zLHJlc3VsdFBvcyk7XHJcbiAgICAgICAgdGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IHJlc3VsdFBvcztcclxuXHJcbiAgICAgICAgLy/orqHnrpfml4vovazlkI7nmoRSb3RhdGlvblxyXG4gICAgICAgIGxldCBuZXdSb3RhdGlvbiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICBMYXlhLlF1YXRlcm5pb24ubXVsdGlwbHkodGFyZ2V0LnRyYW5zZm9ybS5yb3RhdGlvbixxdWF0ZXJuaW9uLG5ld1JvdGF0aW9uKTtcclxuICAgICAgICB0YXJnZXQudHJhbnNmb3JtLnJvdGF0aW9uID0gbmV3Um90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICog5qC55o2u56Kw5pKe5a+56LGh55qE5L2N572u77yM6K6+572u5pGE5YOP5py655qE57yp5pS+5ZKM5peL6L2s6L20562J77ybXHJcbiAgICAgKiDml4vovazmk43kvZzvvIzku6XlsY/luZXkuK3lv4Pngrnlj5Hlh7rlsITnur/vvIzlpoLmnpzmnInnorDmkp7lr7nosaHvvIzliJnlsIbnorDmkp7ngrnkvZzkuLrml4vovazkuK3lv4PvvIzlpoLmnpzmsqHmnInliJnlsIbvvIgwLDAsMO+8ieiuvuS4uuaXi+i9rOS4reW/g++8m1xyXG4gICAgICog57yp5pS+5pON5L2c77yM5Lul6byg5qCH5L2N572u5Y+R5Ye65bCE57q/77yM6Iul5pyJ56Kw5pKe5a+56LGh77yM5YiZ5qC55o2u56Kw5pKe54K55LiO5pGE5YOP5py655qE6Led56a76ZmQ5Yi25pGE5YOP5py655qE5pyA5bCP6Led56a777ybXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBSYXlDYXN0SGl0KCl7XHJcbiAgICAgICAgaWYodGhpcy5tX2NhbWVyYSE9bnVsbCAmJiB0aGlzLm1fc2NlbmUzZCE9bnVsbCl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9tb3VzZVBvaW50LnkgPSBMYXlhLnN0YWdlLm1vdXNlWTsgICBcclxuXHJcbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmEudmlld3BvcnRQb2ludFRvUmF5KHRoaXMubV9tb3VzZVBvaW50LHRoaXMubV9yYXkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fc2NlbmUzZC5waHlzaWNzU2ltdWxhdGlvbi5yYXlDYXN0KHRoaXMubV9yYXksdGhpcy5tX2hpdFJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLm1faGl0UmVzdWx0LnN1Y2NlZWRlZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faGl0T2JqZWN0ID0gdGhpcy5tX2hpdFJlc3VsdC5jb2xsaWRlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9oaXRQb2ludCA9IHRoaXMubV9oaXRSZXN1bHQucG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9oaXRPYmplY3QgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65LiA5LiqTGFibGVcclxuICAgICAqIEBwYXJhbSBjb2xvciBcclxuICAgICAqIEBwYXJhbSBzdHJva2VDb2xvciBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVMYWJlbChwb3M6TGF5YS5WZWN0b3IyLCBjb2xvcj86IHN0cmluZywgc3Ryb2tlQ29sb3I/OiBzdHJpbmcpOiBMYWJlbCB7XHJcbiAgICAgICAgY29uc3QgX2NvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgY29uc3QgX3N0cm9rZUNvbG9yID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgY29uc3QgX3N0cm9rZVdpZHRoOiBudW1iZXIgPSAxO1xyXG5cclxuICAgICAgICB2YXIgbGFiZWw6IExhYmVsID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGFiZWwuZm9udCA9IFwiTWljcm9zb2Z0IFlhSGVpXCI7XHJcbiAgICAgICAgbGFiZWwudGV4dCA9IFwiU0FNUExFIERFTU9cIjtcclxuICAgICAgICBsYWJlbC5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgIGlmKGNvbG9yKXtcclxuICAgICAgICAgICAgbGFiZWwuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbGFiZWwuY29sb3IgPSBfY29sb3I7XHJcbiAgICAgICAgfSAgICBcclxuICAgICAgICBpZiAoc3Ryb2tlQ29sb3IpIHtcclxuICAgICAgICAgICAgbGFiZWwuc3Ryb2tlID0gX3N0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICBsYWJlbC5zdHJva2VDb2xvciA9IF9zdHJva2VDb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFiZWwucG9zKHBvcy54LHBvcy55KTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKGxhYmVsKTtcclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgU2hvd0luZm8oKXtcclxuICAgICAgICB2YXIgcG9zOkxheWEuVmVjdG9yMyA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgIHZhciByb3Q6TGF5YS5WZWN0b3IzID0gdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucm90YXRpb25FdWxlcjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCA9IFwiQ2FtZXJhIFBvcyA6IChcIiArIHBvcy54LnRvRml4ZWQoMikgKyBcIixcIiArIHBvcy55LnRvRml4ZWQoMikgKyBcIixcIiArIHBvcy56LnRvRml4ZWQoMikgKyBcIilcIiArIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJDYW1lcmEgUm90IDogKFwiICsgcm90LngudG9GaXhlZCgyKSArIFwiLFwiICsgcm90LnkudG9GaXhlZCgyKSArIFwiLFwiICsgcm90LnoudG9GaXhlZCgyKSArIFwiKVwiKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwiQ2FtZXJhIG9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA6IFwiICsgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUrIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJNb3VzZSBQb3NYIDogXCIgKyBMYXlhLnN0YWdlLm1vdXNlWCsgXCJcXG5cIjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIk1vdXNlIFBvc1kgOiBcIiArIExheWEuc3RhZ2UubW91c2VZKyBcIlxcblwiO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIuaYr+WQpuWcqDJEOiBcIiArIHRoaXMuSXMyRCArIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJ0aGlzIGZvcndhcmRsZW5ndGg6IFwiICsgdGhpcy5tX2ZvcndhcmRMZW5ndGggKyBcIlxcblwiO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIjNkTW92ZVNwZWVkIDogXCIgKyAgIHRoaXMubV8zZE1vdmVTcGVlZCsgXCJcXG5cIjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIjJkTW92ZVNwZWVkIDogXCIgKyAgIHRoaXMubV8yZE1vdmVTcGVlZCsgXCJcXG5cIjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYWJlbFVwZGF0UG9zIGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3BhcmVudCA6IExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBtX2NhbWVyYSA6IExheWEuQ2FtZXJhO1xyXG4gICAgcHJpdmF0ZSBtX2xhYmVsIDogTGF5YS5MYWJlbDtcclxuXHJcbiAgICBwcml2YXRlIG1fZm9udHNpemU6bnVtYmVyO1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICB0aGlzLm1fbGFiZWwgPSB0aGlzLm93bmVyIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgaWYoTGF5YS5Ccm93c2VyLm9uQW5kcm9pZHx8TGF5YS5Ccm93c2VyLm9uSVBob25lfHxMYXlhLkJyb3dzZXIub25Nb2JpbGUpe1xyXG4gICAgICAgICAgICB0aGlzLm1fZm9udHNpemUgPSAyNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihMYXlhLkJyb3dzZXIub25QQ3x8TGF5YS5Ccm93c2VyLm9uTWFjKXtcclxuICAgICAgICAgICAgdGhpcy5tX2ZvbnRzaXplID0gMTQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uU3RhcnQoKXtcclxuICAgICAgICB0aGlzLlNldExhYmVsUG9zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICB0aGlzLlNldExhYmVsUG9zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEluaXQocGFyZW50OkxheWEuTWVzaFNwcml0ZTNELCBjYW1lcmE6TGF5YS5DYW1lcmEsY29udGVudDogc3RyaW5nKXtcclxuICAgICAgICB0aGlzLm1fcGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEgPSBjYW1lcmE7XHJcblxyXG4gICAgICAgIHRoaXMuSW5pdExhYmVsKCk7XHJcbiAgICAgICAgdGhpcy5TZXRMYWJlbENvbnRlbnQoY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldExhYmVsQ29udGVudChjb250ZW50OnN0cmluZyl7XHJcbiAgICAgICAgaWYodGhpcy5tX2xhYmVsID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ID0gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEluaXRMYWJlbCgpe1xyXG4gICAgICAgIGlmKHRoaXMubV9sYWJlbD09bnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLndpZHRoID0gMzAwO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5oZWlnaHQgPSA1MDtcclxuICAgICAgICB0aGlzLm1fbGFiZWwucGl2b3RYID0gMTUwO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5waXZvdFkgPSAyNTtcclxuICAgICAgICB0aGlzLm1fbGFiZWwuZm9udCA9IFwiTWljcm9zb2Z0IFlhSGVpXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgPSBcIlNBTVBMRSBERU1PXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLmZvbnRTaXplID0gdGhpcy5tX2ZvbnRzaXplO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5jb2xvciA9IFwiI2ZmZmZmZlwiXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnN0cm9rZSA9IDAuMDU7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnN0cm9rZUNvbG9yID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLmFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBTZXRMYWJlbFBvcygpe1xyXG4gICAgICAgIGlmKHRoaXMubV9wYXJlbnQgPT0gbnVsbCB8fCB0aGlzLm1fY2FtZXJhID09IG51bGwpIHJldHVybiA7XHJcbiAgICAgICAgbGV0IGZsb29yUG9zID0gdGhpcy5tX3BhcmVudC50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgbGV0IG5ld1BvcyA9IG5ldyBMYXlhLlZlY3RvcjMoZmxvb3JQb3MueCxmbG9vclBvcy55ICsgMyxmbG9vclBvcy56KTtcclxuICAgICAgICBsZXQgc2NyZWVuUG9zID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEud29ybGRUb1ZpZXdwb3J0UG9pbnQobmV3UG9zLHNjcmVlblBvcykgO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5wb3Moc2NyZWVuUG9zLngsc2NyZWVuUG9zLnkgKyAxNSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodENvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEe1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBDYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwcml2YXRlIExpZ2h0OkxheWEuRGlyZWN0aW9uTGlnaHQ7XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHRoaXMuTGlnaHQgPSB0aGlzLm93bmVyIGFzIExheWEuRGlyZWN0aW9uTGlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICB0aGlzLkxpZ2h0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICB0aGlzLkxpZ2h0LnRyYW5zZm9ybS5yb3RhdGlvbkV1bGVyID0gdGhpcy5DYW1lcmEudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBWZWN0b3IzID0gTGF5YS5WZWN0b3IzO1xyXG5pbXBvcnQgTWVzaFJlbmRlcmVyID0gTGF5YS5NZXNoUmVuZGVyZXI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uL0V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4uL0V2ZW50cy9FdmVudHNcIjtcclxuaW1wb3J0IENvbW1vbiBmcm9tIFwiLi4vQ29tbW9uL0NvbW1vblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmF5U2VsZWN0b3IgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEe1xyXG5cclxuICAgIHB1YmxpYyBDYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwdWJsaWMgU2NlbmUzRDpMYXlhLlNjZW5lM0Q7XHJcbiAgICBwdWJsaWMgTWFzazpudW1iZXI7XHJcblxyXG4gICAgcHVibGljIExvY2s6Ym9vbGVhbjtcclxuXHJcbiAgICBwcml2YXRlIG1faXNDbGlja2VkOmJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBtX2RlbHRhQ2xpY2tUaW1lOm51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIG1fc2VsZWN0ZWQ6TGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICBcclxuICAgIHByaXZhdGUgbV9yYXk6TGF5YS5SYXk7XHJcbiAgICBwcml2YXRlIG1faGl0UmVzdWx0OkxheWEuSGl0UmVzdWx0O1xyXG4gICAgcHJpdmF0ZSBtX21vdXNlUG9pbnQ6TGF5YS5WZWN0b3IyID0gbmV3IExheWEuVmVjdG9yMigpO1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICBpZih0aGlzLm93bmVyIT1udWxsKXtcclxuICAgICAgICAgICAgdmFyIGNhbSA9IHRoaXMub3duZXIgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgICAgIGlmKGNhbSE9bnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNhbWVyYSA9IGNhbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tX3JheSA9IG5ldyBMYXlhLlJheShuZXcgVmVjdG9yMygpLG5ldyBWZWN0b3IzKCkpO1xyXG4gICAgICAgIHRoaXMubV9oaXRSZXN1bHQgPSBuZXcgTGF5YS5IaXRSZXN1bHQoKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuQWRkTW91c2VFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgdGhpcy5SYXlDYXN0SGl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgQWRkTW91c2VFdmVudCgpe1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuT25SYXlDYXN0Q2xpY2tlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVtb3ZlTW91c2VFdmVudCgpe1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLk9uUmF5Q2FzdENsaWNrZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpe1xyXG4gICAgICAgIHRoaXMuUmVtb3ZlTW91c2VFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFJheUNhc3RIaXQoKXtcclxuICAgICAgICB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgdGhpcy5tX21vdXNlUG9pbnQueSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG5cclxuICAgICAgICBpZih0aGlzLkNhbWVyYSE9bnVsbCYmdGhpcy5TY2VuZTNEIT1udWxsKXtcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEudmlld3BvcnRQb2ludFRvUmF5KHRoaXMubV9tb3VzZVBvaW50LHRoaXMubV9yYXkpO1xyXG4gICAgICAgICAgICB0aGlzLlNjZW5lM0QucGh5c2ljc1NpbXVsYXRpb24ucmF5Q2FzdCh0aGlzLm1fcmF5LHRoaXMubV9oaXRSZXN1bHQpO1xyXG4gICAgICAgICAgICBpZih0aGlzLm1faGl0UmVzdWx0LnN1Y2NlZWRlZCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sbGlkZXIgPSB0aGlzLm1faGl0UmVzdWx0LmNvbGxpZGVyLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5tX2RlbHRhQ2xpY2tUaW1lICs9TGF5YS50aW1lci5kZWx0YTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1faXNDbGlja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uU3BhY2VDbGlja2VkLnRvU3RyaW5nKCksY29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlNldExheWFDb2xvcihjb2xsaWRlcixMYXlhLkNvbG9yLlJFRCk7ICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fc2VsZWN0ZWQhPWNvbGxpZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1faXNDbGlja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubV9zZWxlY3RlZCE9bnVsbCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uU3BhY2VFeGl0LnRvU3RyaW5nKCksdGhpcy5tX3NlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlJlc2V0Q29sb3IodGhpcy5tX3NlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9zZWxlY3RlZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc2VsZWN0ZWQgPSBjb2xsaWRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PblNwYWNlRXhpdC50b1N0cmluZygpLHRoaXMubV9zZWxlY3RlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlNldExheWFDb2xvcihjb2xsaWRlcixMYXlhLkNvbG9yLllFTExPVyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIE9uUmF5Q2FzdENsaWNrZWQoKXtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubV9pc0NsaWNrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgLy8gdGhpcy5tX21vdXNlUG9pbnQueSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG5cclxuICAgICAgICAvLyB0aGlzLkNhbWVyYS52aWV3cG9ydFBvaW50VG9SYXkodGhpcy5tX21vdXNlUG9pbnQsdGhpcy5tX3JheSk7XHJcblxyXG4gICAgICAgIC8vIGlmKHRoaXMuU2NlbmUzRCE9bnVsbCl7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgLy8gICAgIHRoaXMuU2NlbmUzRC5waHlzaWNzU2ltdWxhdGlvbi5yYXlDYXN0KHRoaXMubV9yYXksdGhpcy5tX2hpdFJlc3VsdCk7XHJcblxyXG4gICAgICAgIC8vICAgICBpZih0aGlzLm1faGl0UmVzdWx0LnN1Y2NlZWRlZCl7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGNvbGxpZGVyTmFtZSA9IHRoaXMubV9oaXRSZXN1bHQuY29sbGlkZXIub3duZXIubmFtZTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAvL2NvbnNvbGUuZGVidWcoXCLnorDmkp7nmoTlr7nosaHkuLrvvJpcIisgY29sbGlkZXJOYW1lKTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgZmxvb3I6TGF5YS5NZXNoU3ByaXRlM0QgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5HZXRPbmVGbG9vclNwcml0ZTNEKGNvbGxpZGVyTmFtZSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgaWYoZmxvb3I9PW51bGwpcmV0dXJuIDtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgbWF0cyA9IGZsb29yLm1lc2hSZW5kZXJlci5tYXRlcmlhbHM7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgbWF0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBtYXQ6TGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBlbGVtZW50IGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMSwwLDAsMSk7XHJcbiAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIFxyXG5cclxuXHJcbiAgICBEcmF3TGluZSgpe1xyXG4gICAgICAgIC8vIHRoaXMubV9tb3VzZVBvaW50LnggPSBMYXlhLk1vdXNlTWFuYWdlci5pbnN0YW5jZS5tb3VzZVg7XHJcbiAgICAgICAgLy8gdGhpcy5tX21vdXNlUG9pbnQueSA9IExheWEuTW91c2VNYW5hZ2VyLmluc3RhbmNlLm1vdXNlWTtcclxuICAgICBcclxuICAgICAgICAvLyB0aGlzLm1fY2FtZXJhLndvcmxkVG9WaWV3cG9ydFBvaW50KHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLHRoaXMuY2FtUG9zKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5zcC5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgIC8vIHRoaXMuc3AuZ3JhcGhpY3MuZHJhd0xpbmUodGhpcy5jYW1Qb3MueCx0aGlzLmNhbVBvcy55LHRoaXMubV9tb3VzZVBvaW50LngsdGhpcy5tX21vdXNlUG9pbnQueSxcIiNmZjAwMDBcIiwxKTsgXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBOYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIGlwOnN0cmluZz1cIm1lZXRvby5jblwiO1xyXG4gICAgc3RhdGljIHBvcnQ6c3RyaW5nPVwiMTk4NlwiO1xyXG5cclxuICAgIHN0YXRpYyB1c2VyTmFtZSA9IFwieWFuZ3hpblwiO1xyXG4gICAgc3RhdGljIHVzZXJQYXNzcHJvdCA9IFwiODFEQzlCREI1MkQwNERDMjAwMzZEQkQ4MzEzRUQwNTVcIjtcclxuXHJcbiAgICBzdGF0aWMgc2NyZWVuV2lkdGggPSBMYXlhLkJyb3dzZXIud2lkdGg7XHJcbiAgICBzdGF0aWMgc2NyZWVuSGVnaWh0ID0gTGF5YS5Ccm93c2VyLmhlaWdodDtcclxuXHJcbiAgICBzdGF0aWMgZmxvb3JMYXllciA9IFwiYnVpbGRpbmdMZXZlbHNcIlxyXG5cclxuICAgIHN0YXRpYyBmbG9vciA9IFwiRmxvb3JcIjtcclxuXHJcbiAgICBzdGF0aWMgY2FtcHVzQ29kZSA9IFwiUFVNQ0hXXCI7XHJcbn0iLCJpbXBvcnQgSGFuZGxlciA9IGxheWEudXRpbHMuSGFuZGxlcjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IFRhYmxlT3Jnbml6YXRpb24gZnJvbSBcIi4vVGFibGVPcmduaXphdGlvblwiO1xyXG5pbXBvcnQgTXRIdHRwIGZyb20gXCIuLi9OZXR3b3JrL010SHR0cFwiO1xyXG5pbXBvcnQgVGFibGVVc2FnZVR5cGUgZnJvbSBcIi4vVGFibGVCSU1Vc2FnZVR5cGVcIjtcclxuaW1wb3J0IFRhYmxlQklNU3BhY2UsIHsgU3BhY2VEYXRhIH0gZnJvbSBcIi4vVGFibGVCSU1TcGFjZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YU1hbmFnZXJ7XHJcblxyXG4gICAgdGFibGVPcmdhbml6YXRpb246VGFibGVPcmduaXphdGlvbjtcclxuICAgIHRhYmxlVXNhZ2VUeXBlOlRhYmxlVXNhZ2VUeXBlO1xyXG4gICAgdGFibGVCaW1TcGFjZTpUYWJsZUJJTVNwYWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG5cclxuICAgIEluaXQoKXtcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyVGFibGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVnaXN0ZXJUYWJsZXMoKXtcclxuICAgICAgICB0aGlzLnRhYmxlQmltU3BhY2UgPSBuZXcgVGFibGVCSU1TcGFjZSgpO1xyXG4gICAgICAgIHRoaXMudGFibGVCaW1TcGFjZS5Jbml0KEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuSHR0cC5VUkwsKCk9PntcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFibGVPcmdhbml6YXRpb24gPSBuZXcgVGFibGVPcmduaXphdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlT3JnYW5pemF0aW9uLkluaXQoR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLlVSTCwoKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVVc2FnZVR5cGUgPSBuZXcgVGFibGVVc2FnZVR5cGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVVc2FnZVR5cGUuSW5pdChHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAuVVJMLCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTG9hZFJlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSk7ICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHZXRPbmVPcmdhbml6YXRpb25OYW1lKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy50YWJsZU9yZ2FuaXphdGlvbi5Jc0xvYWRlZCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlT3JnYW5pemF0aW9uLkdldE9uZU9yZ2FuaXphdGlvbk5hbWUoY29kZSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVPcmdhbml6YXRpb25Db2xvcihjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMudGFibGVPcmdhbml6YXRpb24uSXNMb2FkZWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZU9yZ2FuaXphdGlvbi5HZXRPbmVPcmdhbml6YXRpb25Db2xvcihjb2RlKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVVc2FnZU5hbWUoY29kZTpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLnRhYmxlT3JnYW5pemF0aW9uLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVVc2FnZVR5cGUuR2V0T25lVXNhZ2VOYW1lKGNvZGUpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZVVzYWdlQ29sb3IoY29kZTpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLnRhYmxlT3JnYW5pemF0aW9uLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVVc2FnZVR5cGUuR2V0T25lVXNhZ2VDb2xvcihjb2RlKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVTcGFjZURhdGEoY29kZTpzdHJpbmcpOlNwYWNlRGF0YXtcclxuICAgICAgICBpZih0aGlzLnRhYmxlT3JnYW5pemF0aW9uLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVCaW1TcGFjZS5HZXRPbmVTcGFjZURhdGEoY29kZSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVCSU1TcGFjZXtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFRhYmVsTmFtZTpzdHJpbmcgPSBcIkJJTVNwYWNlXCI7XHJcbiAgICBwcml2YXRlIFNwYWNlRGF0YURpYzpMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgSXNMb2FkZWQ6Ym9vbGVhbjtcclxuXHJcbiAgICBJbml0KHVybDpzdHJpbmcsZmluaXNoZWQ/OmFueSl7XHJcblxyXG4gICAgICAgIHRoaXMuSW5pdENvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICB2YXIgcG9zdFVybCA9IHVybC5jb25jYXQoXCIvSVZTL0JJTVNwYWNlL2R5bmFtaWNRdWVyeVwiKTtcclxuICAgICAgICB2YXIgcG9zdEJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XCJsZXZlbENvZGVMaXN0XCI6W1wiUFVNQ0hXLUQwMy1GMDAxXCIsXCJQVU1DSFctRDAzLUYwMDJcIixcIlBVTUNIVy1EMDMtRjAwM1wiXX0pO1xyXG5cclxuICAgICAgICB0aGlzLkFzeW5Mb2FkRGF0YShwb3N0VXJsLHBvc3RCb2R5LGZpbmlzaGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVTcGFjZURhdGEoY29kZTpzdHJpbmcpOlNwYWNlRGF0YXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmKHRoaXMuU3BhY2VEYXRhRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlNwYWNlRGF0YURpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBJbml0Q29udGFpbmVyKCl7XHJcbiAgICAgICAgdGhpcy5TcGFjZURhdGFEaWMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBBc3luTG9hZERhdGEodXJsOnN0cmluZyxwb3N0Qm9keTphbnksZmluaXNoZWQ/OmFueSl7XHJcbiAgICAgICAgaWYodXJsID09IG51bGwgfHwgcG9zdEJvZHkgPT1udWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAucG9zdCh1cmwscG9zdEJvZHksdGhpcywoZTphbnkpPT57XHJcbiAgICAgICAgICAgIGlmKGUuc3RhdGUgPT0gXCJzdWNjZWVkXCIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJzdCA9ZS5kYXRhW1wiZGF0YVwiXVtcImxpc3RcIl07XHJcbiAgICAgICAgICAgICAgICByc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gdGhpcy5DcmVhdGVTcGFjZURhdGEoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlIT1udWxsJiYgZWxlLmNvZGUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5TcGFjZURhdGFEaWMuaGFzKGVsZS5jb2RlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNwYWNlRGF0YURpYy5zZXQoZWxlLmNvZGUsZWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGZpbmlzaGVkLmFwcGx5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Jc0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZVNwYWNlRGF0YShlbGVtZW50OmFueSk6U3BhY2VEYXRhIHtcclxuICAgICAgICB2YXIgZGF0YTogU3BhY2VEYXRhID0gbmV3IFNwYWNlRGF0YSgpO1xyXG4gICAgICAgIGRhdGEuY29kZSA9IGVsZW1lbnQuY29kZTtcclxuICAgICAgICBkYXRhLnVzYWdlTmFtZSA9IGVsZW1lbnQudXNhZ2VOYW1lO1xyXG4gICAgICAgIGRhdGEuYnVpbGRpbmdDb2RlID0gZWxlbWVudC5idWlsZGluZ0NvZGU7XHJcbiAgICAgICAgZGF0YS5jYW1wdXNDb2RlID0gZWxlbWVudC5jYW1wdXNDb2RlO1xyXG4gICAgICAgIGRhdGEubGV2ZWxDb2RlID0gZWxlbWVudC5sZXZlbENvZGU7XHJcbiAgICAgICAgZGF0YS5vcmdhbml6YXRpb25Db2RlID0gZWxlbWVudC5vcmdhbml6YXRpb25Db2RlO1xyXG4gICAgICAgIGRhdGEudXNhZ2VUeXBlQ29kZSA9IGVsZW1lbnQudXNhZ2VUeXBlQ29kZTtcclxuICAgICAgICBkYXRhLnVzZUFyZWEgPSBlbGVtZW50LnVzZUFyZWEudG9GaXhlZCgyKS50b1N0cmluZygpICsgXCJtwrJcIjtcclxuICAgICAgICBkYXRhLnBlcmltZXRlciA9IGVsZW1lbnQucGVyaW1ldGVyO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFNwYWNlRGF0YXtcclxuICAgIHB1YmxpYyBjb2RlOiAgICAgICAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdXNhZ2VOYW1lOiAgICAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIGJ1aWxkaW5nQ29kZTogICAgIHN0cmluZztcclxuICAgIHB1YmxpYyBjYW1wdXNDb2RlOiAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWxDb2RlOiAgICAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIG9yZ2FuaXphdGlvbkNvZGU6IHN0cmluZztcclxuICAgIHB1YmxpYyB1c2FnZVR5cGVDb2RlOiAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdXNlQXJlYTogICAgICAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIHBlcmltZXRlcjogICAgICAgIHN0cmluZztcclxufSAgXHJcblxyXG4iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuLi9Db25maWd1cmUvTmFtZUNvbmZpZ1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVVc2FnZVR5cGV7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUYWJlbE5hbWU6c3RyaW5nID0gXCJCSU1Vc2FnZVR5cGVcIjtcclxuICAgIHByaXZhdGUgVXNhZ2VUeXBlRGljOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBJc0xvYWRlZDpib29sZWFuO1xyXG5cclxuICAgIEluaXQodXJsOnN0cmluZyxmaW5pc2hlZD86YW55KXtcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIHZhciBwb3N0VXJsID0gdXJsLmNvbmNhdChcIi9JVlMvQ29tbW9uL3JldHJpZXZlQWxsQnlUYWJsZU5hbWVcIik7XHJcbiAgICAgICAgdmFyIHBvc3RCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1widGFibGVOYW1lXCI6dGhpcy5UYWJlbE5hbWV9KTtcclxuXHJcbiAgICAgICAgdGhpcy5Bc3luTG9hZERhdGEocG9zdFVybCxwb3N0Qm9keSxmaW5pc2hlZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZVVzYWdlTmFtZShjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYodGhpcy5Vc2FnZVR5cGVEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6VXNhZ2VUeXBlID0gdGhpcy5Vc2FnZVR5cGVEaWMuZ2V0KGNvZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lVXNhZ2VDb2xvcihjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbDpzdHJpbmcgPSB0aGlzLkdldFVzYWdlTGV2ZWxMZXZlbChjb2RlKTtcclxuXHJcbiAgICAgICAgaWYobGV2ZWwhPVwiMlwiKXtcclxuICAgICAgICAgICAgY29kZSA9IGNvZGUuc3Vic3RyKDAsNCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLlVzYWdlVHlwZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YTpVc2FnZVR5cGUgPSB0aGlzLlVzYWdlVHlwZURpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmNvbG9yO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2V0VXNhZ2VMZXZlbExldmVsKGNvZGU6c3RyaW5nKXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmKHRoaXMuVXNhZ2VUeXBlRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOlVzYWdlVHlwZSA9IHRoaXMuVXNhZ2VUeXBlRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEubGV2ZWw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEluaXRDb250YWluZXIoKXtcclxuICAgICAgICB0aGlzLlVzYWdlVHlwZURpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEFzeW5Mb2FkRGF0YSh1cmw6c3RyaW5nLHBvc3Rib2R5OmFueSxmaW5pbnNoZWQ/OmFueSl7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLnBvc3QodXJsLHBvc3Rib2R5LHRoaXMsKGU6YW55KT0+e1xyXG4gICAgICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgICAgIHZhciByc3QgPWUuZGF0YVtcImRhdGFcIl1bXCJsaXN0XCJdO1xyXG4gICAgICAgICAgICAgICAgcnN0LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IHRoaXMuQ3JlYXRlVXNhZ2VUeXBlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZSE9bnVsbCYmIGVsZS5jb2RlIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuVXNhZ2VUeXBlRGljLmhhcyhlbGUuY29kZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Vc2FnZVR5cGVEaWMuc2V0KGVsZS5jb2RlLGVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmaW5pbnNoZWQuYXBwbHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLklzTG9hZGVkID10cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVVc2FnZVR5cGUoZWxlbWVudDphbnkpOlVzYWdlVHlwZSB7XHJcbiAgICAgICAgdmFyIGRhdGE6IFVzYWdlVHlwZSA9IG5ldyBVc2FnZVR5cGUoKTtcclxuICAgICAgICBkYXRhLmNvZGUgPSBlbGVtZW50LmNvZGU7XHJcbiAgICAgICAgZGF0YS5uYW1lID0gZWxlbWVudC5uYW1lO1xyXG4gICAgICAgIGRhdGEubGV2ZWwgPSBlbGVtZW50LmxldmVsO1xyXG4gICAgICAgIGRhdGEuY29sb3IgPSBlbGVtZW50LmNvbG9yO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVzYWdlVHlwZXtcclxuICAgIHB1YmxpYyBjb2RlOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIGxldmVsOnN0cmluZztcclxuICAgIHB1YmxpYyBjb2xvcjpzdHJpbmc7XHJcbn0gICIsImltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZU9yZ25pemF0aW9ue1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgVGFiZWxOYW1lOnN0cmluZyA9IFwiT3JnYW5pemF0aW9uXCI7XHJcbiAgICBwcml2YXRlIG9yZ25pemF0aW9uRGljOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBJc0xvYWRlZDpib29sZWFuO1xyXG5cclxuICAgIEluaXQodXJsOnN0cmluZyxmaW5pc2hlZD86YW55KXtcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIC8vdmFyIHBvc3RVcmwgPSB1cmwuY29uY2F0KFwiL0lWUy9Db21tb24vcmV0cmlCeVRhYmxlTmFtZUNhbXB1c0NvZGVcIik7XHJcbiAgICAgICAgLy92YXIgcG9zdEJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XCJ0YWJsZU5hbWVcIjp0aGlzLlRhYmVsTmFtZSxcImNhbXB1c0NvZGVcIjogTmFtZUNvbmZpZy5jYW1wdXNDb2RlfSk7XHJcblxyXG4gICAgICAgIHZhciBwb3N0VXJsID0gdXJsLmNvbmNhdChcIi9JVlMvQ29tbW9uL3JldHJpZXZlQWxsQnlUYWJsZU5hbWVcIik7XHJcbiAgICAgICAgdmFyIHBvc3RCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1widGFibGVOYW1lXCI6dGhpcy5UYWJlbE5hbWV9KTtcclxuXHJcbiAgICAgICAgdGhpcy5Bc3luTG9hZERhdGEocG9zdFVybCxwb3N0Qm9keSxmaW5pc2hlZCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZU9yZ2FuaXphdGlvbk5hbWUoY29kZTpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbGV2ZWw6c3RyaW5nID0gdGhpcy5HZXRPcmdhbml6YXRpb25MZXZlbChjb2RlKTtcclxuXHJcbiAgICAgICAgaWYobGV2ZWwhPVwiMlwiKXtcclxuICAgICAgICAgICAgY29kZSA9IGNvZGUuc3Vic3RyKDAsNCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLm9yZ25pemF0aW9uRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOk9yZ25pemF0aW9uID0gdGhpcy5vcmduaXphdGlvbkRpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVPcmdhbml6YXRpb25Db2xvcihjb2RlOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciBsZXZlbDpzdHJpbmcgPSB0aGlzLkdldE9yZ2FuaXphdGlvbkxldmVsKGNvZGUpO1xyXG5cclxuICAgICAgICBpZihsZXZlbCE9XCIyXCIpe1xyXG4gICAgICAgICAgICBjb2RlID0gY29kZS5zdWJzdHIoMCw0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMub3Jnbml6YXRpb25EaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6T3Jnbml6YXRpb24gPSB0aGlzLm9yZ25pemF0aW9uRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29sb3I7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRPcmdhbml6YXRpb25MZXZlbChjb2RlOnN0cmluZyl7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBpZih0aGlzLm9yZ25pemF0aW9uRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOk9yZ25pemF0aW9uID0gdGhpcy5vcmduaXphdGlvbkRpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmxldmVsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBJbml0Q29udGFpbmVyKCl7XHJcbiAgICAgICAgdGhpcy5vcmduaXphdGlvbkRpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEFzeW5Mb2FkRGF0YSh1cmw6c3RyaW5nLHBvc3Rib2R5OmFueSxmaW5pbnNoZWQ/OmFueSl7XHJcbiAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLnBvc3QodXJsLHBvc3Rib2R5LHRoaXMsKGU6YW55KT0+e1xyXG4gICAgICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgICAgIHZhciByc3QgPWUuZGF0YVtcImRhdGFcIl1bXCJsaXN0XCJdO1xyXG4gICAgICAgICAgICAgICAgcnN0LmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IHRoaXMuQ3JlYXRlT3JnYW5pemF0aW9uKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZSE9bnVsbCYmIGVsZS5jb2RlIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMub3Jnbml6YXRpb25EaWMuaGFzKGVsZS5jb2RlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9yZ25pemF0aW9uRGljLnNldChlbGUuY29kZSxlbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZmluaW5zaGVkLmFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLklzTG9hZGVkID10cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVPcmdhbml6YXRpb24oZWxlbWVudDphbnkpOk9yZ25pemF0aW9uIHtcclxuICAgICAgICB2YXIgZGF0YTogT3Jnbml6YXRpb24gPSBuZXcgT3Jnbml6YXRpb24oKTtcclxuICAgICAgICBkYXRhLmNvZGUgPSBlbGVtZW50LmNvZGU7XHJcbiAgICAgICAgZGF0YS5uYW1lID0gZWxlbWVudC5uYW1lO1xyXG4gICAgICAgIGRhdGEubGV2ZWwgPSBlbGVtZW50LmxldmVsO1xyXG4gICAgICAgIGRhdGEuY29sb3IgPSBlbGVtZW50LmNvbG9yO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE9yZ25pemF0aW9ue1xyXG4gICAgcHVibGljIGNvZGU6IHN0cmluZztcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWw6c3RyaW5nO1xyXG4gICAgcHVibGljIGNvbG9yOnN0cmluZztcclxufSAgIiwiXHJcbmltcG9ydCBFdmVudERpc3BhdGNoZXIgPSBsYXlhLmV2ZW50cy5FdmVudERpc3BhdGNoZXI7ICBcclxuICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWFuYWdlciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlcntcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBldmVudERpc3BhdGNoZXI6RXZlbnREaXNwYXRjaGVyID0gbmV3IEV2ZW50RGlzcGF0Y2hlcigpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpFdmVudE1hbmFnZXI7XHJcbiAgICBwdWJsaWMgc3RhdGljIEluc3RhbmNlKCl7XHJcbiAgICAgICAgaWYoRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9PSBudWxsKXtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZSA9IG5ldyBFdmVudE1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEV2ZW50TWFuYWdlci5faW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFBvc3RFdmVudChlTmFtZTpzdHJpbmcsYXJncz86YW55KXtcclxuICAgICAgICAvL29uc29sZS5kZWJ1ZyhcIuWIhuWPkeS6i+S7tlwiKTtcclxuICAgICAgICBFdmVudE1hbmFnZXIuZXZlbnREaXNwYXRjaGVyLmV2ZW50KGVOYW1lLGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBBZGRFdmVudExpc3RlbmVyKGVOYW1lOnN0cmluZyxjYWxsZXI6YW55LGxpc3RlbmVyOkZ1bmN0aW9uLGFyZ3M/OmFueVtdKXtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKFwi5L6m5ZCs5LqL5Lu2XCIsZU5hbWUpO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5ldmVudERpc3BhdGNoZXIub24oZU5hbWUsY2FsbGVyLGxpc3RlbmVyLGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBSZW1vdmVFdmVudExpc3RlbmVyKGVOYW1lOnN0cmluZyxjYWxsZXI6YW55LGxpc3RlbmVyOkZ1bmN0aW9uLG9uY2U/OmJvb2xlYW4pe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCLnp7vpmaTkuovku7ZcIixlTmFtZSk7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLmV2ZW50RGlzcGF0Y2hlci5vZmYoZU5hbWUsY2FsbGVyLGxpc3RlbmVyLG9uY2UpO1xyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBlbnVtIEV2ZW50c3tcclxuICAgIE9uVUlfTGV2ZWxCdG5fQ2xpY2tlZCxcclxuXHJcbiAgICBPblNwYWNlRW50ZXIsXHJcbiAgICBPblNwYWNlQ2xpY2tlZCxcclxuICAgIE9uU3BhY2VFeGl0LFxyXG5cclxuICAgIE9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLFxyXG59IiwiXHJcbmltcG9ydCBNdEh0dHAgZnJvbSBcIi4vTmV0d29yay9NdEh0dHBcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4vQ29uZmlndXJlL05hbWVDb25maWdcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuL0RhdGEvRGF0YU1hbmFnZXJcIjtcclxuXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vR2FtZVVJXCI7XHJcblxyXG5pbXBvcnQgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4vQ29tcG9uZW50L0NhbWVyYU1vdmVTY3JpcHRcIjtcclxuaW1wb3J0IExhYmVsVXBkYXRQb3MgZnJvbSBcIi4vQ29tcG9uZW50L0xhYmVsVXBkYXRlXCI7XHJcbmltcG9ydCBNYWluVUkgZnJvbSBcIi4vTWFpblVJXCI7XHJcbmltcG9ydCBCSU1NYW5hZ2VyLCB7IExhYmVsVHlwZSB9IGZyb20gXCIuL0JJTS9CSU1NYW5hZ2VyXCI7XHJcbmltcG9ydCBDYW1lcmFNYW5hZ2VyIGZyb20gXCIuL0NhbWVyYS9DYW1lcmFNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9FdmVudHMvRXZlbnRzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNYW5hZ2Vye1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpHYW1lTWFuYWdlcjsgICAgXHJcblxyXG4gICAgc3RhdGljIEluc3RhbmNlKCk6R2FtZU1hbmFnZXJ7XHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuX2luc3RhbmNlID09IG51bGwpe1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5faW5zdGFuY2UgPSBuZXcgR2FtZU1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEdhbWVNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgQklNOkJJTU1hbmFnZXI7XHJcbiAgICBwdWJsaWMgRGF0YTpEYXRhTWFuYWdlcjtcclxuICAgIHB1YmxpYyBDYW1lcmE6Q2FtZXJhTWFuYWdlcjtcclxuICAgIHB1YmxpYyBIdHRwIDpNdEh0dHA7XHJcblxyXG4gICAgcHVibGljIE1haW5TY2VuZTpMYXlhLlNjZW5lM0Q7XHJcbiAgICBwdWJsaWMgTWFpblVJOk1haW5VSTtcclxuXHJcbiAgICBwcml2YXRlIElzSW5pdFNjZW5lOmJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIExvZ2luTG9jazpCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLkh0dHAgPSBuZXcgTXRIdHRwKE5hbWVDb25maWcuaXAsTmFtZUNvbmZpZy5wb3J0KTtcclxuXHJcbiAgICAgICAgdGhpcy5CSU0gPSBuZXcgQklNTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuRGF0YSA9IG5ldyBEYXRhTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuQ2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIoKTtcclxuICAgXHJcbiAgICAgICAgdGhpcy5BZGRFdmVudHMoKTtcclxuICAgIH0gICBcclxuXHJcblxyXG4gICAgQWRkRXZlbnRzKCl7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuQWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuT25VSV9MZXZlbEJ0bl9DbGlja2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLk9uTGV2ZWxCdG5DbGlja2VkKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBPbkxldmVsQnRuQ2xpY2tlZChsZXZlbE5hbWU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLkJJTS5IaWRlT25lTGV2ZWxGbG9vcnModGhpcy5CSU0uQ3VycmVuTGV2ZWwpO1xyXG4gICAgICAgIHRoaXMuQklNLlNob3dPbmVMZXZlbEZsb29ycyhsZXZlbE5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBMb2dpbigpeyAgIFxyXG5cclxuICAgICAgICBpZih0aGlzLkxvZ2luTG9jaykgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdmFyIGxvbmdpblVybCA9ICB0aGlzLkh0dHAuVVJMLmNvbmNhdChcIi9JVlMvbG9naW5cIik7XHJcbiAgICAgICAgdmFyIHBvc3RCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1wibmFtZVwiOk5hbWVDb25maWcudXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHdkXCI6TmFtZUNvbmZpZy51c2VyUGFzc3Byb3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhpcmRQYXJ0eUNvZGVcIjpcIjBcIn0pO1xyXG4gICAgICAgIHRoaXMuSHR0cC5wb3N0KGxvbmdpblVybCxwb3N0Qm9keSx0aGlzLHRoaXMuTG9naW5TdWNjZWVkKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLkxvZ2luTG9jayA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgTG9naW5TdWNjZWVkKGU6YW55KXtcclxuICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkxvZ2luIHN1Y2NlZWQhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLkxvYWREYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAvL3Rlc3RcclxuICAgICAgICAgICAgLy90aGlzLkxvYWRSZXMoKTtcclxuICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgIGFsZXJ0KGUubXNnKTtcclxuICAgICAgICB9ICAgXHJcbiAgICB9XHJcblxyXG4gICAgTG9hZERhdGEoKXtcclxuICAgICAgICAvLyB2YXIgdXJsID0gdGhpcy5IdHRwLlVSTC5jb25jYXQoXCIvSVZTL0JJTVNwYWNlL2R5bmFtaWNRdWVyeVwiKTtcclxuICAgICAgICAvLyAvL3ZhciBwb3NCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1wibGV2ZWxDb2RlTGlzdFwiOltcIkJESENNVS1BMDItQjAwMVwiLFwiQkRIQ01VLUEwMi1GMDAzXCJdfSk7XHJcbiAgICAgICAgLy8gdmFyIHBvc0JvZHkgPSBKU09OLnN0cmluZ2lmeSh7XCJsZXZlbENvZGVMaXN0XCI6W1wiUFVNQ0hXLUQwMy1GMDAxXCIsXCJQVU1DSFctRDAzLUYwMDJcIixcIlBVTUNIVy1EMDMtRjAwM1wiXX0pO1xyXG4gICAgICAgIC8vIHRoaXMuRGF0YS5Mb2FkU3BhY2VEYXRhKHVybCxwb3NCb2R5LCgpPT57XHJcbiAgICAgICAgLy8gICAgIHRoaXMuTG9hZFJlcygpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICB0aGlzLkRhdGEuSW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWRSZXMoKXtcclxuXHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChcInJlcy9Kc29uRmlsZS9yZXNfcHVtY2h3Lmpzb25cIixIYW5kbGVyLmNyZWF0ZSh0aGlzLChkYXRhKT0+e1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc1VybDpBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgICAgIGRhdGEudXJsLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNVcmwucHVzaCh0aGlzLkh0dHAuVVJMLmNvbmNhdChcIi9QYXRjaC9yZXMvXCIsZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuQklNLkxvYWRSZXMocmVzVXJsLCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Jbml0TWFpblVJKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5CSU0uU2hvd09uZUxldmVsRmxvb3JzKHRoaXMuQklNLkN1cnJlbkxldmVsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIEluaXQzRFNjZW5lKCl7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuSXNJbml0U2NlbmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgTGF5YTNELmluaXQoMCwgMCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gTGF5YS5TdGFnZS5TQ0FMRV9GVUxMO1xyXG4gICAgICAgIExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IExheWEuU3RhZ2UuU0NSRUVOX05PTkU7XHJcblxyXG4gICAgICAgIC8vTGF5YS5TdGF0LnNob3coKTtcclxuXHJcbiAgICAgICAgdGhpcy5NYWluU2NlbmUgPSBuZXcgTGF5YS5TY2VuZTNEKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLk1haW5TY2VuZSk7XHJcbiAgICAgICBcclxuICAgICAgICB0aGlzLkNhbWVyYS5Jbml0Q2FtZXJhKCk7XHJcblxyXG4gICAgICAgIHRoaXMuSXNJbml0U2NlbmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRNYWluVUkoKXtcclxuICAgICAgICB0aGlzLk1haW5VSSA9IG5ldyBNYWluVUkoKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuTWFpblVJKTtcclxuXHJcbiAgICAgICAgdGhpcy5NYWluVUkuQ3JlYXRlTGV2ZWxzKHRoaXMuQklNLkxldmVscyk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcblxyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVVSSBleHRlbmRzIHVpLnBvcnRhbC5Mb2FkaW5nVUkge1xyXG5cclxuICAgIHN0YXRpYyBfaW5zdGFuY2UgOiBHYW1lVUk7XHJcblxyXG4gICAgR2FtZU1hbmFnZXI6R2FtZU1hbmFnZXI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7ICBcclxuXHJcbiAgICAgICAgR2FtZVVJLl9pbnN0YW5jZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuR2FtZU1hbmFnZXIgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICB0aGlzLlVJQWRhcHRlcigpO1xyXG4gICAgICAgIHRoaXMuTG9naW5CdG4ub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuT25Mb2dpbkJ0bkNsaWNrZWQpO1xyXG5cclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJFU0laRSxMYXlhLnN0YWdlLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuVUlBZGFwdGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9FbmFibGXliJ3lp4vljJZcclxuICAgIG9uRW5hYmxlKCk6dm9pZHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvL+eZu+mZhlxyXG4gICAgT25Mb2dpbkJ0bkNsaWNrZWQoZTogTGF5YS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgIC8vR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5Mb2dpbigpO1xyXG4gICAgICAgIHRoaXMuR2FtZU1hbmFnZXIuTG9naW4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+iuvue9rui1hOa6kOWKoOi9vei/m+W6plxyXG4gICAgU2V0TG9hZFBlcmNlbnQocGVyY2VudDpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuUHJvZ3Jlc3NCYXIudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci52YWx1ZSA9IHBlcmNlbnQ7XHJcbiAgICAgICAgaWYocGVyY2VudCA9PSAxKXtcclxuICAgICAgICAgICAgdGhpcy5EZXN0cm95U2NlbmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgRGVzdHJveVNjZW5lKCl7XHJcbiAgICAgICAgLy90aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICBMYXlhLlNjZW5lLmNsb3NlKHRoaXMuc2NlbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vVUnpgILphY1cclxuICAgIFVJQWRhcHRlcigpe1xyXG4gICAgICAgIGxldCB3aWR0aCA9IExheWEuQnJvd3Nlci53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gTGF5YS5Ccm93c2VyLmhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuQmFja2dyb3VuZC53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuQmFja2dyb3VuZC5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5UaXRsZS5wb3Mod2lkdGgvMixoZWlnaHQvNCk7XHJcbiAgICAgICAgdGhpcy5Mb2dpbkJ0bi5wb3Mod2lkdGgvMixoZWlnaHQvMyArIDEwMCk7XHJcbiAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci5wb3Mod2lkdGgvMixoZWlnaHQgKiAzIC8gNCk7XHJcbiAgICAgICAgdGhpcy5Qcm9ncmVzc0Jhci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHt1aX0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBMYWJlbFR5cGUgfSBmcm9tIFwiLi9CSU0vQklNTWFuYWdlclwiO1xyXG5cclxuaW1wb3J0IEJ1dHRvbiA9IExheWEuQnV0dG9uO1xyXG5pbXBvcnQgQ29tbW9uIGZyb20gXCIuL0NvbW1vbi9Db21tb25cIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi9FdmVudHMvRXZlbnRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCIuL0V2ZW50cy9FdmVudHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5VSSBleHRlbmRzIHVpLk1haW5TY2VuZS5NYWluU2NlbmVVSXtcclxuXHJcbiAgICBzdGF0aWMgX2luc3RhbmNlID0gbnVsbDtcclxuXHJcbiAgICBwcml2YXRlIG1faXMyRDpCb29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2xldmVsQnRuczpBcnJheTxCdXR0b24+O1xyXG4gICAgcHJpdmF0ZSBtX2xldmVsUG9zOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBwcml2YXRlIG1fbGV2ZWxCdG5PcmlQb3M6TGF5YS5WZWN0b3IyO1xyXG5cclxuICAgIHByaXZhdGUgbV9pc1Nob3dNdWx0aUJ0bnM6Ym9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIG1faXNTaG93QWxsTGV2ZWxzOmJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICBNYWluVUkuX2luc3RhbmNlID0gdGhpcztcclxuICAgICAgICB0aGlzLlVJQWRhcHRlcigpOyAgIFxyXG4gICAgICAgIHRoaXMuQWRkRXZlbnQoKTsgXHJcbiAgICAgICAgdGhpcy5tX2lzMkQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xldmVsQnRucyA9IG5ldyBBcnJheTxCdXR0b24+KCk7XHJcbiAgICAgICAgdGhpcy5tX2xldmVsUG9zID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG5cclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuUkVTSVpFLExheWEuc3RhZ2UsKCk9PntcclxuICAgICAgICAgICAgdGhpcy5VSUFkYXB0ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBVSUFkYXB0ZXIoKXtcclxuICAgICAgICBsZXQgd2lkdGggPSBMYXlhLnN0YWdlLndpZHRoO1xyXG4gICAgICAgIGxldCBoZWlnaHQgPSBMYXlhLnN0YWdlLmhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLl8yRDNEQnRuLnBvcygxMDAsaGVpZ2h0LTEwMClcclxuXHJcbiAgICAgICAgdGhpcy5EZXBCdG4ucG9zKDEwMCxoZWlnaHQvMyk7XHJcbiAgICAgICAgdGhpcy5Vc2FnZUJ0bi5wb3MoMTAwLGhlaWdodC8zKzE1MCk7XHJcbiAgICAgICAgdGhpcy5BcmVhQnRuLnBvcygxMDAsaGVpZ2h0LzMrMzAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5NdWx0aUJ0bi5wb3Mod2lkdGgtMTUwLGhlaWdodC0xODApOyAgICBcclxuICAgICAgICB0aGlzLkFsbEJ0bi5wb3Mod2lkdGgtMTUwLGhlaWdodC0xMDApXHJcblxyXG4gICAgICAgIC8v6YeN5paw5Yi35pawbGV2ZWxidG5cclxuICAgICAgICBpZih0aGlzLm1fbGV2ZWxCdG5zJiZ0aGlzLm1fbGV2ZWxCdG5zLmxlbmd0aCE9MCl7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDBcclxuICAgICAgICAgICAgdGhpcy5tX2xldmVsQnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsQnRuT3JpUG9zID0gbmV3IExheWEuVmVjdG9yMih0aGlzLk11bHRpQnRuLngsdGhpcy5NdWx0aUJ0bi55KTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucG9zKHRoaXMuTXVsdGlCdG4ueCx0aGlzLk11bHRpQnRuLnkgLSArK2luZGV4ICogODApXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fbGV2ZWxQb3MuaGFzKGVsZW1lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxQb3MuZGVsKGVsZW1lbnQpOyBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxQb3Muc2V0KGVsZW1lbnQsbmV3IExheWEuVmVjdG9yMihlbGVtZW50LngsZWxlbWVudC55KSk7XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+W6lOivpeaciVJlbW92ZUV2ZW5ldFxyXG4gICAgQWRkRXZlbnQoKXtcclxuICAgICAgICB0aGlzLl8yRDNEQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssbnVsbCwoZSk9PntcclxuICAgICAgICAgICAgdGhpcy5fMkQzREJ0bkNsaWNrZWQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5EZXBCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5CSU0uUmVmcmVzaExhYmVsQ29udGVudChMYWJlbFR5cGUuRGVwYXJ0KTtcclxuICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuVXNhZ2VCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5SZWZyZXNoTGFiZWxDb250ZW50KExhYmVsVHlwZS5Vc2FnZSk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuQXJlYUJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLG51bGwsKGUpPT57XHJcbiAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5SZWZyZXNoTGFiZWxDb250ZW50KExhYmVsVHlwZS5BcmVhKTtcclxuICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTXVsdGlCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICB0aGlzLlNob3dMZXZlbHModGhpcy5tX2lzU2hvd011bHRpQnRucyk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7ICAgXHJcbiAgICAgICAgfSk7ICBcclxuXHJcbiAgICAgICAgdGhpcy5BbGxCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tX2lzU2hvd0FsbExldmVscyA9ICF0aGlzLm1faXNTaG93QWxsTGV2ZWxzXHJcblxyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5TaG93QWxsTGV2ZWxzKHRoaXMubV9pc1Nob3dBbGxMZXZlbHMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgICBcclxuICAgICAgICB9KTsgIFxyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZUxldmVscyhsZXZlbHM6QXJyYXk8c3RyaW5nPil7XHJcbiAgICAgICAgaWYobGV2ZWxzPT1udWxsfHxsZXZlbHMubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xldmVsQnRucy5zcGxpY2UoMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHVuZGVyR3JvdW5kTGV2ZWwgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG4gICAgICAgIHZhciB1cEdyb3VuZExldmVsID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgbGV2ZWxzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZihlbGVtZW50Lmxlbmd0aCE9MTUpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcImxldmVsIG5hbWUgaXMgbm90IGxlZ2FsIVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoQ29tbW9uLkdldFB1ckxldmVsKGVsZW1lbnQpLm1hdGNoKFwiQlwiKSE9bnVsbCl7XHJcbiAgICAgICAgICAgICAgICB1bmRlckdyb3VuZExldmVsLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdXBHcm91bmRMZXZlbC5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHVuZGVyR3JvdW5kTGV2ZWwuc29ydCgoYSxiKTpudW1iZXI9PntcclxuICAgICAgICAgICAgcmV0dXJuIGEuY2hhckF0KDE0KT5iLmNoYXJBdCgxNCk/LTE6MTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdXBHcm91bmRMZXZlbC5zb3J0KChhLGIpOm51bWJlcj0+e1xyXG4gICAgICAgICAgICByZXR1cm4gYS5jaGFyQXQoMTQpPmIuY2hhckF0KDE0KT8xOi0xO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgcmVhbExldmVsczpBcnJheTxzdHJpbmc+ID0gdW5kZXJHcm91bmRMZXZlbC5jb25jYXQodXBHcm91bmRMZXZlbCk7XHJcblxyXG4gICAgICAgIC8vdGVtcFxyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5tX2xldmVsQnRuT3JpUG9zID0gbmV3IExheWEuVmVjdG9yMih0aGlzLk11bHRpQnRuLngsdGhpcy5NdWx0aUJ0bi55KTtcclxuXHJcbiAgICAgICAgcmVhbExldmVscy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZU9uZUJ1dHRvbihlbGVtZW50LG5ldyBMYXlhLlZlY3RvcjIodGhpcy5tX2xldmVsQnRuT3JpUG9zLngsdGhpcy5tX2xldmVsQnRuT3JpUG9zLnkgLSArK2luZGV4KjgwKSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBDcmVhdGVPbmVCdXR0b24obGV2ZWxDb2RlOnN0cmluZyxwb3M6TGF5YS5WZWN0b3IyKXtcclxuICAgICAgICBpZihsZXZlbENvZGUgPT0gbnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdmFyIHB1ckxldmVsID0gQ29tbW9uLkdldFB1ckxldmVsKGxldmVsQ29kZSk7XHJcblxyXG4gICAgICAgIHZhciBsdmxCdG46QnV0dG9uID0gbmV3IEJ1dHRvbihcImNvbXAvYnV0dG9uLnBuZ1wiKTtcclxuICAgICAgICBcclxuICAgICAgICBsdmxCdG4ubmFtZSA9IGxldmVsQ29kZTtcclxuICAgICAgICBsdmxCdG4ud2lkdGggPSA4MDtcclxuICAgICAgICBsdmxCdG4uaGVpZ2h0ID0gNjA7XHJcbiAgICAgICAgbHZsQnRuLnBvcyhwb3MueCxwb3MueSk7XHJcbiAgICAgICAgbHZsQnRuLmxhYmVsU2l6ZSA9IDMwO1xyXG4gICAgICAgIGx2bEJ0bi5sYWJlbCA9IHB1ckxldmVsLmNoYXJBdCgwKStwdXJMZXZlbC5jaGFyQXQoMyk7XHJcbiAgICAgICAgbHZsQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssbnVsbCwoZSxsdmxOYW1lKT0+e1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uVUlfTGV2ZWxCdG5fQ2xpY2tlZC50b1N0cmluZygpLGx2bEJ0bi5uYW1lKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQobHZsQnRuKTtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xldmVsQnRucy5wdXNoKGx2bEJ0bik7XHJcblxyXG4gICAgICAgIHRoaXMubV9sZXZlbFBvcy5zZXQobHZsQnRuLG5ldyBMYXlhLlZlY3RvcjIobHZsQnRuLngsbHZsQnRuLnkpKTtcclxuICAgIH1cclxuXHJcbiAgICBTaG93TGV2ZWxzKGI6Ym9vbGVhbil7XHJcbiAgICAgICAgdGhpcy5tX2lzU2hvd011bHRpQnRucyA9ICFiO1xyXG5cclxuICAgICAgICBpZighdGhpcy5tX2lzU2hvd011bHRpQnRucyl7XHJcbiAgICAgICAgICAgIHRoaXMuTXVsdGlCdG4ubGFiZWwgPSBcIuWxleW8gFwiO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKGVsZW1lbnQse3g6dGhpcy5tX2xldmVsQnRuT3JpUG9zLngseTp0aGlzLm1fbGV2ZWxCdG5PcmlQb3MueX0sNTAsTGF5YS5FYXNlLmxpbmVhckluLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmlzaWJsZSA9IHRoaXMubV9pc1Nob3dNdWx0aUJ0bnM7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLk11bHRpQnRuLmxhYmVsID0gXCLmipjlj6BcIjtcclxuICAgICAgICAgICAgdGhpcy5tX2xldmVsQnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC52aXNpYmxlID0gdGhpcy5tX2lzU2hvd011bHRpQnRucztcclxuICAgICAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLm1fbGV2ZWxQb3MuZ2V0KGVsZW1lbnQpIGFzIExheWEuVmVjdG9yMjtcclxuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8oZWxlbWVudCx7eDpwb3MueCx5OnBvcy55fSw1MCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfMkQzREJ0bkNsaWNrZWQoKXtcclxuICAgICAgICB0aGlzLm1faXMyRCA9ICF0aGlzLm1faXMyRDtcclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkNhbWVyYS5SZXNldENhbWVyYSh0aGlzLm1faXMyRCk7XHJcbiAgICAgICAgaWYodGhpcy5tX2lzMkQpe1xyXG4gICAgICAgICAgICB0aGlzLl8yRDNEQnRuLmxhYmVsID0gXCIzRFwiO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLl8yRDNEQnRuLmxhYmVsID0gXCIyRFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgTXRQcm90b2NhbENvbW1vbiBmcm9tIFwiLi9NdFByb3RvY2FsQ29tbW9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNdEh0dHB7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lwOnN0cmluZztcclxuICAgIHByaXZhdGUgbV9wb3J0OnN0cmluZztcclxuICAgIHB1YmxpYyBVUkw6IHN0cmluZ1xyXG5cclxuICAgIHB1YmxpYyBtX3Rva2VuOnN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIG1faHR0cDpMYXlhLkh0dHBSZXF1ZXN0OyBcclxuICAgIHByaXZhdGUgbV9wcm90b2NhbENvbW1vbiA6IE10UHJvdG9jYWxDb21tb247XHJcbiAgICBwcml2YXRlIG1fY2FsbGJhY2s6YW55O1xyXG4gICAgcHJpdmF0ZSBtX2NhbGxlcjphbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXA6c3RyaW5nLHBvcnQ6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLm1faXAgPSBpcDtcclxuICAgICAgICB0aGlzLm1fcG9ydCA9IHBvcnQ7XHJcbiAgICAgICAgdGhpcy5VUkwgPSBcImh0dHA6Ly9cIit0aGlzLm1faXAgKyBcIjpcIiArIHRoaXMubV9wb3J0O1xyXG5cclxuICAgICAgICB0aGlzLm1faHR0cCAgPSBuZXcgTGF5YS5IdHRwUmVxdWVzdDtcclxuICAgICAgICB0aGlzLm1fcHJvdG9jYWxDb21tb24gPSBuZXcgTXRQcm90b2NhbENvbW1vbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0KHVybDpzdHJpbmcsY2FsbGVyOmFueSxjYWxsYmFjazphbnkpe1xyXG4gICAgICAgIHRoaXMubV9jYWxsZXIgPSBjYWxsZXI7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLHRoaXMsdGhpcy5vbkh0dHBSZXF1ZXN0Q29tcGxldGUpO1xyXG4gICAgICAgIHRoaXMubV9odHRwLm9uY2UoTGF5YS5FdmVudC5FUlJPUix0aGlzLHRoaXMub25IdHRwUmVxdWVzdEVycm9yKTtcclxuICAgICAgICB0aGlzLm1faHR0cC5zZW5kKHVybCxudWxsLCdnZXQnLCd0ZXh0Jyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICB9XHJcblxyXG4gICAgcHVibGljIHBvc3QodXJsOnN0cmluZyxkYXRhOmFueSxjYWxsZXI6YW55LGNhbGxiYWNrOmFueSl7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxlciA9IGNhbGxlcjtcclxuICAgICAgICB0aGlzLm1fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB0aGlzLm1faHR0cC5vbmNlKExheWEuRXZlbnQuQ09NUExFVEUsIHRoaXMsIHRoaXMub25IdHRwUmVxdWVzdENvbXBsZXRlKTtcclxuICAgICAgICB0aGlzLm1faHR0cC5vbmNlKExheWEuRXZlbnQuRVJST1IsIHRoaXMsIHRoaXMub25IdHRwUmVxdWVzdEVycm9yKTtcclxuICAgICAgICB0aGlzLm1faHR0cC5zZW5kKHVybCwgZGF0YSwgJ3Bvc3QnLCAnanNvbicsdGhpcy5tX3Byb3RvY2FsQ29tbW9uLkNvbW1vbkhlYWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkh0dHBSZXF1ZXN0RXJyb3IoZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxiYWNrLmFwcGx5KHRoaXMubV9jYWxsZXIsW3tzdGF0ZTpcImZhaWxlZFwiLG1zZzplfV0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcml2YXRlIG9uSHR0cFJlcXVlc3RDb21wbGV0ZShlOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fY2FsbGJhY2suYXBwbHkodGhpcy5tX2NhbGxlcixbe3N0YXRlOlwic3VjY2VlZFwiLGRhdGE6dGhpcy5tX2h0dHAuZGF0YX1dKTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiLy/ljY/orq4tLeivt+axguWktOaWh+S7tlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm90b2NvbENvbW1vbntcclxuXHJcbiAgICBwdWJsaWMgQ29tbW9uSGVhZGVyIDpBcnJheTxhbnk+O1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luID0gXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luVmFsdWUgPSBcIipcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93SGVhZGVycyA9IFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBBY2Nlc3NDb250cm9sQWxsb3dIZWFkZXJzVmFsdWUgPSBcIkNvbnRlbnQtVHlwZSxDb250ZW50LUxlbmd0aCwgQXV0aG9yaXphdGlvbiwgQWNjZXB0LFgtUmVxdWVzdGVkLVdpdGhcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93TWV0aG9kcyA9IFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kc1wiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBBY2Nlc3NDb250cm9sQWxsb3dNZXRob2RzVmFsdWUgPSBcIlBPU1QsIEdFVCwgT1BUSU9OUyxERUxFVEUsUFVUXCI7XHJcbiAgICBcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgWEF1dGhUb2tlbkZpZWxkOnN0cmluZyA9IFwiWC1BdXRoLVRva2VuXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFhBdXRoVG9rZW5GaWVsZFZhbHVlOnN0cmluZyA9IFwib3Blbi1zZXNhbWVcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXB0RmllbGQ6c3RyaW5nID0gXCJBY2NlcHRcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQ29udGVudFR5cGVGaWVsZFZhbHVlOnN0cmluZyA9IFwiYXBwbGljYXRpb24vanNvblwiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBDb250ZW50VHlwZUZpZWxkOnN0cmluZyA9IFwiQ29udGVudC1UeXBlXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFRva2VuRmllbGQ6c3RyaW5nID0gXCJjb29raWVcIjtcclxuIFxyXG4gICAgcHJpdmF0ZSBjb29raWU6c3RyaW5nO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyID0gbmV3IEFycmF5PGFueT4oKVxyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5BY2Nlc3NDb250cm9sQWxsb3dPcmlnaW4sdGhpcy5BY2Nlc3NDb250cm9sQWxsb3dPcmlnaW5WYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5Db21tb25IZWFkZXIucHVzaCh0aGlzLkFjY2Vzc0NvbnRyb2xBbGxvd0hlYWRlcnMsdGhpcy5BY2Nlc3NDb250cm9sQWxsb3dIZWFkZXJzVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5BY2Nlc3NDb250cm9sQWxsb3dNZXRob2RzLHRoaXMuQWNjZXNzQ29udHJvbEFsbG93TWV0aG9kc1ZhbHVlKTtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuWEF1dGhUb2tlbkZpZWxkLHRoaXMuWEF1dGhUb2tlbkZpZWxkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5BY2NlcHRGaWVsZCx0aGlzLkNvbnRlbnRUeXBlRmllbGRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5Db21tb25IZWFkZXIucHVzaCh0aGlzLkNvbnRlbnRUeXBlRmllbGQsdGhpcy5Db250ZW50VHlwZUZpZWxkVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRDb29raWVzKGNvb2tpZTpzdHJpbmcpe1xyXG4gICAgICAgIGNvb2tpZSA9IGNvb2tpZTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgTG9hZGVyID0gTGF5YS5sb2FkZXI7XHJcbmltcG9ydCBIYW5kbGVyID0gbGF5YS51dGlscy5IYW5kbGVyO1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuLi9HYW1lVUlcIjtcclxuaW1wb3J0IENvbW1vbiBmcm9tIFwiLi4vQ29tbW9uL0NvbW1vblwiO1xyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc01hbmFnZXJ7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6UmVzTWFuYWdlcjsgIFxyXG5cclxuICAgIHN0YXRpYyBJbnN0YW5jZSgpOlJlc01hbmFnZXJ7XHJcbiAgICAgICAgaWYoUmVzTWFuYWdlci5faW5zdGFuY2UgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIFJlc01hbmFnZXIuX2luc3RhbmNlID0gbmV3IFJlc01hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlc01hbmFnZXIuX2luc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBSZXNOYW1lcyA6IEFycmF5PGFueT47XHJcbiAgICBwdWJsaWMgUmVzRW5pdGl0eURpYyA6IExheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuUmVzTmFtZXMgPSBuZXcgQXJyYXk8YW55PigpO1xyXG4gICAgICAgIHRoaXMuUmVzRW5pdGl0eURpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WKoOi9veWkmuS4qui1hOa6kFxyXG4gICAgcHVibGljIExvYWRQcmVmYWJBc3NldHMocmVzTmFtZXM6QXJyYXk8YW55PixmaW5pc2hlZD86SGFuZGxlcil7XHJcbiAgICAgICAgaWYocmVzTmFtZXMgPT1udWxsIHx8cmVzTmFtZXMubGVuZ3RoID09IDApcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdGhpcy5SZXNOYW1lcyA9IHJlc05hbWVzO1xyXG5cclxuICAgICAgICBMYXlhLmxvYWRlci5jcmVhdGUocmVzTmFtZXMsXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBIYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVzTmFtZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlczpMYXlhLlNwcml0ZTNEID0gTGF5YS5sb2FkZXIuZ2V0UmVzKGVsZW1lbnQudXJsKSBhcyBMYXlhLlNwcml0ZTNEO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5SZXNFbml0aXR5RGljLmhhcyhlbGVtZW50LnVybCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJlc0VuaXRpdHlEaWMuc2V0KGVsZW1lbnQudXJsLHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmluaXNoZWQhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zOkFycmF5PGFueT4gPSBbZWxlbWVudC51cmwscmVzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQucnVuV2l0aChwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgICAgIEhhbmRsZXIuY3JlYXRlKHRoaXMsKHApPT57XHJcbiAgICAgICAgICAgICAgIHRoaXMuU2V0TG9hZFBlcmNlbnQocCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTsgXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEdldE9uZUFzc2V0KHVybDpzdHJpbmcpOkxheWEuU3ByaXRlM0R7XHJcbiAgICAgICAgaWYodXJsID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBpZih0aGlzLlJlc0VuaXRpdHlEaWMuaGFzKHVybCkpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5SZXNFbml0aXR5RGljLmdldCh1cmwpIGFzIExheWEuU3ByaXRlM0Q7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUmVsZWFzZU9uZUFzc2V0KHVybDpzdHJpbmcpe1xyXG4gICAgICAgIGlmKHVybCA9PSBudWxsKSByZXR1cm4gO1xyXG4gICAgICAgIHZhciByZXMgPSB0aGlzLkdldE9uZUFzc2V0KHVybCkgYXMgTGF5YS5TcHJpdGUzRDtcclxuXHJcbiAgICAgICAgaWYocmVzICE9IG51bGwpe1xyXG4gICAgICAgICAgICAvL+W+hea1i+ivle+8jOaYr+WQpumHiuaUvuS6huWGheWtmFxyXG4gICAgICAgICAgICByZXMuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvL+W+hea1i+ivlVxyXG4gICAgUmVsZWFzZUFsbEFzc2V0cygpe1xyXG4gICAgICAgIGlmKHRoaXMuUmVzRW5pdGl0eURpYyE9bnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMuUmVzTmFtZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuUmVzRW5pdGl0eURpYy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUmVzRW5pdGl0eURpYy5nZXQoZWxlbWVudCkuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2V0TG9hZFBlcmNlbnQocDpudW1iZXIpe1xyXG4gICAgICAgIEdhbWVVSS5faW5zdGFuY2UuU2V0TG9hZFBlcmNlbnQocCk7XHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkuTWFpblNjZW5lIHtcclxuICAgIGV4cG9ydCBjbGFzcyBNYWluU2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBEZXBCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIFVzYWdlQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBBcmVhQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBNdWx0aUJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgXzJEM0RCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIEFsbEJ0bjpMYXlhLkJ1dHRvbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiU2NlbmVcIixcInByb3BzXCI6e1wid2lkdGhcIjo2MDAsXCJoZWlnaHRcIjo5MDB9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6MjcxLFwieFwiOjIzLFwid2lkdGhcIjo4MCxcInZhclwiOlwiRGVwQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIuenkeWupFwiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6N30se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjozNTUsXCJ4XCI6MjMsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJVc2FnZUJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFNpemVcIjozMCxcImxhYmVsXCI6XCLnlKjpgJRcIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjh9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NDM3LFwieFwiOjIzLFwid2lkdGhcIjo4MCxcInZhclwiOlwiQXJlYUJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFNpemVcIjozMCxcImxhYmVsXCI6XCLpnaLnp69cIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjl9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NjAwLFwieFwiOjQ3NixcIndpZHRoXCI6ODAsXCJ2YXJcIjpcIk11bHRpQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIuaKmOWPoFwiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6MTN9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NjgwLFwieFwiOjIzLFwid2lkdGhcIjo4MCxcInZhclwiOlwiXzJEM0RCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxTaXplXCI6MzAsXCJsYWJlbFwiOlwiMkRcIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjE0fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjY4MCxcInhcIjo0NzYsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJBbGxCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxTaXplXCI6MzAsXCJsYWJlbFwiOlwi5YWo6YOoXCIsXCJoZWlnaHRcIjo2MH0sXCJjb21wSWRcIjoyNn1dLFwibG9hZExpc3RcIjpbXCJjb21wL2J1dHRvbi5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KE1haW5TY2VuZVVJLnVpVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkuTWFpblNjZW5lLk1haW5TY2VuZVVJXCIsTWFpblNjZW5lVUkpO1xyXG59XHJcbmV4cG9ydCBtb2R1bGUgdWkucG9ydGFsIHtcclxuICAgIGV4cG9ydCBjbGFzcyBMb2FkaW5nVUkgZXh0ZW5kcyBTY2VuZSB7XHJcblx0XHRwdWJsaWMgQmFja2dyb3VuZDpMYXlhLkltYWdlO1xuXHRcdHB1YmxpYyBUaXRsZTpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyBMb2dpbkJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgUHJvZ3Jlc3NCYXI6TGF5YS5Qcm9ncmVzc0JhcjtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInBvcnRhbC9Mb2FkaW5nXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnBvcnRhbC5Mb2FkaW5nVUlcIixMb2FkaW5nVUkpO1xyXG59XHIiXX0=
